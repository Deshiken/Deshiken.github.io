(self.webpackChunkboard_game_helper=self.webpackChunkboard_game_helper||[]).push([[721],{2617:(Bt,ze,Q)=>{"use strict";Q.d(ze,{K:()=>T});var de=Q(9969);const T=(0,de.hZ)("simpleFadeAnimation",[(0,de.wk)("in",(0,de.iF)({opacity:1})),(0,de.kY)(":enter",[(0,de.iF)({opacity:0}),(0,de.i0)(400)]),(0,de.kY)(":leave",(0,de.i0)(400,(0,de.iF)({opacity:0})))])},6029:(Bt,ze,Q)=>{"use strict";Q.d(ze,{d:()=>Ee});var de=Q(177),T=Q(4438),i=Q(5889);const D=["savedOptionsToast"];let Ee=(()=>{class ie{constructor(Jt){this.toastService=Jt,this.message="Your item has been saved",this.marginTop=0}ngOnInit(){this.toastService.toastSubject.subscribe(()=>{console.log("subscription notified"),this.showToast()})}showToast(){this.savedOptionsToast.nativeElement.classList.add("show","fade-in"),window.setTimeout(()=>{this.savedOptionsToast.nativeElement.classList.remove("fade-in"),this.savedOptionsToast.nativeElement.classList.add("fade-out")},3e3),window.setTimeout(()=>{this.savedOptionsToast.nativeElement.classList.remove("show")},5e3)}static{this.\u0275fac=function(ct){return new(ct||ie)(T.rXU(i.f))}}static{this.\u0275cmp=T.VBU({type:ie,selectors:[["app-toast"]],viewQuery:function(ct,kt){if(1&ct&&T.GBs(D,5),2&ct){let _t;T.mGM(_t=T.lsd())&&(kt.savedOptionsToast=_t.first)}},inputs:{message:"message",marginTop:"marginTop"},standalone:!0,features:[T.aNF],decls:6,vars:3,consts:[["savedOptionsToast",""],["data-bs-animation","true","data-bs-autohide","true","data-bs-delay","3000","role","alert","aria-live","assertive","aria-atomic","true",1,"toast","fade","align-items-center","fixed-top"],[1,"d-flex"],[1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","me-2","m-auto"]],template:function(ct,kt){1&ct&&(T.j41(0,"div",1,0)(2,"div",2)(3,"div",3),T.EFF(4),T.k0s(),T.nrm(5,"button",4),T.k0s()()),2&ct&&(T.xc7("margin-top",kt.marginTop,"px"),T.R7$(4),T.SpI(" ",kt.message," "))},dependencies:[de.MD]})}}return ie})()},9433:(Bt,ze,Q)=>{"use strict";Q.d(ze,{v:()=>T});var de=Q(4438);let T=(()=>{class i{constructor(){}getRandomEntryFromMap(Ee){const ie=Array.from(Ee);return ie[Math.floor(Math.random()*ie.length)]}getRandomEntryFromArray(Ee){return Ee[Math.floor(Math.random()*Ee.length)]}deleteFromArray(Ee,ie){const De=Ee.indexOf(ie);De>-1&&Ee.splice(De,1)}mergeRecursive(Ee,ie){for(var De in ie)try{Ee[De]=ie[De].constructor==Object?this.mergeRecursive(Ee[De],ie[De]):ie[De]}catch{Ee[De]=ie[De]}return Ee}static{this.\u0275fac=function(ie){return new(ie||i)}}static{this.\u0275prov=de.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()},5889:(Bt,ze,Q)=>{"use strict";Q.d(ze,{f:()=>i});var de=Q(5254),T=Q(4438);let i=(()=>{class D{constructor(){this.toastSubject=new de.B7}static{this.\u0275fac=function(De){return new(De||D)}}static{this.\u0275prov=T.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},9721:(Bt,ze,Q)=>{"use strict";Q.r(ze),Q.d(ze,{UprisingModule:()=>Ir});var de=Q(177),T=Q(8431),i=Q(4438);let D=(()=>{class c{constructor(){this.uprisingMaps=new Map,this.selectedMap={mapName:"",description:"",mapHTML:new Array,mapSize:Ee.Medium};let v=window.localStorage.getItem("uprisingMaps");v&&(this.uprisingMaps=new Map(JSON.parse(v)))}static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var Ee=function(c){return c.Small="Small",c.Medium="Medium",c.Large="Large",c.Huge="Huge",c}(Ee||{}),ie=Q(8326),De=Q(6357);function Jt(c,b){if(1&c&&(i.j41(0,"option",13),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("ngValue",v.key),i.R7$(),i.Lme("",v.key," - ",v.value,"")}}function ct(c,b){if(1&c&&(i.j41(0,"option",13),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("ngValue",v.value),i.R7$(),i.SpI(" ",v.value.mapName," ")}}function kt(c,b){if(1&c&&(i.j41(0,"p")(1,"b"),i.EFF(2,"Map Description: "),i.k0s(),i.EFF(3),i.k0s()),2&c){const v=i.XpG(3);i.R7$(3),i.JRh(v.selectedMap.description)}}function _t(c,b){if(1&c&&(i.j41(0,"div")(1,"p")(2,"b"),i.EFF(3,"Map Size: "),i.k0s(),i.EFF(4),i.k0s(),i.DNE(5,kt,4,1,"p",17),i.k0s()),2&c){const v=i.XpG(2);i.R7$(4),i.JRh(v.selectedMap.mapSize),i.R7$(),i.Y8G("ngIf",v.selectedMap.description)}}function vr(c,b){if(1&c){const v=i.RV6();i.j41(0,"div",14)(1,"div",3)(2,"h5",4),i.EFF(3,"Load an existing map"),i.k0s(),i.j41(4,"select",15),i.mxI("ngModelChange",function(_){i.eBV(v);const A=i.XpG();return i.DH7(A.selectedMap,_)||(A.selectedMap=_),i.Njj(_)}),i.j41(5,"option",16),i.EFF(6,"Select an existing map"),i.k0s(),i.DNE(7,ct,2,2,"option",9),i.nI1(8,"keyvalue"),i.k0s(),i.DNE(9,_t,6,2,"div",17),i.j41(10,"button",10),i.bIt("click",function(){i.eBV(v);const _=i.XpG();return i.Njj(_.continueBuilding())}),i.EFF(11," Continue building "),i.nrm(12,"i",11),i.k0s()()()}if(2&c){const v=i.XpG();i.R7$(4),i.R50("ngModel",v.selectedMap),i.R7$(),i.Y8G("value",null)("selected",!0)("disabled",!0),i.R7$(2),i.Y8G("ngForOf",i.bMT(8,6,v.mapBuilderService.uprisingMaps)),i.R7$(2),i.Y8G("ngIf",v.selectedMap)}}let $n=(()=>{class c{constructor(v,C){this.mapBuilderService=v,this.router=C,this.UprisingMapSize=Ee,this.selectedMap=null,this.newMapName="",this.newMapSize=Ee.Medium,this.mapSizeOptions=new Map([[Ee.Small,"Up to 2 tiles high by 3 tiles wide"],[Ee.Medium,"Up to 3 tiles high by 4 tiles wide"],[Ee.Large,"Up to 4 tiles high by 5 tiles wide"],[Ee.Huge,"Up to 5 tiles high by 6 tiles wide"]])}startNewMap(){this.newMapName&&this.newMapSize&&(console.log("adding map to uprising maps",this.newMap()),this.mapBuilderService.uprisingMaps.set(this.newMapName,this.newMap()),this.router.navigate(["/uprising/map-builder",{"selected-map":this.newMapName}]))}newMap(){return{mapName:this.newMapName,mapSize:this.newMapSize,mapHTML:new Array,description:""}}continueBuilding(){this.router.navigate(["/uprising/map-builder",{"selected-map":this.selectedMap?.mapName}])}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(D),i.rXU(T.Ix))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-map-builder-options"]],decls:18,vars:7,consts:[[1,"container"],[3,"title"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],["for","mapName",1,"form-label"],["type","text","id","mapName",1,"form-control",3,"ngModelChange","ngModel"],["for","mapSize",1,"h6"],["id","mapSize",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-primary","my-3",3,"click"],[1,"bi","bi-arrow-right"],["class","card",4,"ngIf"],[3,"ngValue"],[1,"card"],["id","mapSelect",1,"form-select",3,"ngModelChange","ngModel"],[3,"value","selected","disabled"],[4,"ngIf"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"div",2)(3,"div",3)(4,"h5",4),i.EFF(5,"Start a new map"),i.k0s(),i.j41(6,"label",5),i.EFF(7,"Map Name"),i.k0s(),i.j41(8,"input",6),i.mxI("ngModelChange",function(N){return i.DH7(_.newMapName,N)||(_.newMapName=N),N}),i.k0s(),i.j41(9,"label",7),i.EFF(10,"Map Size:"),i.k0s(),i.j41(11,"select",8),i.mxI("ngModelChange",function(N){return i.DH7(_.newMapSize,N)||(_.newMapSize=N),N}),i.DNE(12,Jt,2,3,"option",9),i.nI1(13,"keyvalue"),i.k0s(),i.j41(14,"button",10),i.bIt("click",function(){return _.startNewMap()}),i.EFF(15," Create new map "),i.nrm(16,"i",11),i.k0s()()(),i.DNE(17,vr,13,8,"div",12),i.k0s()),2&C&&(i.R7$(),i.Y8G("title","Map Builder Option"),i.R7$(7),i.R50("ngModel",_.newMapName),i.R7$(3),i.R50("ngModel",_.newMapSize),i.R7$(),i.Y8G("ngForOf",i.bMT(13,5,_.mapSizeOptions)),i.R7$(5),i.Y8G("ngIf",_.mapBuilderService.uprisingMaps.size>0))},dependencies:[de.Sq,de.bT,ie.xH,ie.y7,ie.me,ie.wz,ie.BC,ie.vS,De.L,de.lG]})}}return c})();var $e=Q(920),et=Q.n($e),fe=Q(467);const nt=(()=>{let c=0;return()=>(c+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${c}`)})();function ft(c){const b=[];for(let v=0,C=c.length;v<C;v++)b.push(c[v]);return b}let J=null;function Lt(c={}){return J||(c.includeStyleProperties?(J=c.includeStyleProperties,J):(J=ft(window.getComputedStyle(document.documentElement)),J))}function rt(c,b){const C=(c.ownerDocument.defaultView||window).getComputedStyle(c).getPropertyValue(b);return C?parseFloat(C.replace("px","")):0}function xi(c,b={}){const v=b.width||function Cn(c){const b=rt(c,"border-left-width"),v=rt(c,"border-right-width");return c.clientWidth+b+v}(c),C=b.height||function Kr(c){const b=rt(c,"border-top-width"),v=rt(c,"border-bottom-width");return c.clientHeight+b+v}(c);return{width:v,height:C}}const V=16384;function yr(c){return new Promise((b,v)=>{const C=new Image;C.onload=()=>{C.decode().then(()=>{requestAnimationFrame(()=>b(C))})},C.onerror=v,C.crossOrigin="anonymous",C.decoding="async",C.src=c})}function st(){return(st=(0,fe.A)(function*(c){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(c)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})).apply(this,arguments)}function $t(){return $t=(0,fe.A)(function*(c,b,v){const C="http://www.w3.org/2000/svg",_=document.createElementNS(C,"svg"),A=document.createElementNS(C,"foreignObject");return _.setAttribute("width",`${b}`),_.setAttribute("height",`${v}`),_.setAttribute("viewBox",`0 0 ${b} ${v}`),A.setAttribute("width","100%"),A.setAttribute("height","100%"),A.setAttribute("x","0"),A.setAttribute("y","0"),A.setAttribute("externalResourcesRequired","true"),_.appendChild(A),A.appendChild(c),function kn(c){return st.apply(this,arguments)}(_)}),$t.apply(this,arguments)}const Ge=(c,b)=>{if(c instanceof b)return!0;const v=Object.getPrototypeOf(c);return null!==v&&(v.constructor.name===b.name||Ge(v,b))};function Ei(c,b,v,C){const _=window.getComputedStyle(c,v),A=_.getPropertyValue("content");if(""===A||"none"===A)return;const N=nt();try{b.className=`${b.className} ${N}`}catch{return}const Z=document.createElement("style");Z.appendChild(function br(c,b,v,C){const _=`.${c}:${b}`,A=v.cssText?function q(c){const b=c.getPropertyValue("content");return`${c.cssText} content: '${b.replace(/'|"/g,"")}';`}(v):function Pi(c,b){return Lt(b).map(v=>`${v}: ${c.getPropertyValue(v)}${c.getPropertyPriority(v)?" !important":""};`).join(" ")}(v,C);return document.createTextNode(`${_}{${A}}`)}(N,v,_,C)),b.appendChild(Z)}const cn="application/font-woff",Mi="image/jpeg",Nt={woff:cn,woff2:cn,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Mi,jpeg:Mi,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Jr(c){const b=function _r(c){const b=/\.([^./]*?)$/g.exec(c);return b?b[1]:""}(c).toLowerCase();return Nt[b]||""}function Se(c){return-1!==c.search(/^(data:)/)}function Zr(c,b){return`data:${b};base64,${c}`}function pt(c,b,v){return it.apply(this,arguments)}function it(){return(it=(0,fe.A)(function*(c,b,v){const C=yield fetch(c,b);if(404===C.status)throw new Error(`Resource "${C.url}" not found`);const _=yield C.blob();return new Promise((A,N)=>{const Z=new FileReader;Z.onerror=N,Z.onloadend=()=>{try{A(v({res:C,result:Z.result}))}catch(ve){N(ve)}},Z.readAsDataURL(_)})})).apply(this,arguments)}const Tr={};function Nn(c,b,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,fe.A)(function*(c,b,v){const C=function Qt(c,b,v){let C=c.replace(/\?.*/,"");return v&&(C=c),/ttf|otf|eot|woff2?/i.test(C)&&(C=C.replace(/.*\//,"")),b?`[${b}]${C}`:C}(c,b,v.includeQueryParams);if(null!=Tr[C])return Tr[C];let _;v.cacheBust&&(c+=(/\?/.test(c)?"&":"?")+(new Date).getTime());try{const A=yield pt(c,v.fetchRequestInit,({res:N,result:Z})=>(b||(b=N.headers.get("Content-Type")||""),function wr(c){return c.split(/,/)[1]}(Z)));_=Zr(A,b)}catch(A){_=v.imagePlaceholder||"";let N=`Failed to fetch resource: ${c}`;A&&(N="string"==typeof A?A:A.message),N&&console.warn(N)}return Tr[C]=_,_})).apply(this,arguments)}function tt(){return(tt=(0,fe.A)(function*(c){const b=c.toDataURL();return"data:,"===b?c.cloneNode(!1):yr(b)})).apply(this,arguments)}function zn(){return(zn=(0,fe.A)(function*(c,b){if(c.currentSrc){const A=document.createElement("canvas"),N=A.getContext("2d");return A.width=c.clientWidth,A.height=c.clientHeight,N?.drawImage(c,0,0,A.width,A.height),yr(A.toDataURL())}const v=c.poster,C=Jr(v);return yr(yield Nn(v,C,b))})).apply(this,arguments)}function fn(){return(fn=(0,fe.A)(function*(c,b){var v;try{if(null!==(v=c?.contentDocument)&&void 0!==v&&v.body)return yield ti(c.contentDocument.body,b,!0)}catch{}return c.cloneNode(!1)})).apply(this,arguments)}function pn(){return pn=(0,fe.A)(function*(c,b){return Ge(c,HTMLCanvasElement)?function xt(c){return tt.apply(this,arguments)}(c):Ge(c,HTMLVideoElement)?function zt(c,b){return zn.apply(this,arguments)}(c,b):Ge(c,HTMLIFrameElement)?function Qr(c,b){return fn.apply(this,arguments)}(c,b):c.cloneNode(Wn(c))}),pn.apply(this,arguments)}const dn=c=>null!=c.tagName&&"SLOT"===c.tagName.toUpperCase(),Wn=c=>null!=c.tagName&&"SVG"===c.tagName.toUpperCase();function Gn(){return(Gn=(0,fe.A)(function*(c,b,v){var C,_;if(Wn(b))return b;let A=[];return A=dn(c)&&c.assignedNodes?ft(c.assignedNodes()):Ge(c,HTMLIFrameElement)&&null!==(C=c.contentDocument)&&void 0!==C&&C.body?ft(c.contentDocument.body.childNodes):ft((null!==(_=c.shadowRoot)&&void 0!==_?_:c).childNodes),0===A.length||Ge(c,HTMLVideoElement)||(yield A.reduce((N,Z)=>N.then(()=>ti(Z,v)).then(ve=>{ve&&b.appendChild(ve)}),Promise.resolve())),b})).apply(this,arguments)}function hn(){return(hn=(0,fe.A)(function*(c,b){const v=c.querySelectorAll?c.querySelectorAll("use"):[];if(0===v.length)return c;const C={};for(let A=0;A<v.length;A++){const Z=v[A].getAttribute("xlink:href");if(Z){const ve=c.querySelector(Z),vt=document.querySelector(Z);!ve&&vt&&!C[Z]&&(C[Z]=yield ti(vt,b,!0))}}const _=Object.values(C);if(_.length){const A="http://www.w3.org/1999/xhtml",N=document.createElementNS(A,"svg");N.setAttribute("xmlns",A),N.style.position="absolute",N.style.width="0",N.style.height="0",N.style.overflow="hidden",N.style.display="none";const Z=document.createElementNS(A,"defs");N.appendChild(Z);for(let ve=0;ve<_.length;ve++)Z.appendChild(_[ve]);c.appendChild(N)}return c})).apply(this,arguments)}function ti(c,b,v){return ni.apply(this,arguments)}function ni(){return ni=(0,fe.A)(function*(c,b,v){return v||!b.filter||b.filter(c)?Promise.resolve(c).then(C=>function Fi(c,b){return pn.apply(this,arguments)}(C,b)).then(C=>function ei(c,b,v){return Gn.apply(this,arguments)}(c,C,b)).then(C=>function kr(c,b,v){return Ge(b,Element)&&(function Ai(c,b,v){const C=b.style;if(!C)return;const _=window.getComputedStyle(c);_.cssText?(C.cssText=_.cssText,C.transformOrigin=_.transformOrigin):Lt(v).forEach(A=>{let N=_.getPropertyValue(A);"font-size"===A&&N.endsWith("px")&&(N=Math.floor(parseFloat(N.substring(0,N.length-2)))-.1+"px"),Ge(c,HTMLIFrameElement)&&"display"===A&&"inline"===N&&(N="block"),"d"===A&&b.getAttribute("d")&&(N=`path(${b.getAttribute("d")})`),C.setProperty(A,N,_.getPropertyPriority(A))})}(c,b,v),function xn(c,b,v){Ei(c,b,":before",v),Ei(c,b,":after",v)}(c,b,v),function Un(c,b){Ge(c,HTMLTextAreaElement)&&(b.innerHTML=c.value),Ge(c,HTMLInputElement)&&b.setAttribute("value",c.value)}(c,b),function Cr(c,b){if(Ge(c,HTMLSelectElement)){const C=Array.from(b.children).find(_=>c.value===_.getAttribute("value"));C&&C.setAttribute("selected","")}}(c,b)),b}(c,C,b)).then(C=>function Ri(c,b){return hn.apply(this,arguments)}(C,b)):null}),ni.apply(this,arguments)}const Wt=/url\((['"]?)([^'"]+?)\1\)/g,go=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Hn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function tn(){return(tn=(0,fe.A)(function*(c,b,v,C,_){try{const A=v?function Tn(c,b){if(c.match(/^[a-z]+:\/\//i))return c;if(c.match(/^\/\//))return window.location.protocol+c;if(c.match(/^[a-z]+:/i))return c;const v=document.implementation.createHTMLDocument(),C=v.createElement("base"),_=v.createElement("a");return v.head.appendChild(C),v.body.appendChild(_),b&&(C.href=b),_.href=c,_.href}(b,v):b,N=Jr(b);let Z;return Z=_?Zr(yield _(A),N):yield Nn(A,N,C),c.replace(function Zo(c){const b=c.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${b})(['"]?\\))`,"g")}(b),`$1${Z}$3`)}catch{}return c})).apply(this,arguments)}function mo(c){return-1!==c.search(Wt)}function Gt(c,b,v){return oe.apply(this,arguments)}function oe(){return oe=(0,fe.A)(function*(c,b,v){if(!mo(c))return c;const C=function Ii(c,{preferredFontFormat:b}){return b?c.replace(Hn,v=>{for(;;){const[C,,_]=go.exec(v)||[];if(!_)return"";if(_===b)return`src: ${C};`}}):c}(c,v);return function St(c){const b=[];return c.replace(Wt,(v,C,_)=>(b.push(_),v)),b.filter(v=>!Se(v))}(C).reduce((A,N)=>A.then(Z=>function en(c,b,v,C,_){return tn.apply(this,arguments)}(Z,N,b,v)),Promise.resolve(C))}),oe.apply(this,arguments)}function Pt(c,b,v){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,fe.A)(function*(c,b,v){var C;const _=null===(C=b.style)||void 0===C?void 0:C.getPropertyValue(c);if(_){const A=yield Gt(_,null,v);return b.style.setProperty(c,A,b.style.getPropertyPriority(c)),!0}return!1})).apply(this,arguments)}function ji(){return(ji=(0,fe.A)(function*(c,b){(yield Pt("background",c,b))||(yield Pt("background-image",c,b)),(yield Pt("mask",c,b))||(yield Pt("-webkit-mask",c,b))||(yield Pt("mask-image",c,b))||(yield Pt("-webkit-mask-image",c,b))})).apply(this,arguments)}function Yn(){return(Yn=(0,fe.A)(function*(c,b){const v=Ge(c,HTMLImageElement);if((!v||Se(c.src))&&(!Ge(c,SVGImageElement)||Se(c.href.baseVal)))return;const C=v?c.src:c.href.baseVal,_=yield Nn(C,Jr(C),b);yield new Promise((A,N)=>{c.onload=A,c.onerror=b.onImageErrorHandler?(...ve)=>{try{A(b.onImageErrorHandler(...ve))}catch(vt){N(vt)}}:N;const Z=c;Z.decode&&(Z.decode=A),"lazy"===Z.loading&&(Z.loading="eager"),v?(c.srcset="",c.src=_):c.href.baseVal=_})})).apply(this,arguments)}function Bi(){return(Bi=(0,fe.A)(function*(c,b){const C=ft(c.childNodes).map(_=>vo(_,b));yield Promise.all(C).then(()=>c)})).apply(this,arguments)}function vo(c,b){return gn.apply(this,arguments)}function gn(){return gn=(0,fe.A)(function*(c,b){Ge(c,Element)&&(yield function Di(c,b){return ji.apply(this,arguments)}(c,b),yield function dt(c,b){return Yn.apply(this,arguments)}(c,b),yield function Qo(c,b){return Bi.apply(this,arguments)}(c,b))}),gn.apply(this,arguments)}const Li={};function $i(c){return ri.apply(this,arguments)}function ri(){return(ri=(0,fe.A)(function*(c){let b=Li[c];return null!=b||(b={url:c,cssText:yield(yield fetch(c)).text()},Li[c]=b),b})).apply(this,arguments)}function xr(c,b){return ii.apply(this,arguments)}function ii(){return ii=(0,fe.A)(function*(c,b){let v=c.cssText;const C=/url\(["']?([^"')]+)["']?\)/g,A=(v.match(/url\([^)]+\)/g)||[]).map(function(){var N=(0,fe.A)(function*(Z){let ve=Z.replace(C,"$1");return ve.startsWith("https://")||(ve=new URL(ve,c.url).href),pt(ve,b.fetchRequestInit,({result:vt})=>(v=v.replace(Z,`url(${vt})`),[Z,vt]))});return function(Z){return N.apply(this,arguments)}}());return Promise.all(A).then(()=>v)}),ii.apply(this,arguments)}function oi(c){if(null==c)return[];const b=[];let C=c.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const _=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const ve=_.exec(C);if(null===ve)break;b.push(ve[0])}C=C.replace(_,"");const A=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,Z=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let ve=A.exec(C);if(null===ve){if(ve=Z.exec(C),null===ve)break;A.lastIndex=Z.lastIndex}else Z.lastIndex=A.lastIndex;b.push(ve[0])}return b}function qn(){return(qn=(0,fe.A)(function*(c,b){const v=[],C=[];return c.forEach(_=>{if("cssRules"in _)try{ft(_.cssRules||[]).forEach((A,N)=>{if(A.type===CSSRule.IMPORT_RULE){let Z=N+1;const vt=$i(A.href).then(Ht=>xr(Ht,b)).then(Ht=>oi(Ht).forEach(Ji=>{try{_.insertRule(Ji,Ji.startsWith("@import")?Z+=1:_.cssRules.length)}catch(lr){console.error("Error inserting rule from remote css",{rule:Ji,error:lr})}})).catch(Ht=>{console.error("Error loading remote css",Ht.toString())});C.push(vt)}})}catch(A){const N=c.find(Z=>null==Z.href)||document.styleSheets[0];null!=_.href&&C.push($i(_.href).then(Z=>xr(Z,b)).then(Z=>oi(Z).forEach(ve=>{N.insertRule(ve,N.cssRules.length)})).catch(Z=>{console.error("Error loading remote stylesheet",Z)})),console.error("Error inlining remote css file",A)}}),Promise.all(C).then(()=>(c.forEach(_=>{if("cssRules"in _)try{ft(_.cssRules||[]).forEach(A=>{v.push(A)})}catch(A){console.error(`Error while reading CSS rules from ${_.href}`,A)}}),v))})).apply(this,arguments)}function Ni(){return Ni=(0,fe.A)(function*(c,b){if(null==c.ownerDocument)throw new Error("Provided element is not within a Document");const v=ft(c.ownerDocument.styleSheets),C=yield function bo(c,b){return qn.apply(this,arguments)}(v,b);return function ea(c){return c.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>mo(b.style.getPropertyValue("src")))}(C)}),Ni.apply(this,arguments)}function Sr(c){return c.trim().replace(/["']/g,"")}function ai(){return ai=(0,fe.A)(function*(c,b){const v=yield function Pn(c,b){return Ni.apply(this,arguments)}(c,b),C=function zi(c){const b=new Set;return function v(C){(C.style.fontFamily||getComputedStyle(C).fontFamily).split(",").forEach(A=>{b.add(Sr(A))}),Array.from(C.children).forEach(A=>{A instanceof HTMLElement&&v(A)})}(c),b}(c);return(yield Promise.all(v.filter(A=>C.has(Sr(A.style.fontFamily))).map(A=>Gt(A.cssText,A.parentStyleSheet?A.parentStyleSheet.href:null,b)))).join("\n")}),ai.apply(this,arguments)}function Wi(){return Wi=(0,fe.A)(function*(c,b){const v=null!=b.fontEmbedCSS?b.fontEmbedCSS:b.skipFonts?null:yield function _o(c,b){return ai.apply(this,arguments)}(c,b);if(v){const C=document.createElement("style"),_=document.createTextNode(v);C.appendChild(_),c.firstChild?c.insertBefore(C,c.firstChild):c.appendChild(C)}}),Wi.apply(this,arguments)}function Gi(){return Gi=(0,fe.A)(function*(c,b={}){const{width:v,height:C}=xi(c,b),_=yield ti(c,b,!0);return yield function Xn(c,b){return Wi.apply(this,arguments)}(_,b),yield vo(_,b),function yo(c,b){const{style:v}=c;b.backgroundColor&&(v.backgroundColor=b.backgroundColor),b.width&&(v.width=`${b.width}px`),b.height&&(v.height=`${b.height}px`);const C=b.style;null!=C&&Object.keys(C).forEach(_=>{v[_]=C[_]})}(_,b),yield function Zt(c,b,v){return $t.apply(this,arguments)}(_,v,C)}),Gi.apply(this,arguments)}function Pr(){return Pr=(0,fe.A)(function*(c,b={}){const{width:v,height:C}=xi(c,b),_=yield function En(c){return Gi.apply(this,arguments)}(c,b),A=yield yr(_),N=document.createElement("canvas"),Z=N.getContext("2d"),ve=b.pixelRatio||function ho(){let c,b;try{b=process}catch{}const v=b&&b.env?b.env.devicePixelRatio:null;return v&&(c=parseInt(v,10),Number.isNaN(c)&&(c=1)),c||window.devicePixelRatio||1}(),vt=b.canvasWidth||v,Ht=b.canvasHeight||C;return N.width=vt*ve,N.height=Ht*ve,b.skipAutoScale||function je(c){(c.width>V||c.height>V)&&(c.width>V&&c.height>V?c.width>c.height?(c.height*=V/c.width,c.width=V):(c.width*=V/c.height,c.height=V):c.width>V?(c.height*=V/c.width,c.width=V):(c.width*=V/c.height,c.height=V))}(N),N.style.width=`${vt}`,N.style.height=`${Ht}`,b.backgroundColor&&(Z.fillStyle=b.backgroundColor,Z.fillRect(0,0,N.width,N.height)),Z.drawImage(A,0,0,N.width,N.height),N}),Pr.apply(this,arguments)}function wt(){return(wt=(0,fe.A)(function*(c,b={}){return(yield function si(c){return Pr.apply(this,arguments)}(c,b)).toDataURL("image/jpeg",b.quality||1)})).apply(this,arguments)}var nn=Q(5889),Co=Q(6029);const Er=(c,b,v,C)=>({"map-small":c,"map-medium":b,"map-large":v,"map-huge":C});function ci(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",19),i.k0s())}function Ye(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",20),i.k0s())}function rn(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",21),i.k0s())}function ko(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",22),i.k0s())}function xo(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",23),i.k0s())}function Mr(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",24),i.k0s())}function Zn(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",25),i.k0s())}function fi(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",26),i.k0s())}function So(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",27),i.k0s())}function pi(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",28),i.k0s())}function na(c,b){1&c&&(i.j41(0,"div"),i.nrm(1,"img",29),i.k0s())}let Oe=(()=>{class c{constructor(){this.mapBuilderService=(0,i.WQX)(D),this.route=(0,i.WQX)(T.nX),this.toastService=(0,i.WQX)(nn.f),this.selectedMap={mapSize:Ee.Medium,mapHTML:new Array,mapName:"",description:""},this.UprisingMapSize=Ee,this.mapTiles=new Array,this.mapFlagsGreen=new Array,this.mapFlagsYellow=new Array,this.mapFlagsOrange=new Array,this.mapFlagsRed=new Array,this.mapPortalsBlue=new Array,this.mapPortalsPurple=new Array,this.mapPortalsTeal=new Array,this.mapCapitols=new Array,this.mapMountains=new Array,this.mapWaterRegions=new Array}ngOnInit(){this.loadMap(),et()(".dropzone").dropzone({overlap:.01,ondropactivate:function(v){v.target.classList.add("drop-active")},ondragenter:function(v){var C=v.relatedTarget;v.target.classList.add("drop-target"),C.classList.add("can-drop")},ondragleave:function(v){v.target.classList.remove("drop-target"),v.relatedTarget.classList.remove("can-drop")},ondrop:function(v){v.relatedTarget.remove()},ondropdeactivate:function(v){v.target.classList.remove("drop-active"),v.target.classList.remove("drop-target")}}),et()(".drag-drop").draggable({inertia:!0,autoScroll:!0,listeners:{move(v){var C=v.target,_=(parseFloat(C.getAttribute("data-x"))||0)+v.dx,A=(parseFloat(C.getAttribute("data-y"))||0)+v.dy;C.style.transform="translate("+_+"px, "+A+"px)",C.setAttribute("data-x",_),C.setAttribute("data-y",A)}}})}saveAsImage(){(function wo(c){return wt.apply(this,arguments)})(document.getElementById("image-group")).then(function(C){console.log("dataUrl",C);let _=document.createElement("a");_.download="map.png",_.href=C,_.click()})}setMapHTML(v){let C=document.getElementById("inner-div");if(v?.mapHTML.length>0&&C)for(let _ of v.mapHTML)C.innerHTML+=_}saveToLocalStorage(){let v=document.getElementsByName("map-element"),C=new Array;v.forEach(_=>{C.push(_.outerHTML)}),v&&(this.selectedMap.mapHTML=C,this.mapBuilderService.uprisingMaps.set(this.selectedMap.mapName,this.selectedMap),localStorage.setItem("uprisingMaps",JSON.stringify(Array.from(this.mapBuilderService.uprisingMaps.entries()))),this.toastService.toastSubject.next())}loadMap(){let v=this.route.snapshot.paramMap.get("selected-map");v&&(this.selectedMap=this.mapBuilderService.uprisingMaps.get(v),this.setMapHTML(this.selectedMap))}static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-map-builder"]],decls:60,vars:20,consts:[[1,"container"],[3,"title"],[3,"message"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-row"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"dropdown","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item","pointer",3,"click"],[1,"bi","bi-trash","dropzone",2,"font-size","2rem"],["id","image-group",1,"draw-zone",3,"ngClass"],[4,"ngFor","ngForOf"],["id","inner-div"],[1,"my-3"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3","placeholder","Add a description and any special instructions on playing this map here.",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],[1,"btn","btn-primary","me-2",3,"click"],["src","../../../assets/uprising_map_builder/MapSegment.svg","name","map-element","width","190px",1,"drag-drop","position-absolute","bottom-0","start-0","z1"],["src","../../../assets/uprising_map_builder/Castle.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Mountains.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Water.svg","name","map-element","width","65px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagGreen.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagYellow.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagOrange.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagRed.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Portal-Blue.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Portal-Purple.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Portal-Teal.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1)(2,"app-toast",2),i.j41(3,"div",3)(4,"div",4)(5,"button",5),i.bIt("click",function(){return _.mapTiles.push(1)}),i.EFF(6,"Add Map Tile"),i.k0s(),i.j41(7,"div",6)(8,"button",7),i.EFF(9," Add Flag "),i.k0s(),i.j41(10,"ul",8)(11,"li",9),i.bIt("click",function(){return _.mapFlagsRed.push(1)}),i.EFF(12,"Red"),i.k0s(),i.j41(13,"li",9),i.bIt("click",function(){return _.mapFlagsOrange.push(1)}),i.EFF(14,"Orange"),i.k0s(),i.j41(15,"li",9),i.bIt("click",function(){return _.mapFlagsYellow.push(1)}),i.EFF(16,"Yellow"),i.k0s(),i.j41(17,"li",9),i.bIt("click",function(){return _.mapFlagsGreen.push(1)}),i.EFF(18,"Green"),i.k0s()()(),i.j41(19,"div",6)(20,"button",7),i.EFF(21," Add Portal "),i.k0s(),i.j41(22,"ul",8)(23,"li",9),i.bIt("click",function(){return _.mapPortalsBlue.push(1)}),i.EFF(24,"Blue"),i.k0s(),i.j41(25,"li",9),i.bIt("click",function(){return _.mapPortalsPurple.push(1)}),i.EFF(26,"Purple"),i.k0s(),i.j41(27,"li",9),i.bIt("click",function(){return _.mapPortalsTeal.push(1)}),i.EFF(28,"Teal"),i.k0s()()(),i.j41(29,"button",5),i.bIt("click",function(){return _.mapCapitols.push(1)}),i.EFF(30,"Add Capitol"),i.k0s(),i.j41(31,"button",5),i.bIt("click",function(){return _.mapMountains.push(1)}),i.EFF(32,"Add Mountain Region"),i.k0s(),i.j41(33,"button",5),i.bIt("click",function(){return _.mapWaterRegions.push(1)}),i.EFF(34,"Add Water Region"),i.k0s()(),i.j41(35,"div"),i.nrm(36,"i",10),i.k0s()(),i.j41(37,"div",11),i.DNE(38,ci,2,0,"div",12)(39,Ye,2,0,"div",12)(40,rn,2,0,"div",12)(41,ko,2,0,"div",12)(42,xo,2,0,"div",12)(43,Mr,2,0,"div",12)(44,Zn,2,0,"div",12)(45,fi,2,0,"div",12)(46,So,2,0,"div",12)(47,pi,2,0,"div",12)(48,na,2,0,"div",12),i.nrm(49,"div",13),i.k0s(),i.j41(50,"div",14)(51,"label",15),i.EFF(52,"Map Description"),i.k0s(),i.j41(53,"textarea",16),i.mxI("ngModelChange",function(N){return i.DH7(_.selectedMap.description,N)||(_.selectedMap.description=N),N}),i.EFF(54,"    "),i.k0s()(),i.j41(55,"div",17)(56,"button",18),i.bIt("click",function(){return _.saveAsImage()}),i.EFF(57," Save Map Image "),i.k0s(),i.j41(58,"button",18),i.bIt("click",function(){return _.saveToLocalStorage()}),i.EFF(59," Save Map To Browser "),i.k0s()()()),2&C&&(i.R7$(),i.Y8G("title","Uprising Map Builder"),i.R7$(),i.Y8G("message","Your map has been saved."),i.R7$(35),i.Y8G("ngClass",i.ziG(15,Er,_.selectedMap.mapSize===_.UprisingMapSize.Small,_.selectedMap.mapSize===_.UprisingMapSize.Medium,_.selectedMap.mapSize===_.UprisingMapSize.Large,_.selectedMap.mapSize===_.UprisingMapSize.Huge)),i.R7$(),i.Y8G("ngForOf",_.mapTiles),i.R7$(),i.Y8G("ngForOf",_.mapCapitols),i.R7$(),i.Y8G("ngForOf",_.mapMountains),i.R7$(),i.Y8G("ngForOf",_.mapWaterRegions),i.R7$(),i.Y8G("ngForOf",_.mapFlagsGreen),i.R7$(),i.Y8G("ngForOf",_.mapFlagsYellow),i.R7$(),i.Y8G("ngForOf",_.mapFlagsOrange),i.R7$(),i.Y8G("ngForOf",_.mapFlagsRed),i.R7$(),i.Y8G("ngForOf",_.mapPortalsBlue),i.R7$(),i.Y8G("ngForOf",_.mapPortalsPurple),i.R7$(),i.Y8G("ngForOf",_.mapPortalsTeal),i.R7$(5),i.R50("ngModel",_.selectedMap.description))},dependencies:[de.YU,de.Sq,ie.me,ie.BC,ie.vS,De.L,Co.d],styles:[".btn-sm[_ngcontent-%COMP%]{height:31px}.map-tile[_ngcontent-%COMP%]{width:25%;min-height:6.5em;margin:1rem 0 0 1rem;background-color:#29e;color:#fff;border-radius:.75em;padding:4%;z-index:1}.z1[_ngcontent-%COMP%]{z-index:1}.z2[_ngcontent-%COMP%]{z-index:2}.pointer[_ngcontent-%COMP%]{cursor:pointer}.draw-zone[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;border-style:solid;border-width:2px}.map-small[_ngcontent-%COMP%]{height:400px;width:700px}.map-medium[_ngcontent-%COMP%]{height:600px;width:950px}.map-large[_ngcontent-%COMP%]{height:800px;width:1200px}.map-huge[_ngcontent-%COMP%]{height:1000px;width:1450px}.dropzone[_ngcontent-%COMP%]{background-color:#bfe4ff;border:dashed 4px transparent;border-radius:4px;margin:10px auto 30px;padding:10px;width:80%;transition:background-color .3s}.drop-active[_ngcontent-%COMP%]{border-color:#aaa}.drop-target[_ngcontent-%COMP%]{background-color:#29e;border-color:#af1a1a;border-style:solid}.drag-drop[_ngcontent-%COMP%]{touch-action:none;transform:translate(0);transition:background-color .3s}"]})}}return c})();var re=function(c){return c.PointControl="Point Control",c.CaptureTheFlag="Capture The Flag",c.Survival="Survival",c.Conquest="Conquest",c.Slayer="Slayer",c.Custom="Custom",c}(re||{}),X=function(c){return c.TwoPlayerStandard="Two Player Standard",c.DivideAndConquer="Divide And Conquer",c.BridgeTooNear2Player="Bridge Too Near 2 Player",c.FortressDefense="Fortress Defense",c.Star="Star",c.Honeycomb="Honeycomb",c.Pyramid="Pyramid",c.FourPlayerStandard="Four Player Standard",c.MarchingOrders="Marching Orders",c.BridgeTooNear="Bridge Too Near 4 Player",c.Colosseum="Colosseum",c.CloseQuarters="Close Quarters",c.HourGlass="Hour Glass",c.BreathingRoom="Breathing Room",c.TheFly="The Fly",c.GreatSacrifice="Great Sacrifice",c.TheWildHunt="The Wild Hunt",c.TheWildHuntv2="The Wild Hunt Version 2",c.TheWildHuntv3="The Wild Hunt Version 3",c.CaptureTheFlag="Capture The Flag",c}(X||{});const On=new Map([[X.FourPlayerStandard,{mapName:X.FourPlayerStandard,image:"../../../assets/uprising_maps_v2/Standard_4Player_v1_Tavern.jpg",description:"The recomended map for starting players. This map gives a balanced experience for the majority of factions.",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.MarchingOrders,{mapName:X.MarchingOrders,image:"../../../assets/uprising_maps_v2/MarchingOrders_4Player_v1_Tavern.jpg",description:".",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.BridgeTooNear,{mapName:X.BridgeTooNear,image:"../../../assets/uprising_maps_v2/BridgeTooNear_4Player_v1_Tavern.jpg",description:".",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.Colosseum,{mapName:X.Colosseum,image:"../../../assets/uprising_maps_v2/Colosseum_4Player_v1_Tavern.jpg",description:"A 2vs2 map placing teammates close to one another but also enemies within striking distance of your capitol.",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.CloseQuarters,{mapName:X.CloseQuarters,image:"../../../assets/uprising_maps_v2/CloseQuarters_4Player_v1_Tavern.jpg",description:"A 2vs2 map placing teammates close to one another but also enemies within striking distance of your capitol.",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.HourGlass,{mapName:X.HourGlass,image:"../../../assets/uprising_maps_v2/HourGlass_4Player_v1_Tavern.jpg",description:"This map features a seperate island that is only accessable through use of a portal. Control of this island is vital in order to obtain enough points to win, but be carful not to spread your forces too thin.",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.BreathingRoom,{mapName:X.BreathingRoom,image:"../../../assets/uprising_maps_v2/BreathingRoom_4Player_v1_Tavern.jpg",description:"This map is sure to see fast and early combat as each player is only a move or two away from each other. Player capitols are moved to the interior of the map with a central flag to fight for control of while other objectives are located around the maps perimeter.",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.TheFly,{mapName:X.TheFly,image:"../../../assets/uprising_maps_v2/TheFly_4Player_v1_Tavern.jpg",description:"This map is sure to see fast and early combat as each player is only a move or two away from each other. Player capitols are moved to the interior of the map with a central flag to fight for control of while other objectives are located around the maps perimeter.",numberOfPlayers:4,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.GreatSacrifice,{mapName:X.GreatSacrifice,image:"../../../assets/uprising_maps_v2/GreatSacrifice_4Player_v1_Tavern.jpg",description:"Points on this map are not earned by controling flags, but by sacrificing units on specific points on the map.",numberOfPlayers:4,specialRules:["To earn a point on this map, you must destroy a unit you control that is in the same region as one of the green flags at the start of your turn","You do not need to control the region of the green flag to destroy a unit you control in that region."],objective:re.Custom}],[X.TheWildHunt,{mapName:X.TheWildHunt,image:"../../../assets/uprising_maps_v2/TheWildHunt_4Player_v1_Tavern.jpg",description:"Points on this map are scored by destroying a beast that spawns at a random location. Each time it is destroyed it comes back stronger.",specialRules:["For this game mode, points are scored by destroying a Wild Beast, that spawns at a random location on the map.","At the start of the game roll a six sided die. Add the wild beast (using any token) to the green flag matching the number that was rolled.","The beast attacks and defends with a green die. Any time the beast is attacked, it will perform an attack regardless if it is destroyed in the attack or not.","When the beast attacks, it attacks the units attacking it, not a specific region or army.","Each time the beast is destroyed it will spawn again using the same method used to place it at the start of the game.","Keep track of the number of times the beast is destroyed. Each time the beast is destroyed it gains an additional green attack and defense die to a maximum of 4 green dice."],numberOfPlayers:4,objective:re.Custom}],[X.TheWildHuntv2,{mapName:X.TheWildHuntv2,image:"../../../assets/uprising_maps_v2/TheWildHunt_4Player_v2_Tavern.jpg",description:"Points on this map are scored by destroying a beast that spawns at a random location. Each time it is destroyed it comes back stronger.",specialRules:["For this game mode, points are scored by destroying a Wild Beast, that spawns at a random location on the map.","At the start of the game roll a six sided die. Add the wild beast (using any token) to the green flag matching the number that was rolled.","The beast attacks and defends with a green die. Any time the beast is attacked, it will perform an attack regardless if it is destroyed in the attack or not.","When the beast attacks, it attacks the units attacking it, not a specific region or army.","Each time the beast is destroyed it will spawn again using the same method used to place it at the start of the game.","Keep track of the number of times the beast is destroyed. Each time the beast is destroyed it gains an additional green attack and defense die to a maximum of 4 green dice."],numberOfPlayers:4,objective:re.Custom}],[X.TheWildHuntv3,{mapName:X.TheWildHuntv3,image:"../../../assets/uprising_maps_v2/TheWildHunt_4Player_v3_Tavern.jpg",description:"Points on this map are scored by destroying a beast that spawns at a random location. Each time it is destroyed it comes back stronger.",specialRules:["For this game mode, points are scored by destroying a Wild Beast, that spawns at a random location on the map.","At the start of the game roll a six sided die. Add the wild beast (using any token) to the green flag matching the number that was rolled.","The beast attacks and defends with a green die. Any time the beast is attacked, it will perform an attack regardless if it is destroyed in the attack or not.","When the beast attacks, it attacks the units attacking it, not a specific region or army.","Each time the beast is destroyed it will spawn again using the same method used to place it at the start of the game.","Keep track of the number of times the beast is destroyed. Each time the beast is destroyed it gains an additional green attack and defense die to a maximum of 4 green dice."],numberOfPlayers:4,objective:re.Custom}],[X.CaptureTheFlag,{mapName:X.CaptureTheFlag,image:"../../../assets/uprising_maps_v2/Capture_the_Flag_4Player_v1_Tavern.jpg",description:"Points on this map are scored by capturing a flag and returning it to your capital.",specialRules:["This game mode is played 2vs2 with one team being the green team and one team being the red team. Each player places their capitol according to their teams color using the setup map.","Only red flags may be captured by the red team and green flags by the green team.","To capture a flag you must have a unit in the same region of the flag. At any point on your turn, you may place the flag on a unit you control of your choice to capture it. This is the flag carrier.","The flag will move with the flag carrier during move actions.","If the flag carrier is destroyed, the owner of that unit may choose a unit in the same region as the destroyed unit to be the new flag carrier.","If the flag carrier is destroyed and no new flag carrier is/can be chosen, the flag will remain in the region of the destroyed unit.","If a flag is not in one of the marked starting positions and is not being carried, units of the opposite team may send that flag back to any one of the starting flag positions that does not currently have a flag present.","Flag carriers can not be moved by spells.","Flag carriers have -1 movement.","Flag carries may not use portals for movement","1 Point is gained if a team is able to capture a flag and move that flag to any capitol of that team. The flag is then returned to any one of the starting flag positions that does not have a flag present."],numberOfPlayers:4,objective:re.Custom}],[X.FortressDefense,{mapName:X.FortressDefense,image:"../../../assets/uprising_maps_v2/Fortress_3Player_v1_Tavern.jpg",description:"A player surrounded by opposing forces must survive a multi-round siege.",specialRules:["The player with green colored buildings in the map image is the defending player, the other two capitols are the attacking players.","The portals adjacent to the defending player's capitol can only be used by the defending player.","The defending player may take 3 actions per turn instead of two.","The game is won by the attackers if they are successful in destroying the defending player's capitol by the end of the 4th round.","If the defending player destroys a capitol of an attacking player, that player is removed from the game. The player removes any pieces they have from the board and may no longer take any turns."],numberOfPlayers:3,objective:re.Survival,variants:[re.Conquest,re.Slayer]}],[X.Star,{mapName:X.Star,image:"../../../assets/uprising_maps_v2/Star_3Player_v1_Tavern.jpg",description:"A star shaped may for a free-for-all 3 player match.",numberOfPlayers:3,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.Honeycomb,{mapName:X.Honeycomb,image:"../../../assets/uprising_maps_v2/Honeycomb_3Player_v1_Tavern.jpg",description:"",numberOfPlayers:3,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.Pyramid,{mapName:X.Pyramid,image:"../../../assets/uprising_maps_v2/Pyramid_3Player_v1_Tavern.jpg",description:"",numberOfPlayers:3,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.TwoPlayerStandard,{mapName:X.TwoPlayerStandard,image:"../../../assets/uprising_maps_v2/Standard_2Player_v1_Tavern.jpg",description:"Standard map for 1vs1 match.",numberOfPlayers:2,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.DivideAndConquer,{mapName:X.DivideAndConquer,image:"../../../assets/uprising_maps_v2/DivideAndConquer_2Player_v1_Tavern.jpg",description:"A 1vs1 map with more space and additional points to control. Spreading out to control and hold multiple points will be key to victory on this map.",numberOfPlayers:2,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}],[X.BridgeTooNear2Player,{mapName:X.BridgeTooNear2Player,image:"../../../assets/uprising_maps_v2/BridgeTooNear_2Player_v1_Tavern.jpg",description:"A 1vs1 map with more space and additional points to control. Spreading out to control and hold multiple points will be key to victory on this map.",numberOfPlayers:2,objective:re.PointControl,variants:[re.Conquest,re.Slayer]}]]);function Or(c,b){if(1&c&&(i.j41(0,"li",11),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.R7$(),i.JRh(v)}}function Po(c,b){if(1&c&&(i.qex(0),i.j41(1,"b"),i.EFF(2,"Special Rules: "),i.k0s(),i.j41(3,"ul",9),i.DNE(4,Or,2,1,"li",10),i.k0s(),i.bVm()),2&c){const v=i.XpG();i.R7$(4),i.Y8G("ngForOf",null==v.uprisingMap?null:v.uprisingMap.specialRules)}}function ra(c,b){if(1&c&&(i.j41(0,"li",11),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.R7$(),i.JRh(v)}}function Fn(c,b){if(1&c&&(i.qex(0),i.j41(1,"b"),i.EFF(2,"Variants"),i.k0s(),i.j41(3,"ul",9),i.DNE(4,ra,2,1,"li",10),i.k0s(),i.bVm()),2&c){const v=i.XpG();i.R7$(4),i.Y8G("ngForOf",null==v.uprisingMap?null:v.uprisingMap.variants)}}let ia=(()=>{class c{constructor(v){this.route=v,this.id=""}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.uprisingMap=On.get(this.id?this.id:X.FourPlayerStandard),console.log("map name",this.id),console.log("map",this.uprisingMap)}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(T.nX))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-map-details"]],decls:24,vars:8,consts:[[1,"container"],[3,"title"],[1,"row"],[1,"col-xl"],["height","300px","width","550px",1,"img-fluid",3,"src"],[1,"col-xl","d-flex","flex-column"],["target","_blank",1,"mb-3",3,"href"],[1,"bi","ms-1","bi-box-arrow-up-right"],[4,"ngIf"],[1,"list-group"],["class","ms-4",4,"ngFor","ngForOf"],[1,"ms-4"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"div",2)(3,"div",3),i.nrm(4,"img",4),i.k0s(),i.j41(5,"div",5)(6,"p")(7,"b"),i.EFF(8,"Game Mode: "),i.k0s(),i.EFF(9),i.k0s(),i.j41(10,"p")(11,"b"),i.EFF(12,"Number of Players: "),i.k0s(),i.EFF(13),i.k0s(),i.j41(14,"p")(15,"b"),i.EFF(16,"Description: "),i.k0s(),i.EFF(17),i.k0s(),i.j41(18,"a",6)(19,"b"),i.EFF(20,"Map Details"),i.k0s(),i.nrm(21,"i",7),i.k0s(),i.DNE(22,Po,5,1,"ng-container",8)(23,Fn,5,1,"ng-container",8),i.k0s()()()),2&C&&(i.R7$(),i.Y8G("title",(null==_.uprisingMap?null:_.uprisingMap.mapName)+" Details"),i.R7$(3),i.Y8G("src",null==_.uprisingMap?null:_.uprisingMap.image,i.B4B),i.R7$(5),i.SpI("",null==_.uprisingMap?null:_.uprisingMap.objective," "),i.R7$(4),i.SpI("",null==_.uprisingMap?null:_.uprisingMap.numberOfPlayers," "),i.R7$(4),i.SpI("",null==_.uprisingMap?null:_.uprisingMap.description," "),i.R7$(),i.Y8G("href",null==_.uprisingMap?null:_.uprisingMap.image,i.B4B),i.R7$(4),i.Y8G("ngIf",null==_.uprisingMap?null:_.uprisingMap.specialRules),i.R7$(),i.Y8G("ngIf",null==_.uprisingMap?null:_.uprisingMap.variants))},dependencies:[de.Sq,de.bT,De.L]})}}return c})();const Qn=c=>({"rotate-clockwise":c}),er=c=>["/uprising/map-details",c];function lt(c,b){if(1&c&&(i.j41(0,"a",12),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("routerLink",i.eq3(2,er,v.mapName)),i.R7$(),i.JRh(v.mapName)}}function oa(c,b){if(1&c&&(i.j41(0,"a",12),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("routerLink",i.eq3(2,er,v.mapName)),i.R7$(),i.JRh(v.mapName)}}function se(c,b){if(1&c&&(i.j41(0,"a",12),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("routerLink",i.eq3(2,er,v.mapName)),i.R7$(),i.JRh(v.mapName)}}let Ae=(()=>{class c{constructor(){this.UprisingMapName=X,this.showTwoPlayerMaps=!1,this.showThreePlayerMaps=!1,this.showFourPlayerMaps=!1,this.showFivePlayerMaps=!1,this.twoPlayerMaps=Array.from(On.values()).filter(v=>2===v.numberOfPlayers),this.threePlayerMaps=Array.from(On.values()).filter(v=>3===v.numberOfPlayers),this.fourPlayerMaps=Array.from(On.values()).filter(v=>4===v.numberOfPlayers),this.fivePlayerMaps=Array.from(On.values()).filter(v=>5===v.numberOfPlayers)}static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-maps-and-play-instructions"]],decls:23,vars:13,consts:[[1,"container"],[3,"title"],["data-bs-toggle","collapse","data-bs-target","#twoPlayerMapsColapse",1,"d-flex","align-items-center",3,"click"],[1,"mb-0","fs-5",2,"width","auto"],[1,"bi","ms-3","bi-chevron-down","med-icon","rotate-transition",3,"ngClass"],["id","twoPlayerMapsColapse",1,"collapse"],[1,"d-flex","flex-column"],[3,"routerLink",4,"ngFor","ngForOf"],["data-bs-toggle","collapse","data-bs-target","#threePlayerMapsColapse",1,"d-flex","align-items-center",3,"click"],["id","threePlayerMapsColapse",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#fourPlayerMapsColapse",1,"d-flex","align-items-center",3,"click"],["id","fourPlayerMapsColapse",1,"collapse"],[3,"routerLink"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"div",2),i.bIt("click",function(){return _.showTwoPlayerMaps=!_.showTwoPlayerMaps}),i.j41(3,"legend",3),i.EFF(4,"Two Player Maps:"),i.k0s(),i.nrm(5,"i",4),i.k0s(),i.j41(6,"div",5)(7,"div",6),i.DNE(8,lt,2,4,"a",7),i.k0s()(),i.j41(9,"div",8),i.bIt("click",function(){return _.showThreePlayerMaps=!_.showThreePlayerMaps}),i.j41(10,"legend",3),i.EFF(11,"Three Player Maps:"),i.k0s(),i.nrm(12,"i",4),i.k0s(),i.j41(13,"div",9)(14,"div",6),i.DNE(15,oa,2,4,"a",7),i.k0s()(),i.j41(16,"div",10),i.bIt("click",function(){return _.showFourPlayerMaps=!_.showFourPlayerMaps}),i.j41(17,"legend",3),i.EFF(18,"Four Player Maps:"),i.k0s(),i.nrm(19,"i",4),i.k0s(),i.j41(20,"div",11)(21,"div",6),i.DNE(22,se,2,4,"a",7),i.k0s()()()),2&C&&(i.R7$(),i.Y8G("title","Maps and Play Instructions"),i.R7$(4),i.Y8G("ngClass",i.eq3(7,Qn,_.showTwoPlayerMaps)),i.R7$(3),i.Y8G("ngForOf",_.twoPlayerMaps),i.R7$(4),i.Y8G("ngClass",i.eq3(9,Qn,_.showThreePlayerMaps)),i.R7$(3),i.Y8G("ngForOf",_.threePlayerMaps),i.R7$(4),i.Y8G("ngClass",i.eq3(11,Qn,_.showFourPlayerMaps)),i.R7$(3),i.Y8G("ngForOf",_.fourPlayerMaps))},dependencies:[de.YU,de.Sq,T.Wk,De.L]})}}return c})();var Ui=Q(6651),Eo=Q(9493),on=Q(2617),Hi=Q(9433);function Mo(c,b){if(1&c&&(i.j41(0,"span",21),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.R7$(),i.JRh(v)}}function Yi(c,b){if(1&c&&(i.j41(0,"span",21),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.R7$(),i.JRh(v)}}function Oo(c,b){if(1&c&&(i.j41(0,"span",21),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.R7$(),i.JRh(v)}}function qi(c,b){if(1&c&&(i.j41(0,"li"),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("@simpleFadeAnimation","in"),i.R7$(),i.SpI(" ",v," ")}}function Je(c,b){if(1&c&&(i.qex(0),i.j41(1,"p",5),i.EFF(2,"Randomly Selected Mercenaries:"),i.k0s(),i.j41(3,"ul"),i.DNE(4,qi,2,2,"li",22),i.k0s(),i.bVm()),2&c){const v=i.XpG();i.R7$(4),i.Y8G("ngForOf",v.generatedMercenaries)}}let Fo=(()=>{class c{constructor(v){this.randomService=v,this.numberOfPlayers=4,this.useMercPack1=!0,this.useMercPack2=!1,this.useMercPack3=!1,this.packOneMercenaries=["Barbarian","Archmage","Werewolf","Burrowing Wurm","Cannon Tower","Guardian","Harpy","Merfolk","Necromancer","Thief","Wind Elemental"],this.packTwoMercenaries=["Cannoneer","Assassin","Centaur","Priest","Faerie","Kraken","Micon Warrior","Minotaur","Hill Troll","Witch"],this.packThreeMercenaries=["Air Ship","Acidic Slime","Balista","Bannerman","Beast Hunter","Cockatrice","Druid","Goblin Demolition Team","Ranger","Treant"],this.generatedMercenaries=new Array}generateMercenaries(){this.generatedMercenaries=new Array;let v=this.buildAvailableMercenaries();(0,Ui.O)(0,300).pipe((0,Eo.s)(this.numberOfPlayers)).subscribe(()=>{let _=this.randomService.getRandomEntryFromArray(v);console.log("adding ",_),this.generatedMercenaries.push(_),this.randomService.deleteFromArray(v,_)})}buildAvailableMercenaries(){let v=new Array;return this.useMercPack1&&(v=v.concat(...this.packOneMercenaries)),this.useMercPack2&&(v=v.concat(...this.packTwoMercenaries)),this.useMercPack3&&(v=v.concat(...this.packThreeMercenaries)),v}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(Hi.v))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-mercenary-picker"]],decls:51,vars:13,consts:[[1,"container"],[3,"title"],["for","playerNumberSelect",1,"h6"],["id","playerNumberSelect","aria-label","Select number of Players",1,"form-select","mb-3",2,"max-width","400px",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"mb-0","mt-4","h6"],[1,"form-check"],["type","checkbox","id","humansCheckbox","checked","",1,"form-check-input",3,"change","checked"],["for","flexCheckChecked",1,"form-check-label"],["data-bs-toggle","collapse","data-bs-target","#pack1Units","aria-expanded","false","aria-controls","pack1Units",1,"bi","m-3","bi-question-circle-fill"],["id","pack1Units",1,"collapse"],[1,"card","card-body"],["class","comma-list",4,"ngFor","ngForOf"],["type","checkbox","id","mercPack2Checkbox",1,"form-check-input",3,"change","checked"],["data-bs-toggle","collapse","data-bs-target","#pack2Units","aria-expanded","false","aria-controls","pack2Units",1,"bi","m-3","bi-question-circle-fill"],["id","pack2Units",1,"collapse"],["type","checkbox","id","mercPack3Checkbox",1,"form-check-input",3,"change","checked"],["data-bs-toggle","collapse","data-bs-target","#pack3Units","aria-expanded","false","aria-controls","pack3Units",1,"bi","m-3","bi-question-circle-fill"],["id","pack3Units",1,"collapse"],[1,"btn","btn-primary","mt-4",3,"click"],[4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"label",2),i.EFF(3,"Number of Players:"),i.k0s(),i.j41(4,"select",3),i.mxI("ngModelChange",function(N){return i.DH7(_.numberOfPlayers,N)||(_.numberOfPlayers=N),N}),i.j41(5,"option",4),i.EFF(6,"One"),i.k0s(),i.j41(7,"option",4),i.EFF(8,"Two"),i.k0s(),i.j41(9,"option",4),i.EFF(10,"Three"),i.k0s(),i.j41(11,"option",4),i.EFF(12,"Four"),i.k0s()(),i.j41(13,"p",5),i.EFF(14,"Mercenaries to Include:"),i.k0s(),i.j41(15,"div",6)(16,"input",7),i.bIt("change",function(){return _.useMercPack1=!_.useMercPack1}),i.k0s(),i.j41(17,"label",8),i.EFF(18," Mercenary Pack 1 "),i.k0s(),i.nrm(19,"i",9),i.k0s(),i.j41(20,"div",10)(21,"div",11)(22,"div"),i.EFF(23," This pack contains the units "),i.DNE(24,Mo,2,1,"span",12),i.EFF(25," . "),i.k0s()()(),i.j41(26,"div",6)(27,"input",13),i.bIt("change",function(){return _.useMercPack2=!_.useMercPack2}),i.k0s(),i.j41(28,"label",8),i.EFF(29," Mercenary Pack 2 "),i.k0s(),i.nrm(30,"i",14),i.k0s(),i.j41(31,"div",15)(32,"div",11)(33,"div"),i.EFF(34," This pack contains the units "),i.DNE(35,Yi,2,1,"span",12),i.EFF(36," . "),i.k0s()()(),i.j41(37,"div",6)(38,"input",16),i.bIt("change",function(){return _.useMercPack3=!_.useMercPack3}),i.k0s(),i.j41(39,"label",8),i.EFF(40," Mercenary Pack 3 "),i.k0s(),i.nrm(41,"i",17),i.k0s(),i.j41(42,"div",18)(43,"div",11)(44,"div"),i.EFF(45," This pack contains the units "),i.DNE(46,Oo,2,1,"span",12),i.EFF(47," . "),i.k0s()()(),i.j41(48,"button",19),i.bIt("click",function(){return _.generateMercenaries()}),i.EFF(49,"Generate Mercenaries"),i.k0s(),i.DNE(50,Je,5,1,"ng-container",20),i.k0s()),2&C&&(i.R7$(),i.Y8G("title","Uprising Mercenary Picker"),i.R7$(3),i.R50("ngModel",_.numberOfPlayers),i.R7$(),i.Y8G("ngValue",1),i.R7$(2),i.Y8G("ngValue",2),i.R7$(2),i.Y8G("ngValue",3),i.R7$(2),i.Y8G("ngValue",4),i.R7$(5),i.Y8G("checked",_.useMercPack1),i.R7$(8),i.Y8G("ngForOf",_.packOneMercenaries),i.R7$(3),i.Y8G("checked",_.useMercPack2),i.R7$(8),i.Y8G("ngForOf",_.packTwoMercenaries),i.R7$(3),i.Y8G("checked",_.useMercPack3),i.R7$(8),i.Y8G("ngForOf",_.packThreeMercenaries),i.R7$(4),i.Y8G("ngIf",_.generatedMercenaries.length>0))},dependencies:[de.Sq,de.bT,ie.xH,ie.y7,ie.wz,ie.BC,ie.vS,De.L],styles:['.comma-list[_ngcontent-%COMP%]:last-child:before{content:" and "}.comma-list[_ngcontent-%COMP%]:nth-of-type(n+2):not(:last-child):before{content:", "}'],data:{animation:[on.K]}})}}return c})();function Et(c,b){if(1&c&&(i.j41(0,"li"),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("@simpleFadeAnimation","in"),i.R7$(),i.SpI(" ",v," ")}}function Ao(c,b){if(1&c&&(i.qex(0),i.j41(1,"p",2),i.EFF(2,"Randomly Selected Map Tiles:"),i.k0s(),i.j41(3,"ul"),i.DNE(4,Et,2,2,"li",8),i.k0s(),i.bVm()),2&c){const v=i.XpG();i.R7$(4),i.Y8G("ngForOf",v.generatedTiles)}}let Ue=(()=>{class c{constructor(v){this.randomService=v,this.useExpansionTiles=!1,this.generatedTiles=new Array,this.standardTiles=new Array("A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12"),this.expansionTiles=new Array("E1","E2","E3","E4")}ngOnInit(){}generateMapTiles(){this.generatedTiles=new Array;let v=new Array(...this.standardTiles);this.useExpansionTiles&&(v=v.concat(...this.expansionTiles)),(0,Ui.O)(0,200).pipe((0,Eo.s)(12)).subscribe(()=>{let _=this.randomService.getRandomEntryFromArray(v);console.log("adding ",_),this.generatedTiles.push(_),this.randomService.deleteFromArray(v,_)})}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(Hi.v))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-tile-randomizer"]],decls:15,vars:3,consts:[[1,"container"],[3,"title"],[1,"mb-0","mt-4","h6"],[1,"form-check"],["type","checkbox","id","humansCheckbox",1,"form-check-input",3,"change","checked"],["for","flexCheckChecked",1,"form-check-label"],[1,"btn","btn-primary","mt-4",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"h2"),i.EFF(3,"How to use:"),i.k0s(),i.j41(4,"p"),i.EFF(5,"After generating the random order of Map tiles to use by clicking 'Generate Map Tiles' below, we recomend you build the map for your selected game mode from top to bottom and from left to right in the order of the map tiles displayed. "),i.k0s(),i.j41(6,"p",2),i.EFF(7,"Map Tiles to Include:"),i.k0s(),i.j41(8,"div",3)(9,"input",4),i.bIt("change",function(){return _.useExpansionTiles=!_.useExpansionTiles}),i.k0s(),i.j41(10,"label",5),i.EFF(11," Use Expansion Tiles (E1, E2, E3, E4) "),i.k0s()(),i.j41(12,"button",6),i.bIt("click",function(){return _.generateMapTiles()}),i.EFF(13,"Generate Map Tiles"),i.k0s(),i.DNE(14,Ao,5,1,"ng-container",7),i.k0s()),2&C&&(i.R7$(),i.Y8G("title","Map Tile Randomizer"),i.R7$(8),i.Y8G("checked",_.useExpansionTiles),i.R7$(5),i.Y8G("ngIf",_.generatedTiles.length>0))},dependencies:[de.Sq,de.bT,De.L],data:{animation:[on.K]}})}}return c})(),ht=(()=>{class c{constructor(){}ngOnInit(){}static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-unit-reference-cards"]],decls:22,vars:1,consts:[[1,"container"],[3,"title"],[1,"d-flex","flex-column"],["href","../../../assets/reference_cards/Unit Reference Card v3.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v4.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v5.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v6.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v8.jpg","target","_blank"],["href","../../../assets/reference_cards/Effect Tokens Reference Card v1.jpg","target","_blank"],["href","../../../assets/reference_cards/Effect Tokens Reference Card v2.jpg","target","_blank"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"h2"),i.EFF(3,"Unit Reference Cards"),i.k0s(),i.j41(4,"div",2)(5,"a",3),i.EFF(6,"Version 3"),i.k0s(),i.j41(7,"a",4),i.EFF(8,"Version 4"),i.k0s(),i.j41(9,"a",5),i.EFF(10,"Version 5"),i.k0s(),i.j41(11,"a",6),i.EFF(12,"Version 6 - Latest"),i.k0s(),i.j41(13,"a",7),i.EFF(14,"Version 8 - Beta Test"),i.k0s()(),i.j41(15,"h2"),i.EFF(16,"Effect Token Reference Cards"),i.k0s(),i.j41(17,"div",2)(18,"a",8),i.EFF(19,"Version 1"),i.k0s(),i.j41(20,"a",9),i.EFF(21,"Version 2 - Latest"),i.k0s()()()),2&C&&(i.R7$(),i.Y8G("title","Reference Cards"))},dependencies:[De.L]})}}return c})(),Fr=(()=>{class c{static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-uprising-factions"]],decls:23,vars:1,consts:[[1,"container"],[3,"title"],[1,"d-flex","flex-column"],["href","../../../assets/uprising_factions/Abominations.jpg","target","_blank"],["href","../../../assets/uprising_factions/Dragonborn.jpg","target","_blank"],["href","../../../assets/uprising_factions/Drow.jpg","target","_blank"],["href","../../../assets/uprising_factions/Gnomes.jpg","target","_blank"],["href","../../../assets/uprising_factions/HighElves.jpg","target","_blank"],["href","../../../assets/uprising_factions/MountainDwarves.jpg","target","_blank"],["href","../../../assets/uprising_factions/Orcs.jpg","target","_blank"],["href","../../../assets/uprising_factions/OrderOfTheMoon.jpg","target","_blank"],["href","../../../assets/uprising_factions/Templar.jpg","target","_blank"],["href","../../../assets/uprising_factions/Merfolk.jpg","target","_blank"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"div",2)(3,"a",3),i.EFF(4,"Abominations"),i.k0s(),i.j41(5,"a",4),i.EFF(6,"Dragonborn"),i.k0s(),i.j41(7,"a",5),i.EFF(8,"Drow"),i.k0s(),i.j41(9,"a",6),i.EFF(10,"Gnomes"),i.k0s(),i.j41(11,"a",7),i.EFF(12,"High Elves"),i.k0s(),i.j41(13,"a",8),i.EFF(14,"Mountain Dwarves"),i.k0s(),i.j41(15,"a",9),i.EFF(16,"Orcs"),i.k0s(),i.j41(17,"a",10),i.EFF(18,"Order Of The Moon"),i.k0s(),i.j41(19,"a",11),i.EFF(20,"Templar"),i.k0s(),i.j41(21,"a",12),i.EFF(22,"Merfolk"),i.k0s()()()),2&C&&(i.R7$(),i.Y8G("title","Faction Boards"))},dependencies:[De.L]})}}return c})(),Ro=(()=>{class c{constructor(v){this.router=v}ngOnInit(){}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(T.Ix))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-uprising-home"]],decls:51,vars:1,consts:[[1,"container"],[3,"title"],[1,"d-flex","align-items-center","justify-content-between","nav-help"],[1,"btn","btn-primary","btn-lg","my-3",3,"click"],["data-bs-toggle","collapse","data-bs-target","#draftCollapse","aria-expanded","false","aria-controls","draftCollapse",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","draftCollapse",1,"collapse"],[1,"card","card-body"],["data-bs-toggle","collapse","data-bs-target","#mercenariesCollapse","aria-expanded","false","aria-controls","draftCollapse",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","mercenariesCollapse",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#tileRandomizerCollapse","aria-expanded","false","aria-controls","tileRandomizerCollapse",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","tileRandomizerCollapse",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#referenceCards","aria-expanded","false","aria-controls","referenceCards",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","referenceCards",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#factionBoards","aria-expanded","false","aria-controls","factionBoards",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","factionBoards",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#mapBuilder","aria-expanded","false","aria-controls","mapBuilder",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","mapBuilder",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#spellCards","aria-expanded","false","aria-controls","spellCards",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","spellCards",1,"collapse"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"div",2)(3,"button",3),i.bIt("click",function(){return _.router.navigate(["uprising/maps"])}),i.EFF(4," Game Modes and Setup Instructions "),i.k0s(),i.nrm(5,"i",4),i.k0s(),i.j41(6,"div",5)(7,"div",6),i.EFF(8," This tool has links to a variety of maps and play options for quick reference. "),i.k0s()(),i.j41(9,"div",2)(10,"button",3),i.bIt("click",function(){return _.router.navigate(["uprising/mercenary-picker"])}),i.EFF(11," Pick Random Mercenaries "),i.k0s(),i.nrm(12,"i",7),i.k0s(),i.j41(13,"div",8)(14,"div",6),i.EFF(15," This tool will allow you to randomly select a group of mercenaries dependening on your player count. "),i.k0s()(),i.j41(16,"div",2)(17,"button",3),i.bIt("click",function(){return _.router.navigate(["uprising/tile-randomizer"])}),i.EFF(18," Map Tile Randomizer "),i.k0s(),i.nrm(19,"i",9),i.k0s(),i.j41(20,"div",10)(21,"div",6),i.EFF(22," Shuffling large map tiles can be difficult. Use this tool to quickly randomize the order of the map tiles. "),i.k0s()(),i.j41(23,"div",2)(24,"button",3),i.bIt("click",function(){return _.router.navigate(["uprising/reference-cards"])}),i.EFF(25," Unit and Effect Token Reference Cards "),i.k0s(),i.nrm(26,"i",11),i.k0s(),i.j41(27,"div",12)(28,"div",6),i.EFF(29," Access to current and past versions of the unit and effect token reference cards. "),i.k0s()(),i.j41(30,"div",2)(31,"button",3),i.bIt("click",function(){return _.router.navigate(["uprising/factions"])}),i.EFF(32," Faction Boards "),i.k0s(),i.nrm(33,"i",13),i.k0s(),i.j41(34,"div",14)(35,"div",6),i.EFF(36," Quick reference to the latest faction boards. "),i.k0s()(),i.j41(37,"div",2)(38,"button",3),i.bIt("click",function(){return _.router.navigate(["uprising/map-builder-options"])}),i.EFF(39," Map Builder "),i.k0s(),i.nrm(40,"i",15),i.k0s(),i.j41(41,"div",16)(42,"div",6),i.EFF(43," Build your own custom Uprising maps. "),i.k0s()(),i.j41(44,"div",2)(45,"button",3),i.bIt("click",function(){return _.router.navigate(["uprising/spell-cards"])}),i.EFF(46," Spell Cards "),i.k0s(),i.nrm(47,"i",17),i.k0s(),i.j41(48,"div",18)(49,"div",6),i.EFF(50," Read the spells of the game. "),i.k0s()()()),2&C&&(i.R7$(),i.Y8G("title","Uprising Tools"))},dependencies:[De.L],styles:[".btn[_ngcontent-%COMP%]{width:240px}.card-body[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}}return c})();var Xi=Q(7376),ae=function(c){return c.Strengthen="Strengthen",c.Weaken="Weaken",c.Entangle="Entangle",c.Slow="Slow",c.Haste="Haste",c.Bountiful="Bountiful",c.Plague="Plague",c.Stun="Stun",c.Confusion="Confusin",c.Poison="Poison",c.Damage="Damage",c}(ae||{}),Ne=function(c){return c.Hills="Hills",c.Plains="Plains",c.Forest="Forest",c.Marsh="Marsh",c.Badlands="Badlands",c.Mountains="Mountains",c.Water="Water",c.Tundra="Tundra",c}(Ne||{}),O=function(c){return c.Normal="Normal",c.Instant="Instant",c.Prepared="Prepared",c.Combat="Combat",c}(O||{}),U=function(c){return c.Entangle="<img src='../../../assets/uprising_spell_icons/entangle.svg' name='entangle-icon' width='20px'>",c.Bountiful="<img src='../../../assets/uprising_spell_icons/bountiful.svg' name='bountiful' width='20px'>",c.Damage="<img src='../../../assets/uprising_spell_icons/damage.svg' name='damage-icon' width='20px'>",c.Mind="<img src='../../../assets/uprising_spell_icons/mind.svg' name='mind-icon' width='22px'>",c.Shock="<img src='../../../assets/uprising_spell_icons/shock.svg' name='shock-icon' width='20px'>",c.Poison="<img src='../../../assets/uprising_spell_icons/poison.svg' name='poison-icon' width='20px'>",c.SlowHaste="<img src='../../../assets/uprising_spell_icons/slow&haste.svg' name='slow-and-haste-icon' width='20px'>",c.StrengthenWeaken="<img src='../../../assets/uprising_spell_icons/strengthen&weaken.svg' name='strengthen-and-weaken-icon' width='20px'>",c.Attack="<img src='../../../assets/uprising_spell_icons/attack.svg' name='attack-icon' width='20px'>",c.Range="<img src='../../../assets/uprising_spell_icons/range.svg' name='range-icon' width='20px'>",c}(U||{});const tr=[{name:"Entangle",spellCost:1,htmlDescription:`<p>Select two regions and place an ${U.Entangle} token on each. You may add a -${U.SlowHaste} token to a unit in one\n      of the selected regions if it is a Forest or Hills region.</p>`,effectTokens:[ae.Entangle,ae.Slow],regions:[Ne.Forest],castType:O.Normal,destructive:!1},{name:"Counter Spell",spellCost:2,htmlDescription:"<p>Cast after an opponent casts a spell card. Cancel the effect of that spell.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Wind Gust",spellCost:2,htmlDescription:"<p>Until the end of the round, all units of target player lose flying <b>or</b> units you control in your faction's <i>favored region</i> gain flying. (Units that start a move action with flying retain flying until the end of the move action).</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Metamorphosis",spellCost:3,htmlDescription:"<p>Change up to two units you control into another basic unit. You can not change a unit into a heavy unit.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Reverse Time",spellCost:1,htmlDescription:"<p>Cast after an opponent rolls their combat dice (attack or defense). They must re-roll all of the dice previously rolled.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Flood",spellCost:1,htmlDescription:`<p>Place a water token on an unoccupied region. You may place a -${U.SlowHaste} token on a unit adjacent to this region.</p>`,effectTokens:[ae.Slow],regions:[Ne.Water],castType:O.Normal,destructive:!1},{name:"Levitation",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. Units the active player controls have flying until the end of the move action.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Dark Bargin",spellCost:1,htmlDescription:"<p>Destroy one unit you control. Target player destroys up to two units they control of equal or lesser gold cost.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Starfall",spellCost:3,description:"Roll a green die for each unit in target army. The owner of that army destroys one unit for each hit rolled.",htmlDescription:"<p>Roll a green die for each unit in target army. The owner of that army destroys one unit for each hit rolled.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Fireball",spellCost:4,description:"Select an army. Roll four orange dice. The owner of the army destroys one unit for each hit rolled.",htmlDescription:"<p>Select an army. Roll four orange dice. The owner of the army destroys one unit for each hit rolled.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Power Surge",spellCost:2,htmlDescription:`Choose three units you or an allie control. Add a +${U.StrengthenWeaken} and +${U.SlowHaste} token on each unit. Add a ${U.Poison} token to two of the chosen units.</p>`,effectTokens:[ae.Strengthen,ae.Haste,ae.Poison],regions:null,castType:O.Normal,destructive:!1},{name:"Scry",spellCost:1,htmlDescription:`<p>Draw 5 spell cards. Keep up to your maximum hand size and discard the rest. Add a ${U.Mind} token to a unit.</p>`,effectTokens:[ae.Confusion],regions:null,castType:O.Normal,destructive:!1},{name:"Telaport",spellCost:1,htmlDescription:"<p>Move all units in the region of your capitol to a region of your choice up to 3 regions away.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Choking Vines",spellCost:2,htmlDescription:`<p>Add a ${U.Entangle} token on up to two regions. Then, you may attack each army in a region with a ${U.Entangle} token with an yellow die.</p>`,effectTokens:[ae.Entangle],regions:null,castType:O.Normal,destructive:!1},{name:"Far Sight",spellCost:1,htmlDescription:"<p>Select a basic unit type (archer, warrior, mage, etc.). Until the end of the round units you control of the chosen type gain +1 attack distance.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Magic Armor",spellCost:2,htmlDescription:"<p>Until the end of the round, you gain +2 defence each battle.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Shock Wave",spellCost:4,htmlDescription:"<p>Select four regions, adjacent to each other and in a straight line. Enemies must destroy 1 unit in each army they control in these regions.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Lightning Storm",spellCost:3,htmlDescription:"<p>Select a region. Attack each army in and adjacent to that region with an orange die.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Frost Lance",spellCost:3,htmlDescription:`<p>Attack an army with two orange dice. You may add a -${U.SlowHaste} on up to two units in the attacked army.</p>`,effectTokens:[ae.Slow],regions:null,castType:O.Normal,destructive:!0},{name:"Resurrection",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. Prevent up to two units from being destroyed in this combat.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Advanced Tactics",spellCost:2,htmlDescription:"<p>Perform any one action as a free action.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Copy Spell",spellCost:3,htmlDescription:"<p>Cast after another spell is cast. You may copy that spell and cast it without paying it's mana cost. The copied version takes effect before the original spell that was cast.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Purge the Unclean",spellCost:2,htmlDescription:`<p>Add a +${U.StrengthenWeaken} token to a unit. Then you may destroy up to two units that have effect or player tokens on them.</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Bless",spellCost:2,htmlDescription:`<p>Add a +${U.SlowHaste} token on up to two different units. You may remove up to two player and/or effect tokens from any regions, units, and buildings.</p>`,effectTokens:[ae.Haste],regions:null,castType:O.Normal,destructive:!1},{name:"Known Paths",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. Each unit in the active player faction's <i>favored region</i> gains +1 movement until the end of their turn.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Lightning Reflexes",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. Choose a player in this combat to gain one 'hit' to their defense or attack dice.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Mind Control",spellCost:3,htmlDescription:"<p>Move an opponent's army to an adjacent region. If this causes the army to move into the same region as an army you control, you may perform a free attack action with only armies in that region.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Terror",spellCost:2,htmlDescription:"<p>Choose an opponent's army. The owner of that army must move it to a city or capitol they control.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Reinforcements",spellCost:1,description:"Move an army you control to a region with a city or capitol you control. This may not exceed the maximum unit limit in that region.",htmlDescription:"<p>Move an army you control to a region with a city or capitol you control. This may not exceed the maximum unit limit in that region.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Blood Lust",spellCost:3,htmlDescription:"<p>Cast at the start of a battle. Double the amount of hits from attack rolls.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Shield Wall",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. Gain 2 Yellow defense dice.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Bountiful Harvest",spellCost:2,htmlDescription:`<p>Place a +${U.Bountiful} token on up to three different buildings you control.</p>`,effectTokens:[ae.Bountiful],regions:null,castType:O.Normal,destructive:!1},{name:"Swords to Plowshares",spellCost:2,htmlDescription:`<p>Destroy up to two units in different armies you conrol. Build a farm in each region of these armies. Place a ${U.Bountiful} token on one of the newly created farms.</p>`,effectTokens:[ae.Bountiful],regions:null,castType:O.Normal,destructive:!1},{name:"Plowshares to Swords",spellCost:2,htmlDescription:"<p>Cast at the start of any action. Destroy a farm you control. Place two warriors and an archer in this region.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Devine Inspiration",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. You may give the attacking or defending army <i>Leadership 1</i>.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Cleave Attack",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. Apply up to two <i>hits</i> from this attack to an enemy army adjacent to the attacked army.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Vortex",spellCost:2,htmlDescription:"<p>Exchange the location of any two enemy armies. This may not target armies in or adjacent to cities and capitols.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Tidal Wave",spellCost:1,htmlDescription:"<p>Select three adjacent regions. The armies in these regions must move to an adjacent region not effected by this spell.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Earthquake",spellCost:2,htmlDescription:`<p>Enemy buildings have -1 defense until the end of the round. Add a -${U.StrengthenWeaken} token on up to three different buildings.</p>`,effectTokens:[ae.Weaken],regions:null,castType:O.Normal,destructive:!1},{name:"Channel Energy",spellCost:1,htmlDescription:"<p>Gain 4 mana. Until the end of the round you have +4 to your max mana.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Quick Sand",spellCost:2,htmlDescription:`<p>Enemy players add a -${U.SlowHaste} token to a unit in each army they control that is in a marsh or badlands region.</p>`,effectTokens:[ae.Slow],regions:[Ne.Marsh,Ne.Badlands],castType:O.Normal,destructive:!1},{name:"Flood Fields",spellCost:3,htmlDescription:"<p>Destroy any one farm. Add a water token to the region of that farm.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Price for Knowledge",spellCost:3,htmlDescription:"<p>Destroy a unit you control. You may perfom two free research actions.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Syphon Soul",spellCost:2,htmlDescription:"<p>Cast after any number of units you control are destroyed in a battle. Gain gold equal to the cost of up to three of the units.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Call to Arms",spellCost:1,htmlDescription:"<p>Until the end of the round, your farms and cities attack and defend with an orange die.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Renewed Hope",spellCost:2,htmlDescription:`<p>Cast after a city, tower, or farm you control is destroyed. Add a city, tower, or farm to a region you control. Add a +${U.StrengthenWeaken} or ${U.Bountiful} token to this building.</p>`,effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Summon Elemental",spellCost:3,htmlDescription:"<p>Attack an army adjacent to a mountain or water region with four yellow dice.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Stifle Progress",spellCost:1,htmlDescription:"<p>For the remainder of the round, enemy players may not perform research actions. Perform a free research action.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Locust Plague",spellCost:2,htmlDescription:`<p>Add a -${U.Bountiful} token on up to two buildings. Then, you may add a -${U.StrengthenWeaken} token to a unit in each region a -${U.Bountiful} was added to.</p>`,effectTokens:[ae.Plague,ae.Weaken],regions:null,castType:O.Normal,destructive:!1},{name:"Sap Strength",spellCost:2,htmlDescription:`<p>For the remainder of the round when performing an attack action, players must pay 1 gold for each unit in the attacking army. Or, Select two units and add a -${U.StrengthenWeaken} token to each.</p>`,effectTokens:[ae.Weaken],regions:null,castType:O.Normal,destructive:!1},{name:"Hidden Path",spellCost:1,htmlDescription:"<p>Choose any combination of up to two mountain or water regions. Remove the mountain or water tokens from these regions.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Move Earth",spellCost:2,htmlDescription:"<p>Choose up to two unoccupied regions. Remove any tokens from these regions and place a mountain token on each region.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Strength in Numbers",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. You may move up to three units in adjacent armies into the attacked region.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Back to Basics",spellCost:2,htmlDescription:"<p>Each player replaces 2 non-warrior units they control with warrior units.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Polymorph",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. For the remainder of this battle, treat all units as warriors.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Egress",spellCost:1,htmlDescription:"<p>Cast at the start of a battle, when you or an ally are attacked. Return the attacked army to it's controllers capitol.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Extinction",spellCost:4,htmlDescription:"<p>Select a unit type. At the end of the round, each player destroys up to 4 units of that type.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"New Recruits",spellCost:2,htmlDescription:`<p>Select a basic unit type. Add a ${U.Shock} token on up to 4 units of this type. Enemy units of this type have -1 damage until the end of the round.</p>`,effectTokens:[ae.Stun],regions:null,castType:O.Normal,destructive:!1},{name:"Lightning Bolt",spellCost:2,htmlDescription:"<p>Cast at the start of any action. Destroy any 1 unit.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Jolt",spellCost:1,htmlDescription:`<p>Cast at the start of any action. Attack a unit with a yellow die or add a ${U.Shock} token to a unit.</p>`,effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Fog",spellCost:1,htmlDescription:"<p>Cast at the start of an attack action. Attacking units have an attack distand of 0 for the remainder of this attack action.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Treasury Heist",spellCost:1,htmlDescription:"<p>You may pay any amount of mana to cast this spell. For each mana paid, you may take 2 gold from target player.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Nature's Balance",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. If the enemy player has more units in the region of the battle than you, destroy 1 unit in the region of the battle. If this region is a forest region, destroy 2 units instead.</p>",effectTokens:null,regions:[Ne.Forest],castType:O.Prepared,destructive:!1},{name:"Anti-magic Shell",spellCost:2,htmlDescription:"<p>Choose a region. You may remove any effect tokens on that region or on units/buildings in that region. You may remove any player tokens from that region.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Time Warp",spellCost:4,htmlDescription:"<p>At the end of the round you gain an additional turn.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Blizzard",spellCost:2,htmlDescription:`<p>Choose a player. For each army that player controls, add a -${U.SlowHaste} to a unit in that army. If the army is in a tundra region you may add a -${U.SlowHaste} on up to two different unit in that army instead.</p>`,effectTokens:null,regions:[Ne.Tundra],castType:O.Normal,destructive:!1},{name:"Treachery",spellCost:2,htmlDescription:`<p>Cast at the start of a battle. Add a ${U.Mind} token to an enemy unit in this battle.</p>`,effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Confusion",spellCost:3,htmlDescription:`<p>Cast after a player chooses an action to perform. That player instead perfoms no action. Add a \n      ${U.Mind} token to an enemy unit.</p>`,effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Flame Strike",spellCost:1,htmlDescription:"<p>You may pay any amount of mana to cast this spell. Choose an enemy army. For each mana spent, attack that army with a yellow die.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Shock",spellCost:1,htmlDescription:`<p>Select a region. Place a ${U.Shock} token on each enemy unit in that region.</p>`,effectTokens:[ae.Stun],regions:null,castType:O.Normal,destructive:!1},{name:"Tranquility",spellCost:2,htmlDescription:"<p>Remove all player tokens and effect tokens from all regions, units, and buildings.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Summoning Circle",spellCost:2,htmlDescription:"<p>Recruit one heavy unit to a city or capitol you control (after paying the cost of the unit).</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Mana Burn",spellCost:1,htmlDescription:`<p>You may pay any amount of mana when casting this spell. For each mana paid, remove 1 mana from any player and add a ${U.Shock} to any unit.</p>`,effectTokens:[ae.Stun],regions:null,castType:O.Normal,destructive:!1},{name:"Poison Cloud",spellCost:2,htmlDescription:`<p>Choose a region. You may add a ${U.Poison} token to a unit in that region. You may add a -${U.StrengthenWeaken} token to another unit in that region. You may add a -${U.Bountiful} token to a building in that region.</p>`,effectTokens:[ae.Poison,ae.Weaken,ae.Plague],regions:null,castType:O.Normal,destructive:!1},{name:"Acid Rain",spellCost:2,htmlDescription:`<p>Attack a farm, tower or city with an orange die. You may add a ${U.Poison} token to a unit in the region of the attacked building if \n      the building is on a badlands or marsh region.</p>`,effectTokens:[ae.Poison],regions:[Ne.Marsh,Ne.Badlands],castType:O.Normal,destructive:!0},{name:"Raise Dead",spellCost:2,htmlDescription:"<p>Cast when a unit or units you control are destroyed. Replace each destroyed unit with 1 warrior.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Reflect Magic",spellCost:1,htmlDescription:"<p>Cast when an opponent casts a spell. Cancel the effect of that spell. If this was a prepared spell return it to the prepared state. Otherwise return the spell card to the caster's hand. The caster regains any mana used to cast the spell.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Arcane Spellbook",spellCost:1,htmlDescription:"<p>Look at the spell cards in the hands of each player. You may pick one card in another player's hand and place that card in your hand. You may perform a free cast action.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Cataclysm",spellCost:4,htmlDescription:"<p>Target player destroys two units they control, one building they control, loses one mana, discards one spell card, and loses 5 gold.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Living Walls",spellCost:2,htmlDescription:`<p>Choose two buildings that are not capitols. You may move each chosen building to an adjacent region. You may add a +${U.StrengthenWeaken} or -${U.StrengthenWeaken} to each choosen building.</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Poison Blades",spellCost:2,htmlDescription:`<p>Cast at the start of combat. The attacking army gain Assassinate 2. If no units are destroyed as a result of this combat, you may add a ${U.Poison} token to a unit in the defending army.</p>`,effectTokens:[ae.Poison],regions:null,castType:O.Prepared,destructive:!1},{name:"Sleep",spellCost:3,htmlDescription:"<p>Until the start of your next turn, players may not perform move, attack, or build actions.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Instant Transmission",spellCost:1,htmlDescription:"<p>Cast at the start of any action. Move one unit to any region on the map.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Illusion",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. You may force an enemy to reroll an attack die or defense die of your choice.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Hurricane",spellCost:2,htmlDescription:"<p>Choose an enemy army. Roll three orange dice. Destroy one unit with flying in the chosen army for each hit rolled.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Powder Keg",spellCost:2,htmlDescription:"<p>Cast at the start of any action. Destroy a building you control. Attack an enemy army in the region of the destroyed building with two orange dice.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Ancestral Knowledge",spellCost:1,htmlDescription:"<p>Search throguh the spell deck and place one spell card from the spell deck into your hand. Shuffle the spell deck afterward.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Balance of Power",spellCost:3,htmlDescription:"<p>For the remainder of the round all units attack with one green die. The attack dice of units can not be modified by any means.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Nature's Wrath",spellCost:2,htmlDescription:"<p>Attack an army with yellow dice equal to the number of forest and hills regions the army is adjacent to, including the region the army is on.</p>",effectTokens:null,regions:[Ne.Forest,Ne.Hills],castType:O.Normal,destructive:!1},{name:"Path of Bravery",spellCost:2,htmlDescription:"<p>For the remainder of the round in each combat you may give up to two units you control +1 damage if attacking an army with a greater number of units and +1 defense if being attacked by and army with a greater number of units.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Corrupt Vegitation",spellCost:1,htmlDescription:`<p>Add a ${U.Entangle} token on up to two hills or plains regiongs. You may add a ${U.Poison} token to a unit in a region with a ${U.Entangle} token on it.</p>`,effectTokens:[ae.Entangle,ae.Poison],regions:[Ne.Hills,Ne.Plains],castType:O.Normal,destructive:!1},{name:"Thrill of the Hunt",spellCost:2,htmlDescription:`<p>Move a single unit you control up to 4 regions. You may add a +${U.StrengthenWeaken} token to this unit. You may perform an attack with only this unit.</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Volcanic Eruption",spellCost:2,htmlDescription:"<p>Choose a mountain region. Attack each army on and adjacent to that region with a yellow die</p>",effectTokens:null,regions:[Ne.Mountains],castType:O.Normal,destructive:!0},{name:"Empty the Reserves",spellCost:1,htmlDescription:"<p>Cast at the start of a recruit action. The Player performing the action may recruit 1 additional unit to their capitol and to each city they control.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Wrath of God",spellCost:5,htmlDescription:"<p>Each player looses all of their gold. Each player chooses one building that is not a capitol and one unit they control. Destroy all other units and non-capitol buildings that were not chosen.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Ambush",spellCost:1,htmlDescription:"<p>Cast after an opponent has performend a move action. Add one warrior to a region units were moved to.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Zombify",spellCost:2,htmlDescription:"<p>Cast when units in an enemy army are destroyed. Add up to two warrior units in the region of the destroyed units.</p>",effectTokens:null,regions:null,castType:O.Prepared,destructive:!1},{name:"Magical Mastery",spellCost:2,htmlDescription:"<p>Until the end of the round, after each cast action you perform, including the cast action to cast this spell, you may perform a free attack action using only mage units you control.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Magical Attunement",spellCost:1,htmlDescription:"<p>Until the end of the round, warrior units you control attack with an additional purple die. Until the end of the round you have +2 to your maximum mana.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Endurance",spellCost:2,htmlDescription:`<p>Cast at the start of a move action. Place a +${U.SlowHaste} token on up to three different units.</p>`,effectTokens:[ae.Haste],regions:null,castType:O.Prepared,destructive:!1},{name:"Haste",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. Up to two units the active player controls have +1 movement during this move action.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Sandstorm",spellCost:3,htmlDescription:"<p>Enemy players roll an orange die for each badlands region they have units or buildings in. If a hit is rolled, \n      that player destroys 1 unit or building in that region.</p>",effectTokens:null,regions:[Ne.Badlands],castType:O.Normal,destructive:!0},{name:"Unravel Mind",spellCost:3,htmlDescription:`<p>Cast at the start of a battle. Add a ${U.Mind} token on up to two different enemy units in this battle.</p>`,effectTokens:[ae.Confusion],regions:null,castType:O.Prepared,destructive:!1},{name:"Early Spring",spellCost:1,htmlDescription:`<p>Cast at the start of a build action. The active player may add a ${U.Bountiful} token the building that is created.</p>`,effectTokens:[ae.Bountiful],regions:null,castType:O.Instant,destructive:!1},{name:"Magic Arrow",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. The active player may give up to two archer unit +2 attack distance.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Chain Lightning",spellCost:3,htmlDescription:"<p>Attack an army with 3 green dice. Attack another army with two green dice. Attack another army with one green die.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Command Stone",spellCost:3,htmlDescription:"<p>Perform a free build action. The building created through this build action may be added to any region on the map.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Gravity Distortion",spellCost:1,htmlDescription:"<p>Choose a region. You may move units (friendly and/or enemy) from adjacent regions into this region. You may not exceed the \n      maximum allowd unit limit. You may not move units out of a region containing a Capitol.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Mental Assault",spellCost:2,htmlDescription:`<p>Cast at the start of a recruit or harvest action. Add a ${U.Mind} token to an enemy building that is not a capitol.</p>`,effectTokens:[ae.Confusion],regions:null,castType:O.Prepared,destructive:!1},{name:"Dimensional Door",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. The active player may treat all portals as if they are the same color.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Elemental Mastery",spellCost:3,htmlDescription:`<p>You may add the following tokens to any unit, building, or regions that the token can normally be applied to. No unit or building may \n      have more than one token placed on it durring this spell.\n      +${U.SlowHaste}, -${U.SlowHaste}, +${U.StrengthenWeaken}, -${U.StrengthenWeaken}, ${U.Poison}, ${U.Entangle}</p>`,effectTokens:[ae.Slow,ae.Haste,ae.Strengthen,ae.Weaken,ae.Poison,ae.Entangle],regions:null,castType:O.Normal,destructive:!1},{name:"Poisoned Soil",spellCost:3,htmlDescription:`<p>Cast when an opponent performs a harvest action. That player adds a ${U.Poison} token to two different units they contol.</p>`,effectTokens:[ae.Poison],regions:null,castType:O.Prepared,destructive:!1},{name:"Blight",spellCost:2,htmlDescription:`<p>Choose a region type (Mountains, Plains, Marsh, etc). For each region of the chosen type, you may add a -${U.StrengthenWeaken} token to \n      one enemy unit in that region or attack an enemy army with a green die in that region.</p>`,effectTokens:[ae.Weaken],regions:null,castType:O.Normal,destructive:!1},{name:"Gaia's Blessing",spellCost:2,htmlDescription:`<p>You may add up to three +${U.StrengthenWeaken} tokens to different units on your faction's <i>favored region</i>.`,effectTokens:[ae.Strengthen],regions:null,castType:O.Normal,destructive:!1},{name:"Well of Knowledge",spellCost:4,htmlDescription:"<p>You may cast or prepare any spell card from the discard pile without paying it's mana cost.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Ancestral Vision",spellCost:1,htmlDescription:"<p>Cast at the start of an attack action. The active player gains +2 damage in each battle in their faction's <i>favored region</i>.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Mana Draw",spellCost:2,htmlDescription:"<p>Gain 1 mana and draw a spell card for each mage you control in your faction's <i>favored region</i>. Until the end of the round, mage units in your faction's <i>favored region</i> gain +1 attack distance.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Doppelganger",spellCost:3,htmlDescription:"<p>Choose a unit. Destroy this unit and replace it with a unit from your supply of the same type under your control.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0}],gt=[{name:"Entangle",spellCost:1,htmlDescription:`<p>Select two regions and place an ${U.Entangle} token on each. You may add a -${U.SlowHaste} token to a unit in one\n      of the selected regions if it is a Forest or Hills region.</p>`,effectTokens:[ae.Entangle,ae.Slow],regions:[Ne.Forest],castType:O.Normal,destructive:!1},{name:"Counter Spell",spellCost:2,htmlDescription:"<p>Cast after an opponent casts a spell card. Cancel the effect of that spell.</p>",effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Holy Light",spellCost:2,htmlDescription:"<p>Heal 2 on each unit you control. You may remove 1 effect token from each unit you control.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1,healing:!0},{name:"Cure Light Wounds",spellCost:1,htmlDescription:"<p>If the defending unit is not destroyed at the end of this battle, <i>Heal 2</i>.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1,healing:!0},{name:"Divine Intervention",spellCost:2,htmlDescription:"<p>Choose a region. Each unit in that region and in adjacent regions <i>Heals 3</i>.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1,healing:!0},{name:"Raise Dead",spellCost:2,htmlDescription:"<p>If the defending unit is destroyed at the end of this battle, you may perform a free recruit action.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Meteor Storm",spellCost:4,htmlDescription:`<p>Choose a region. Attack all units and buildings in that region and each adjacent region with 4 ${U.Attack}</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Chain Lightning",spellCost:3,htmlDescription:"<p>Deal 1 damage to an enemy unit. If that unit is destroyed, you may repeat this process.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Fireball",spellCost:4,htmlDescription:`<p>Attack an enemy unit or building with 8 ${U.Attack}. This spell may not target an enemy capitol.</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Blinding Light",spellCost:1,htmlDescription:`<p>The attacking unit attacks with -2 ${U.Attack}.</p>`,effectTokens:null,regions:null,castType:O.Instant,destructive:!1},{name:"Flood",spellCost:1,htmlDescription:`<p>Place a water token on an unoccupied region. You may place a -${U.SlowHaste} token on a unit adjacent to this region.</p>`,effectTokens:[ae.Slow],regions:[Ne.Water],castType:O.Normal,destructive:!1},{name:"Magic Armor",spellCost:1,htmlDescription:"<p>The attacked unit gains the <i>Armored</i> ability. The attacking unit loses the <i>Magic Attack</i> ability.</p>",effectTokens:null,regions:[Ne.Water],castType:O.Normal,destructive:!1},{name:"Memory Recall",spellCost:1,htmlDescription:"<p>Return any one spell card from the discard pile to your hand <b>or</b> search the spell card deck for any one spell card and add it to your hand.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Cloud Kill",spellCost:4,htmlDescription:"<p>Deal 2 damage to all units.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!0},{name:"Command Stone",spellCost:3,htmlDescription:"<p>Perform a free build action. The building created through this build action may be added to any region on the map.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Saving Grace",spellCost:1,htmlDescription:"<p>At the end of this battle, the defending unit is not destroyed. This unit is set to 1 health. You may move the defending unit to an unoccupied region adjacent to a city of capitol you control.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Vampiric Touch",spellCost:2,htmlDescription:"<p>The attacking unit heals for the amount of damage it dealt at the end of this battle.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Anti-magic Field",spellCost:1,htmlDescription:"<p>Cancel the effect of your opponent's combat spell.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Second Wind",spellCost:3,htmlDescription:"<p>After this battle, the attacking unit may attack again, starting a new battle.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Arcane Armiments",spellCost:1,htmlDescription:"<p>The attacking unit gains the <i>Magic Attack</i> ability.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Leap Through Space",spellCost:1,htmlDescription:"<p>At the end of the battle, you may move the unit you control in this battle (attacker or defender) up to two regions away. This does not trigger opportunity attacks.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Spiked Shell",spellCost:1,htmlDescription:"<p>If the attacking unit is adjacent to the defending unit, the attacking units takes 1 damage at the end of the battle.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Reverse Time",spellCost:1,htmlDescription:"<p>After the attack dice are rolled, you may choose to re-roll all of the attack dice.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Time Mastery",spellCost:5,htmlDescription:"<p>At the end of this turn, you may take an addition turn.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Starfall",spellCost:4,htmlDescription:`<p>Choose a player. Attack each unit that player controls with 3 ${U.Attack}.</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Frost Lance",spellCost:3,htmlDescription:`<p>Attack a unit with 3 ${U.Attack}. You may add a -${U.SlowHaste} token to that unit</p>`,effectTokens:[ae.Slow],regions:null,castType:O.Normal,destructive:!1},{name:"Summon Elemental",spellCost:3,htmlDescription:`<p>Attack a unit adjacent to a mountain or water region with 4 ${U.Attack}.</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Counter Attack",spellCost:3,htmlDescription:"<p>At the end of the battle, if the defending unit is still alive, it may attack the attacking unit, starting a new battle.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Instant Transmission",spellCost:3,htmlDescription:"<p>You may move a unit you control to any unoccupied region.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Vortex",spellCost:3,htmlDescription:"<p>Move any unit to an unoccupied region adjacent to a city or capitol of that units controller.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Sap Strength",spellCost:4,htmlDescription:`<p>Choose a playerAdd a -${U.StrengthenWeaken} token on each unit that player controls.</p>`,effectTokens:[ae.Weaken],regions:null,castType:O.Normal,destructive:!1},{name:"Mirror Reflection",spellCost:3,htmlDescription:"<p>At the end of the battle, the attacking unit is dealt damage equal to the damage dealt to the defending unit.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Healing Rain",spellCost:4,htmlDescription:"<p>Until the end of the round, each unit you control <i>Heals 1</i> at the end of each of your turns.</p>",effectTokens:null,regions:null,castType:O.Normal,destructive:!1},{name:"Lightning Bolt",spellCost:2,htmlDescription:"<p>Deal 1 damage to the attacking or defending unit.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Dark Bargin",spellCost:1,htmlDescription:`<p>The attacking unit gain 3 ${U.Attack}. The attacking unit takes 1 damage at the end of the battle.</p>`,effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Egress",spellCost:1,htmlDescription:"<p>Return the attacked unit to an unoccupied region adjacent to its controller's capitol.</p>",effectTokens:null,regions:null,castType:O.Combat,destructive:!1},{name:"Frost Nova",spellCost:5,htmlDescription:`<p>Choose a region. Attack each unit up to 2${U.Range} from the chosen region with 3${U.Attack}. Add a -${U.SlowHaste} token to each unit attacked using this spell that did not receive damage.</p>`,effectTokens:null,regions:null,castType:O.Normal,destructive:!0}];let Io=(()=>{class c{constructor(){this.spellCardsToPrint=new Map}static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();const nr=c=>({"rotate-clockwise":c}),Ut=c=>({selected:c}),An=()=>[];function Vi(c,b){if(1&c&&(i.j41(0,"option",12),i.EFF(1),i.k0s()),2&c){const v=b.$implicit;i.Y8G("ngValue",v.value),i.R7$(),i.SpI("",v.value," ")}}function Pe(c,b){if(1&c){const v=i.RV6();i.j41(0,"button",13),i.bIt("click",function(){i.eBV(v);const _=i.XpG();return i.Njj(_.router.navigate(["uprising/spell-cards-print-sheet"]))}),i.EFF(1),i.k0s()}if(2&c){const v=i.XpG();i.BMQ("aria-label","Print "+v.spellCardService.spellCardsToPrint.size+" selected spell cards"),i.R7$(),i.Lme(" Print ",v.spellCardService.spellCardsToPrint.size," Spell Card",v.spellCardService.spellCardsToPrint.size>1?"s":""," ")}}function mn(c,b){1&c&&i.nrm(0,"i",26)}function rr(c,b){1&c&&i.nrm(0,"i",27)}function aa(c,b){1&c&&i.nrm(0,"i",28)}function Ar(c,b){1&c&&(i.j41(0,"span"),i.EFF(1," *Added to print list "),i.k0s())}function sa(c,b){if(1&c){const v=i.RV6();i.j41(0,"div",14)(1,"div",15)(2,"div",16),i.DNE(3,mn,1,0,"i",17)(4,rr,1,0,"i",18),i.j41(5,"p",19),i.EFF(6),i.k0s(),i.j41(7,"div"),i.DNE(8,aa,1,0,"i",20),i.k0s()(),i.nrm(9,"div",21),i.k0s(),i.j41(10,"div",22)(11,"button",23),i.bIt("click",function(){const _=i.eBV(v).$implicit,A=i.XpG();return i.Njj(A.addCardToPrintList(_))}),i.nrm(12,"i",24),i.k0s(),i.DNE(13,Ar,2,0,"span",25),i.k0s()()}if(2&c){const v=b.$implicit,C=i.XpG();i.Y8G("ngClass",i.eq3(8,Ut,C.spellCardService.spellCardsToPrint.has(v.name))),i.R7$(3),i.Y8G("ngIf","Prepared"==v.castType),i.R7$(),i.Y8G("ngIf","Instant"==v.castType),i.R7$(2),i.JRh(v.name),i.R7$(2),i.Y8G("ngForOf",i.lJ4(10,An).constructor(v.spellCost)),i.R7$(),i.Y8G("innerHTML",v.htmlDescription,i.npT),i.R7$(2),i.BMQ("aria-label","Add "+v.name+" to print list"),i.R7$(2),i.Y8G("ngIf",C.spellCardService.spellCardsToPrint.has(v.name))}}var mt=function(c){return c.Alphabetical="Alphabetical",c.SpellCostHighest="Spell Cost Highest",c.SpellCostLowest="Spell Cost Lowest",c.PreparedSpells="Prepared Spells",c.InstantSpells="Instant Spells",c.CombatSpells="Combat Spells",c}(mt||{});let la=(()=>{class c{ngOnInit(){this.spellCards="uprising-tactics"===this.cardList?[...gt]:[...tr],this.calculateSpellStats(),this.sortSpellCardList(mt.Alphabetical)}constructor(v,C){this.spellCardService=v,this.router=C,this.route=(0,i.WQX)(T.nX),this.cardList=this.route.snapshot.queryParamMap.get("card-list"),this.spellCards=[],this.SpellCardSortOptions=mt,this.showSpellStats=!1,this.spellCost1Total=0,this.spellCost2Total=0,this.spellCost3Total=0,this.spellCost4Total=0,this.spellCost5Total=0,this.spellRegionPlainsTotal=0,this.spellRegionForestTotal=0,this.spellRegionHillsTotal=0,this.spellRegionBadlandsTotal=0,this.spellRegionMarshTotal=0,this.spellCostAverage=0,this.numberOfPreparedSpells=0,this.numberOfInstantSpells=0,this.numberOfTokenSpells=0,this.numberOfCombatSpells=0,this.spellCardSort=mt.Alphabetical}calculateSpellStats(){this.spellCards.forEach(C=>{switch(C.spellCost){case 1:this.spellCost1Total++;break;case 2:this.spellCost2Total++;break;case 3:this.spellCost3Total++;break;case 4:this.spellCost4Total++;break;case 5:this.spellCost5Total++}switch(C.regions&&C.regions.forEach(_=>{switch(_){case Ne.Forest:this.spellRegionForestTotal++;break;case Ne.Badlands:this.spellRegionBadlandsTotal++;break;case Ne.Plains:this.spellRegionPlainsTotal++;break;case Ne.Marsh:this.spellRegionMarshTotal++;break;case Ne.Hills:this.spellRegionHillsTotal++}}),C.castType){case O.Prepared:this.numberOfPreparedSpells++;break;case O.Instant:this.numberOfInstantSpells++;break;case O.Combat:this.numberOfCombatSpells++}C.effectTokens&&C.effectTokens?.length>0&&this.numberOfTokenSpells++});const v=(0,Xi.sumBy)(this.spellCards,"spellCost");this.spellCostAverage=v/this.spellCards.length}sortOptionChangeEvent(v){this.sortSpellCardList(v.target.value)}sortSpellCardList(v){switch(v){case mt.Alphabetical:this.spellCards.sort((C,_)=>C.name.localeCompare(_.name));break;case mt.PreparedSpells:this.spellCards.sort((C,_)=>{const A=C.castType===O.Prepared,N=_.castType===O.Prepared;return A&&!N?-1:!A&&N?1:C.spellCost-_.spellCost||C.name.localeCompare(_.name)});break;case mt.InstantSpells:this.spellCards.sort((C,_)=>{const A=C.castType===O.Instant,N=_.castType===O.Instant;return A&&!N?-1:!A&&N?1:C.spellCost-_.spellCost||C.name.localeCompare(_.name)});break;case mt.CombatSpells:this.spellCards.sort((C,_)=>{const A=C.castType===O.Combat,N=_.castType===O.Combat;return A&&!N?-1:!A&&N?1:C.spellCost-_.spellCost||C.name.localeCompare(_.name)});break;case mt.SpellCostHighest:this.spellCards.sort((C,_)=>_.spellCost-C.spellCost||C.name.localeCompare(_.name));break;case mt.SpellCostLowest:this.spellCards.sort((C,_)=>C.spellCost-_.spellCost||C.name.localeCompare(_.name))}}addCardToPrintList(v){this.spellCardService.spellCardsToPrint.has(v.name)?this.spellCardService.spellCardsToPrint.delete(v.name):this.spellCardService.spellCardsToPrint.set(v.name,v)}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(Io),i.rXU(T.Ix))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-spell-cards"]],decls:52,vars:25,consts:[[1,"container"],[3,"title"],["for","spellCardSort"],["id","spellCardSort","aria-label","How would you like to sort the spell card list?",1,"form-select","mb-3",2,"max-width","300px",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["class","btn btn-primary sticky-top fade-in mb-2","style","top: 5px",3,"click",4,"ngIf"],[1,"row","ms-0"],["class","card mb-2 me-2","style","max-width: 20rem;",3,"ngClass",4,"ngFor","ngForOf"],["data-bs-toggle","collapse","data-bs-target","#timeNameCollapse","aria-controls","timeNameCollapse","aria-label","Toggle spell card stats",1,"btn","btn-link","p-0","d-flex","align-items-center",3,"click"],["id","spellStatsHeading",1,"mb-0"],["aria-hidden","true",1,"bi","ms-3","bi-chevron-up","med-icon","rotate-transition",3,"ngClass"],["id","timeNameCollapse","role","region","aria-labelledby","spellStatsHeading",1,"collapse"],[3,"ngValue"],[1,"btn","btn-primary","sticky-top","fade-in","mb-2",2,"top","5px",3,"click"],[1,"card","mb-2","me-2",2,"max-width","20rem",3,"ngClass"],[1,"card-body"],[1,"d-flex","justify-content-between"],["class","bi bi-clock","aria-hidden","true",4,"ngIf"],["class","bi bi-lightning-fill","aria-hidden","true",4,"ngIf"],[1,"card-title","fs-6","fw-bold"],["class","bi bi-gem ms-1","aria-hidden","true",4,"ngFor","ngForOf"],[1,"card-text",3,"innerHTML"],[1,"card-footer","row"],[1,"btn","btn-link","p-0",3,"click"],["aria-hidden","true",1,"bi","bi-printer","ms-1"],[4,"ngIf"],["aria-hidden","true",1,"bi","bi-clock"],["aria-hidden","true",1,"bi","bi-lightning-fill"],["aria-hidden","true",1,"bi","bi-gem","ms-1"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.nrm(1,"app-heading-with-back",1),i.j41(2,"div")(3,"label",2),i.EFF(4,"Spell Card Sort"),i.k0s(),i.j41(5,"select",3),i.bIt("change",function(N){return _.sortOptionChangeEvent(N)}),i.DNE(6,Vi,2,2,"option",4),i.nI1(7,"keyvalue"),i.k0s()(),i.DNE(8,Pe,2,3,"button",5),i.j41(9,"div",6),i.DNE(10,sa,14,11,"div",7),i.k0s(),i.j41(11,"button",8),i.bIt("click",function(){return _.showSpellStats=!_.showSpellStats}),i.j41(12,"h2",9),i.EFF(13,"Spell Card Stats"),i.k0s(),i.nrm(14,"i",10),i.k0s(),i.j41(15,"div",11)(16,"p"),i.EFF(17),i.k0s(),i.j41(18,"h3"),i.EFF(19,"Spell costs"),i.k0s(),i.j41(20,"p"),i.EFF(21),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27),i.k0s(),i.j41(28,"p"),i.EFF(29),i.k0s(),i.j41(30,"p"),i.EFF(31),i.k0s(),i.j41(32,"h3"),i.EFF(33,"Regions"),i.k0s(),i.j41(34,"p"),i.EFF(35),i.k0s(),i.j41(36,"p"),i.EFF(37),i.k0s(),i.j41(38,"p"),i.EFF(39),i.k0s(),i.j41(40,"p"),i.EFF(41),i.k0s(),i.j41(42,"p"),i.EFF(43),i.k0s(),i.j41(44,"h3"),i.EFF(45,"Other"),i.k0s(),i.j41(46,"p"),i.EFF(47),i.k0s(),i.j41(48,"p"),i.EFF(49),i.k0s(),i.j41(50,"p"),i.EFF(51),i.k0s()()()),2&C&&(i.R7$(),i.Y8G("title","Spell Cards"),i.R7$(5),i.Y8G("ngForOf",i.bMT(7,21,_.SpellCardSortOptions)),i.R7$(2),i.Y8G("ngIf",_.spellCardService.spellCardsToPrint.size>0),i.R7$(2),i.Y8G("ngForOf",_.spellCards),i.R7$(),i.BMQ("aria-expanded",_.showSpellStats),i.R7$(3),i.Y8G("ngClass",i.eq3(23,nr,_.showSpellStats)),i.R7$(3),i.SpI("Total number of spells: ",_.spellCards.length,""),i.R7$(4),i.SpI("Number of spells costing 1: ",_.spellCost1Total,""),i.R7$(2),i.SpI("Number of spells costing 2: ",_.spellCost2Total,""),i.R7$(2),i.SpI("Number of spells costing 3: ",_.spellCost3Total,""),i.R7$(2),i.SpI("Number of spells costing 4: ",_.spellCost4Total,""),i.R7$(2),i.SpI("Number of spells costing 5: ",_.spellCost5Total,""),i.R7$(2),i.SpI("Average spell cost: ",_.spellCostAverage,""),i.R7$(4),i.SpI("Number of Spells effecting Marsh Regions: ",_.spellRegionMarshTotal,""),i.R7$(2),i.SpI("Number of Spells effecting Hills Regions: ",_.spellRegionHillsTotal,""),i.R7$(2),i.SpI("Number of Spells effecting Forest Regions: ",_.spellRegionForestTotal,""),i.R7$(2),i.SpI("Number of Spells effecting Plains Regions: ",_.spellRegionPlainsTotal,""),i.R7$(2),i.SpI("Number of Spells effecting Badlands Regions: ",_.spellRegionBadlandsTotal,""),i.R7$(4),i.SpI("Number of prepared spells: ",_.numberOfPreparedSpells,""),i.R7$(2),i.SpI("Number of token spells: ",_.numberOfTokenSpells,""),i.R7$(2),i.SpI("Number of combat spells: ",_.numberOfCombatSpells,""))},dependencies:[de.YU,de.Sq,de.bT,ie.xH,ie.y7,De.L,de.lG],styles:[".selected[_ngcontent-%COMP%]{border-width:10px}"]})}}return c})();const di=["cardText"],ir=()=>[];function Rn(c,b){1&c&&i.nrm(0,"i",10)}function ua(c,b){1&c&&i.nrm(0,"i",11)}function or(c,b){1&c&&i.nrm(0,"i",12)}let Do=(()=>{class c{constructor(v){this.renderer=v,this.spellCard=tr[0]}ngAfterViewInit(){this.cardText?.nativeElement.getBoundingClientRect().height>160&&this.renderer.addClass(this.cardText.nativeElement,"small-text")}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(i.sFG))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-printable-spell-card"]],viewQuery:function(C,_){if(1&C&&i.GBs(di,5),2&C){let A;i.mGM(A=i.lsd())&&(_.cardText=A.first)}},inputs:{spellCard:"spellCard"},decls:12,vars:6,consts:[["cardText",""],[1,"spell-card","p-2","m-1"],[1,"card-body"],[1,"d-flex","justify-content-between","fs-4"],["class","bi bi-lightning-fill",4,"ngIf"],["class","bi bi-clock",4,"ngIf"],[1,"align-self-end"],["class","bi bi-gem ms-1",4,"ngFor","ngForOf"],[1,"card-title","fs-5","fw-bold","text-center","mb-3","segoe"],[1,"card-text","segoe",3,"innerHTML"],[1,"bi","bi-lightning-fill"],[1,"bi","bi-clock"],[1,"bi","bi-gem","ms-1"]],template:function(C,_){1&C&&(i.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),i.DNE(4,Rn,1,0,"i",4)(5,ua,1,0,"i",5),i.k0s(),i.j41(6,"div",6),i.DNE(7,or,1,0,"i",7),i.k0s()(),i.j41(8,"p",8),i.EFF(9),i.k0s(),i.nrm(10,"div",9,0),i.k0s()()),2&C&&(i.R7$(4),i.Y8G("ngIf","Instant"==_.spellCard.castType),i.R7$(),i.Y8G("ngIf","Prepared"==_.spellCard.castType),i.R7$(2),i.Y8G("ngForOf",i.lJ4(5,ir).constructor(_.spellCard.spellCost)),i.R7$(2),i.JRh(_.spellCard.name),i.R7$(),i.Y8G("innerHTML",_.spellCard.htmlDescription,i.npT))},dependencies:[de.Sq,de.bT],styles:[".spell-card[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-width:9px;height:362px;width:261px}@font-face{font-family:segoe;src:url(Segoe-Print-Font.8b4b3174f557f5f1.ttf)}.segoe[_ngcontent-%COMP%]{font-family:segoe}.small-text[_ngcontent-%COMP%]{font-size:small}"]})}}return c})();function ar(c,b){if(1&c&&(i.qex(0),i.nrm(1,"app-printable-spell-card",2),i.bVm()),2&c){const v=b.$implicit;i.R7$(),i.Y8G("spellCard",v.value)}}const Ki=[{path:"",component:Ro},{path:"mercenary-picker",component:Fo},{path:"maps",component:Ae},{path:"tile-randomizer",component:Ue},{path:"reference-cards",component:ht},{path:"map-details/:id",component:ia},{path:"map-builder",component:Oe},{path:"map-builder-options",component:$n},{path:"factions",component:Fr},{path:"spell-cards",component:la},{path:"spell-cards-print-sheet",component:(()=>{class c{constructor(v){this.spellCardService=v}static{this.\u0275fac=function(C){return new(C||c)(i.rXU(Io))}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["app-spell-card-print-sheet"]],decls:3,vars:3,consts:[[1,"d-flex","flex-wrap",2,"width","1100px"],[4,"ngFor","ngForOf"],[3,"spellCard"]],template:function(C,_){1&C&&(i.j41(0,"div",0),i.DNE(1,ar,2,1,"ng-container",1),i.nI1(2,"keyvalue"),i.k0s()),2&C&&(i.R7$(),i.Y8G("ngForOf",i.bMT(2,1,_.spellCardService.spellCardsToPrint)))},dependencies:[de.Sq,Do,de.lG]})}}return c})()}];let ca=(()=>{class c{static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275mod=i.$C({type:c})}static{this.\u0275inj=i.G2t({imports:[T.iI.forChild(Ki),T.iI]})}}return c})();var sr=Q(3887);let Ir=(()=>{class c{static{this.\u0275fac=function(C){return new(C||c)}}static{this.\u0275mod=i.$C({type:c})}static{this.\u0275inj=i.G2t({imports:[de.MD,ca,ie.YN,sr.G,Co.d]})}}return c})()},920:Bt=>{Bt.exports=function(){var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.default=void 0,ze.default=function(n){return!(!n||!n.Window)&&n instanceof n.Window};var Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.getWindow=function(n){return(0,ze.default)(n)?n:(n.ownerDocument||n).defaultView||T.window},Q.init=i,Q.window=Q.realWindow=void 0;var de=void 0;Q.realWindow=de;var T=void 0;function i(n){Q.realWindow=de=n;var r=n.document.createTextNode("");r.ownerDocument!==n.document&&"function"==typeof n.wrap&&n.wrap(r)===r&&(n=n.wrap(n)),Q.window=T=n}Q.window=T,typeof window<"u"&&window&&i(window);var D={};function Ee(n){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var ie=function(n){return!!n&&"object"===Ee(n)},De=function(n){return"function"==typeof n},Jt={window:function(n){return n===Q.window||(0,ze.default)(n)},docFrag:function(n){return ie(n)&&11===n.nodeType},object:ie,func:De,number:function(n){return"number"==typeof n},bool:function(n){return"boolean"==typeof n},string:function(n){return"string"==typeof n},element:function(n){if(!n||"object"!==Ee(n))return!1;var r=Q.getWindow(n)||Q.window;return/object|function/.test(typeof Element>"u"?"undefined":Ee(Element))?n instanceof Element||n instanceof r.Element:1===n.nodeType&&"string"==typeof n.nodeName},plainObject:function(n){return ie(n)&&!!n.constructor&&/function Object\b/.test(n.constructor.toString())},array:function(n){return ie(n)&&void 0!==n.length&&De(n.splice)}};D.default=Jt;var ct={};function kt(n){var r=n.interaction;if("drag"===r.prepared.name){var a=r.prepared.axis;"x"===a?(r.coords.cur.page.y=r.coords.start.page.y,r.coords.cur.client.y=r.coords.start.client.y,r.coords.velocity.client.y=0,r.coords.velocity.page.y=0):"y"===a&&(r.coords.cur.page.x=r.coords.start.page.x,r.coords.cur.client.x=r.coords.start.client.x,r.coords.velocity.client.x=0,r.coords.velocity.page.x=0)}}function _t(n){var r=n.iEvent,a=n.interaction;if("drag"===a.prepared.name){var s=a.prepared.axis;if("x"===s||"y"===s){var l="x"===s?"y":"x";r.page[l]=a.coords.start.page[l],r.client[l]=a.coords.start.client[l],r.delta[l]=0}}}Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=void 0;var vr={id:"actions/drag",install:function(n){var r=n.actions,s=n.defaults;n.Interactable.prototype.draggable=vr.draggable,r.map.drag=vr,r.methodDict.drag="draggable",s.actions.drag=vr.defaults},listeners:{"interactions:before-action-move":kt,"interactions:action-resume":kt,"interactions:action-move":_t,"auto-start:check":function(n){var r=n.interaction,a=n.interactable,s=n.buttons,l=a.options.drag;if(l&&l.enabled&&(!r.pointerIsDown||!/mouse|pointer/.test(r.pointerType)||s&a.options.drag.mouseButtons))return n.action={name:"drag",axis:"start"===l.lockAxis?l.startAxis:l.lockAxis},!1}},draggable:function(n){return D.default.object(n)?(this.options.drag.enabled=!1!==n.enabled,this.setPerAction("drag",n),this.setOnEvents("drag",n),/^(xy|x|y|start)$/.test(n.lockAxis)&&(this.options.drag.lockAxis=n.lockAxis),/^(xy|x|y)$/.test(n.startAxis)&&(this.options.drag.startAxis=n.startAxis),this):D.default.bool(n)?(this.options.drag.enabled=n,this):this.options.drag},beforeMove:kt,move:_t,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}};ct.default=vr;var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;var et={init:function(n){var r=n;et.document=r.document,et.DocumentFragment=r.DocumentFragment||fe,et.SVGElement=r.SVGElement||fe,et.SVGSVGElement=r.SVGSVGElement||fe,et.SVGElementInstance=r.SVGElementInstance||fe,et.Element=r.Element||fe,et.HTMLElement=r.HTMLElement||et.Element,et.Event=r.Event,et.Touch=r.Touch||fe,et.PointerEvent=r.PointerEvent||r.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function fe(){}$e.default=et;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=void 0;var We={init:function(n){var r=$e.default.Element,a=n.navigator||{};We.supportsTouch="ontouchstart"in n||D.default.func(n.DocumentTouch)&&$e.default.document instanceof n.DocumentTouch,We.supportsPointerEvent=!1!==a.pointerEnabled&&!!$e.default.PointerEvent,We.isIOS=/iP(hone|od|ad)/.test(a.platform),We.isIOS7=/iP(hone|od|ad)/.test(a.platform)&&/OS 7[^\d]/.test(a.appVersion),We.isIe9=/MSIE 9/.test(a.userAgent),We.isOperaMobile="Opera"===a.appName&&We.supportsTouch&&/Presto/.test(a.userAgent),We.prefixedMatchesSelector="matches"in r.prototype?"matches":"webkitMatchesSelector"in r.prototype?"webkitMatchesSelector":"mozMatchesSelector"in r.prototype?"mozMatchesSelector":"oMatchesSelector"in r.prototype?"oMatchesSelector":"msMatchesSelector",We.pEventTypes=We.supportsPointerEvent?$e.default.PointerEvent===n.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,We.wheelEvent=$e.default.document&&"onmousewheel"in $e.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};nt.default=We;var J={};function Lt(n){var r=n.parentNode;if(D.default.docFrag(r)){for(;(r=r.host)&&D.default.docFrag(r););return r}return r}function rt(n,r){return Q.window!==Q.realWindow&&(r=r.replace(/\/deep\//g," ")),n[nt.default.prefixedMatchesSelector](r)}Object.defineProperty(J,"__esModule",{value:!0}),J.closest=function(n,r){for(;D.default.element(n);){if(rt(n,r))return n;n=Lt(n)}return null},J.getActualElement=function(n){return n.correspondingUseElement||n},J.getElementClientRect=ho,J.getElementRect=function(n){var r=ho(n);if(!nt.default.isIOS7&&r){var a=xi(Q.getWindow(n));r.left+=a.x,r.right+=a.x,r.top+=a.y,r.bottom+=a.y}return r},J.getPath=function(n){for(var r=[];n;)r.push(n),n=Lt(n);return r},J.getScrollXY=xi,J.indexOfDeepestElement=function(n){for(var r,a=[],s=0;s<n.length;s++){var l=n[s],f=n[r];if(l&&s!==r)if(f){var g=Cn(l),p=Cn(f);if(g!==l.ownerDocument)if(p!==l.ownerDocument)if(g!==p){a=a.length?a:Kr(f);var h=void 0;if(f instanceof $e.default.HTMLElement&&l instanceof $e.default.SVGElement&&!(l instanceof $e.default.SVGSVGElement)){if(l===p)continue;h=l.ownerSVGElement}else h=l;for(var w=Kr(h,f.ownerDocument),k=0;w[k]&&w[k]===a[k];)k++;var P=[w[k-1],w[k],a[k]];if(P[0])for(var I=P[0].lastChild;I;){if(I===P[1]){r=s,a=w;break}if(I===P[2])break;I=I.previousSibling}}else B=l,F=f,(parseInt(Q.getWindow(B).getComputedStyle(B).zIndex,10)||0)>=(parseInt(Q.getWindow(F).getComputedStyle(F).zIndex,10)||0)&&(r=s);else r=s}else r=s}var B,F;return r},J.matchesSelector=rt,J.matchesUpTo=function(n,r,a){for(;D.default.element(n);){if(rt(n,r))return!0;if((n=Lt(n))===a)return rt(n,r)}return!1},J.nodeContains=function(n,r){if(n.contains)return n.contains(r);for(;r;){if(r===n)return!0;r=r.parentNode}return!1},J.parentNode=Lt,J.trySelector=function(n){return!!D.default.string(n)&&($e.default.document.querySelector(n),!0)};var Cn=function(n){return n.parentNode||n.host};function Kr(n,r){for(var a,s=[],l=n;(a=Cn(l))&&l!==r&&a!==l.ownerDocument;)s.unshift(l),l=a;return s}function xi(n){return{x:(n=n||Q.window).scrollX||n.document.documentElement.scrollLeft,y:n.scrollY||n.document.documentElement.scrollTop}}function ho(n){var r=n instanceof $e.default.SVGElement?n.getBoundingClientRect():n.getClientRects()[0];return r&&{left:r.left,right:r.right,top:r.top,bottom:r.bottom,width:r.width||r.right-r.left,height:r.height||r.bottom-r.top}}var V={};Object.defineProperty(V,"__esModule",{value:!0}),V.default=function(n,r){for(var a in r)n[a]=r[a];return n};var je={};function Si(n,r){(null==r||r>n.length)&&(r=n.length);for(var a=0,s=Array(r);a<r;a++)s[a]=n[a];return s}function yr(n,r,a){return"parent"===n?(0,J.parentNode)(a):"self"===n?r.getRect(a):(0,J.closest)(a,n)}Object.defineProperty(je,"__esModule",{value:!0}),je.addEdges=function(n,r,a){n.left&&(r.left+=a.x),n.right&&(r.right+=a.x),n.top&&(r.top+=a.y),n.bottom&&(r.bottom+=a.y),r.width=r.right-r.left,r.height=r.bottom-r.top},je.getStringOptionResult=yr,je.rectToXY=function(n){return n&&{x:"x"in n?n.x:n.left,y:"y"in n?n.y:n.top}},je.resolveRectLike=function(n,r,a,s){var l,f=n;return D.default.string(f)?f=yr(f,r,a):D.default.func(f)&&(f=f.apply(void 0,function(g){if(Array.isArray(g))return Si(g)}(l=s)||function(g){if(typeof Symbol<"u"&&null!=g[Symbol.iterator]||null!=g["@@iterator"])return Array.from(g)}(l)||function(g,p){if(g){if("string"==typeof g)return Si(g,p);var h=Object.prototype.toString.call(g).slice(8,-1);return"Object"===h&&g.constructor&&(h=g.constructor.name),"Map"===h||"Set"===h?Array.from(g):"Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?Si(g,p):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),D.default.element(f)&&(f=(0,J.getElementRect)(f)),f},je.tlbrToXywh=function(n){return!n||"x"in n&&"y"in n||((n=(0,V.default)({},n)).x=n.left||0,n.y=n.top||0,n.width=n.width||(n.right||0)-n.x,n.height=n.height||(n.bottom||0)-n.y),n},je.xywhToTlbr=function(n){return!n||"left"in n&&"top"in n||((n=(0,V.default)({},n)).left=n.x||0,n.top=n.y||0,n.right=n.right||n.left+n.width,n.bottom=n.bottom||n.top+n.height),n};var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=function(n,r,a){var s=n.options[a],f=(0,je.resolveRectLike)(s&&s.origin||n.options.origin,n,r,[n&&r]);return(0,je.rectToXY)(f)||{x:0,y:0}};var st={};function Zt(n){return n.trim().split(/ +/)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=function n(r,a,s){if(s=s||{},D.default.string(r)&&-1!==r.search(" ")&&(r=Zt(r)),D.default.array(r))return r.reduce(function(h,w){return(0,V.default)(h,n(w,a,s))},s);if(D.default.object(r)&&(a=r,r=""),D.default.func(a))s[r]=s[r]||[],s[r].push(a);else if(D.default.array(a))for(var l=0;l<a.length;l++)n(r,a[l],s);else if(D.default.object(a))for(var g in a){var p=Zt(g).map(function(h){return"".concat(r).concat(h)});n(p,a[g],s)}return s};var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.default=void 0,$t.default=function(n,r){return Math.sqrt(n*n+r*r)};var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=function(n,r){n.__set||(n.__set={});var a=function(l){"function"!=typeof n[l]&&"__set"!==l&&Object.defineProperty(n,l,{get:function(){return l in n.__set?n.__set[l]:n.__set[l]=r[l]},set:function(f){n.__set[l]=f},configurable:!0})};for(var s in r)a(s);return n};var q={};function Pi(n){return n instanceof $e.default.Event||n instanceof $e.default.Touch}function br(n,r,a){return(a=a||{}).x=r[(n=n||"page")+"X"],a.y=r[n+"Y"],a}function Ei(n,r){return r=r||{x:0,y:0},nt.default.isOperaMobile&&Pi(n)?(br("screen",n,r),r.x+=window.scrollX,r.y+=window.scrollY):br("page",n,r),r}function xn(n,r){return r=r||{},nt.default.isOperaMobile&&Pi(n)?br("screen",n,r):br("client",n,r),r}function cn(n){var r=[];return D.default.array(n)?(r[0]=n[0],r[1]=n[1]):"touchend"===n.type?1===n.touches.length?(r[0]=n.touches[0],r[1]=n.changedTouches[0]):0===n.touches.length&&(r[0]=n.changedTouches[0],r[1]=n.changedTouches[1]):(r[0]=n.touches[0],r[1]=n.touches[1]),r}function Mi(n){for(var r={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},a=0;a<n.length;a++){var s=n[a];for(var l in r)r[l]+=s[l]}for(var f in r)r[f]/=n.length;return r}Object.defineProperty(q,"__esModule",{value:!0}),q.coordsToEvent=function(n){return{coords:n,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},q.copyCoords=function(n,r){n.page=n.page||{},n.page.x=r.page.x,n.page.y=r.page.y,n.client=n.client||{},n.client.x=r.client.x,n.client.y=r.client.y,n.timeStamp=r.timeStamp},q.getClientXY=xn,q.getEventTargets=function(n){var r=D.default.func(n.composedPath)?n.composedPath():n.path;return[J.getActualElement(r?r[0]:n.target),J.getActualElement(n.currentTarget)]},q.getPageXY=Ei,q.getPointerId=function(n){return D.default.number(n.pointerId)?n.pointerId:n.identifier},q.getPointerType=function(n){return D.default.string(n.pointerType)?n.pointerType:D.default.number(n.pointerType)?[void 0,void 0,"touch","pen","mouse"][n.pointerType]:/touch/.test(n.type||"")||n instanceof $e.default.Touch?"touch":"mouse"},q.getTouchPair=cn,q.getXY=br,q.isNativePointer=Pi,q.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},q.pointerAverage=Mi,Object.defineProperty(q,"pointerExtend",{enumerable:!0,get:function(){return Ge.default}}),q.setCoordDeltas=function(n,r,a){n.page.x=a.page.x-r.page.x,n.page.y=a.page.y-r.page.y,n.client.x=a.client.x-r.client.x,n.client.y=a.client.y-r.client.y,n.timeStamp=a.timeStamp-r.timeStamp},q.setCoordVelocity=function(n,r){var a=Math.max(r.timeStamp/1e3,.001);n.page.x=r.page.x/a,n.page.y=r.page.y/a,n.client.x=r.client.x/a,n.client.y=r.client.y/a,n.timeStamp=a},q.setCoords=function(n,r,a){var s=r.length>1?Mi(r):r[0];Ei(s,n.page),xn(s,n.client),n.timeStamp=a},q.setZeroCoords=function(n){n.page.x=0,n.page.y=0,n.client.x=0,n.client.y=0},q.touchAngle=function(n,r){var a=r+"X",s=r+"Y",l=cn(n);return 180*Math.atan2(l[1][s]-l[0][s],l[1][a]-l[0][a])/Math.PI},q.touchBBox=function(n){if(!n.length)return null;var r=cn(n),a=Math.min(r[0].pageX,r[1].pageX),s=Math.min(r[0].pageY,r[1].pageY),l=Math.max(r[0].pageX,r[1].pageX),f=Math.max(r[0].pageY,r[1].pageY);return{x:a,y:s,left:a,top:s,right:l,bottom:f,width:l-a,height:f-s}},q.touchDistance=function(n,r){var a=r+"X",s=r+"Y",l=cn(n);return(0,$t.default)(l[0][a]-l[1][a],l[0][s]-l[1][s])};var Nt={};function Jr(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.BaseEvent=void 0;var wr=function(){function n(s){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,n),Jr(this,"immediatePropagationStopped",!1),Jr(this,"propagationStopped",!1),this._interaction=s}var r,a;return r=n,(a=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function _r(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();Nt.BaseEvent=wr,Object.defineProperty(wr.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.remove=Se.merge=Se.from=Se.findIndex=Se.find=Se.contains=void 0,Se.contains=function(n,r){return-1!==n.indexOf(r)},Se.remove=function(n,r){return n.splice(n.indexOf(r),1)};var Zr=function(n,r){for(var a=0;a<r.length;a++)n.push(r[a]);return n};Se.merge=Zr,Se.from=function(n){return Zr([],n)};var pt=function(n,r){for(var a=0;a<n.length;a++)if(r(n[a],a,n))return a;return-1};Se.findIndex=pt,Se.find=function(n,r){return n[pt(n,r)]};var it={};function Tr(n){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function Nn(n,r){return(Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a})(n,r)}function xt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tt(n){return(tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(n)}function zt(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(it,"__esModule",{value:!0}),it.DropEvent=void 0;var zn=function(n){!function(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&Nn(p,h)}(g,n);var r,a,s,l,f=(s=g,l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,h=tt(s);if(l){var w=tt(this).constructor;p=Reflect.construct(h,arguments,w)}else p=h.apply(this,arguments);return function Oi(n,r){if(r&&("object"===Tr(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return xt(n)}(this,p)});function g(p,h,w){var k;(function(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")})(this,g),zt(xt(k=f.call(this,h._interaction)),"dropzone",void 0),zt(xt(k),"dragEvent",void 0),zt(xt(k),"relatedTarget",void 0),zt(xt(k),"draggable",void 0),zt(xt(k),"propagationStopped",!1),zt(xt(k),"immediatePropagationStopped",!1);var P="dragleave"===w?p.prev:p.cur,I=P.element,B=P.dropzone;return k.type=w,k.target=I,k.currentTarget=I,k.dropzone=B,k.dragEvent=h,k.relatedTarget=h.target,k.draggable=h.interactable,k.timeStamp=h.timeStamp,k}return r=g,(a=[{key:"reject",value:function(){var p=this,h=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&h.cur.dropzone===this.dropzone&&h.cur.element===this.target)if(h.prev.dropzone=this.dropzone,h.prev.element=this.target,h.rejected=!0,h.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var k=Se.findIndex(h.activeDrops,function(I){return I.dropzone===p.dropzone&&I.element===p.target});h.activeDrops.splice(k,1);var P=new g(h,this.dragEvent,"dropdeactivate");P.dropzone=this.dropzone,P.target=this.target,this.dropzone.fire(P)}else this.dropzone.fire(new g(h,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function Qt(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),g}(Nt.BaseEvent);it.DropEvent=zn;var Qr={};function fn(n,r){for(var a=0;a<n.slice().length;a++){var s=n.slice()[a],l=s.dropzone,f=s.element;r.dropzone=l,r.target=f,l.fire(r),r.propagationStopped=r.immediatePropagationStopped=!1}}function Fi(n,r){for(var a=function(f,g){for(var p=f.interactables,h=[],w=0;w<p.list.length;w++){var k=p.list[w];if(k.options.drop.enabled){var P=k.options.drop.accept;if(!(D.default.element(P)&&P!==g||D.default.string(P)&&!J.matchesSelector(g,P)||D.default.func(P)&&!P({dropzone:k,draggableElement:g})))for(var I=D.default.string(k.target)?k._context.querySelectorAll(k.target):D.default.array(k.target)?k.target:[k.target],B=0;B<I.length;B++){var F=I[B];F!==g&&h.push({dropzone:k,element:F,rect:k.getRect(F)})}}}return h}(n,r),s=0;s<a.length;s++){var l=a[s];l.rect=l.dropzone.getRect(l.element)}return a}function pn(n,r,a){for(var s=n.dropState,l=n.interactable,f=n.element,g=[],p=0;p<s.activeDrops.length;p++){var h=s.activeDrops[p],k=h.element;g.push(h.dropzone.dropCheck(r,a,l,f,k,h.rect)?k:null)}var I=J.indexOfDeepestElement(g);return s.activeDrops[I]||null}function dn(n,r,a){var s=n.dropState,l={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===a.type&&(l.activate=new it.DropEvent(s,a,"dropactivate"),l.activate.target=null,l.activate.dropzone=null),"dragend"===a.type&&(l.deactivate=new it.DropEvent(s,a,"dropdeactivate"),l.deactivate.target=null,l.deactivate.dropzone=null),s.rejected||(s.cur.element!==s.prev.element&&(s.prev.dropzone&&(l.leave=new it.DropEvent(s,a,"dragleave"),a.dragLeave=l.leave.target=s.prev.element,a.prevDropzone=l.leave.dropzone=s.prev.dropzone),s.cur.dropzone&&(l.enter=new it.DropEvent(s,a,"dragenter"),a.dragEnter=s.cur.element,a.dropzone=s.cur.dropzone)),"dragend"===a.type&&s.cur.dropzone&&(l.drop=new it.DropEvent(s,a,"drop"),a.dropzone=s.cur.dropzone,a.relatedTarget=s.cur.element),"dragmove"===a.type&&s.cur.dropzone&&(l.move=new it.DropEvent(s,a,"dropmove"),l.move.dragmove=a,a.dropzone=s.cur.dropzone)),l}function Wn(n,r){var a=n.dropState,s=a.activeDrops,l=a.cur;r.leave&&a.prev.dropzone.fire(r.leave),r.enter&&l.dropzone.fire(r.enter),r.move&&l.dropzone.fire(r.move),r.drop&&l.dropzone.fire(r.drop),r.deactivate&&fn(s,r.deactivate),a.prev.dropzone=l.dropzone,a.prev.element=l.element}function ei(n,r){var a=n.interaction,s=n.iEvent,l=n.event;if("dragmove"===s.type||"dragend"===s.type){var f=a.dropState;r.dynamicDrop&&(f.activeDrops=Fi(r,a.element));var g=s,p=pn(a,g,l);f.rejected=f.rejected&&!!p&&p.dropzone===f.cur.dropzone&&p.element===f.cur.element,f.cur.dropzone=p&&p.dropzone,f.cur.element=p&&p.element,f.events=dn(a,0,g)}}Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.default=void 0;var Gn={id:"actions/drop",install:function(n){var r=n.actions,a=n.interactStatic,s=n.Interactable,l=n.defaults;n.usePlugin(ct.default),s.prototype.dropzone=function(f){return function(g,p){if(D.default.object(p)){if(g.options.drop.enabled=!1!==p.enabled,p.listeners){var h=(0,st.default)(p.listeners),w=Object.keys(h).reduce(function(k,P){return k[/^(enter|leave)/.test(P)?"drag".concat(P):/^(activate|deactivate|move)/.test(P)?"drop".concat(P):P]=h[P],k},{});g.off(g.options.drop.listeners),g.on(w),g.options.drop.listeners=w}return D.default.func(p.ondrop)&&g.on("drop",p.ondrop),D.default.func(p.ondropactivate)&&g.on("dropactivate",p.ondropactivate),D.default.func(p.ondropdeactivate)&&g.on("dropdeactivate",p.ondropdeactivate),D.default.func(p.ondragenter)&&g.on("dragenter",p.ondragenter),D.default.func(p.ondragleave)&&g.on("dragleave",p.ondragleave),D.default.func(p.ondropmove)&&g.on("dropmove",p.ondropmove),/^(pointer|center)$/.test(p.overlap)?g.options.drop.overlap=p.overlap:D.default.number(p.overlap)&&(g.options.drop.overlap=Math.max(Math.min(1,p.overlap),0)),"accept"in p&&(g.options.drop.accept=p.accept),"checker"in p&&(g.options.drop.checker=p.checker),g}return D.default.bool(p)?(g.options.drop.enabled=p,g):g.options.drop}(this,f)},s.prototype.dropCheck=function(f,g,p,h,w,k){return function(P,I,B,F,W,H,G){var ee=!1;if(!(G=G||P.getRect(H)))return!!P.options.drop.checker&&P.options.drop.checker(I,B,ee,P,H,F,W);var te=P.options.drop.overlap;if("pointer"===te){var he=(0,kn.default)(F,W,"drag"),be=q.getPageXY(I);be.x+=he.x,be.y+=he.y,ee=be.x>G.left&&be.x<G.right&&be.y>G.top&&be.y<G.bottom}var Re=F.getRect(W);if(Re&&"center"===te){var At=Re.left+Re.width/2,Rt=Re.top+Re.height/2;ee=At>=G.left&&At<=G.right&&Rt>=G.top&&Rt<=G.bottom}return Re&&D.default.number(te)&&(ee=Math.max(0,Math.min(G.right,Re.right)-Math.max(G.left,Re.left))*Math.max(0,Math.min(G.bottom,Re.bottom)-Math.max(G.top,Re.top))/(Re.width*Re.height)>=te),P.options.drop.checker&&(ee=P.options.drop.checker(I,B,ee,P,H,F,W)),ee}(this,f,g,p,h,w,k)},a.dynamicDrop=function(f){return D.default.bool(f)?(n.dynamicDrop=f,a):n.dynamicDrop},(0,V.default)(r.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),r.methodDict.drop="dropzone",n.dynamicDrop=!1,l.actions.drop=Gn.defaults},listeners:{"interactions:before-action-start":function(n){var r=n.interaction;"drag"===r.prepared.name&&(r.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(n,r){var a=n.interaction,s=n.iEvent;if("drag"===a.prepared.name){var l=a.dropState;l.activeDrops=null,l.events=null,l.activeDrops=Fi(r,a.element),l.events=dn(a,0,s),l.events.activate&&(fn(l.activeDrops,l.events.activate),r.fire("actions/drop:start",{interaction:a,dragEvent:s}))}},"interactions:action-move":ei,"interactions:after-action-move":function(n,r){var a=n.interaction,s=n.iEvent;"drag"===a.prepared.name&&(Wn(a,a.dropState.events),r.fire("actions/drop:move",{interaction:a,dragEvent:s}),a.dropState.events={})},"interactions:action-end":function(n,r){if("drag"===n.interaction.prepared.name){var a=n.interaction,s=n.iEvent;ei(n,r),Wn(a,a.dropState.events),r.fire("actions/drop:end",{interaction:a,dragEvent:s})}},"interactions:stop":function(n){var r=n.interaction;if("drag"===r.prepared.name){var a=r.dropState;a&&(a.activeDrops=null,a.events=null,a.cur.dropzone=null,a.cur.element=null,a.prev.dropzone=null,a.prev.element=null,a.rejected=!1)}}},getActiveDrops:Fi,getDrop:pn,getDropEvents:dn,fireDropEvents:Wn,defaults:{enabled:!1,accept:null,overlap:"pointer"}};Qr.default=Gn;var Un={};function Cr(n){var r=n.interaction,a=n.iEvent,s=n.phase;if("gesture"===r.prepared.name){var l=r.pointers.map(function(w){return w.pointer}),f="start"===s,g="end"===s,p=r.interactable.options.deltaSource;if(a.touches=[l[0],l[1]],f)a.distance=q.touchDistance(l,p),a.box=q.touchBBox(l),a.scale=1,a.ds=0,a.angle=q.touchAngle(l,p),a.da=0,r.gesture.startDistance=a.distance,r.gesture.startAngle=a.angle;else if(g){var h=r.prevEvent;a.distance=h.distance,a.box=h.box,a.scale=h.scale,a.ds=0,a.angle=h.angle,a.da=0}else a.distance=q.touchDistance(l,p),a.box=q.touchBBox(l),a.scale=a.distance/r.gesture.startDistance,a.angle=q.touchAngle(l,p),a.ds=a.scale-r.gesture.scale,a.da=a.angle-r.gesture.angle;r.gesture.distance=a.distance,r.gesture.angle=a.angle,D.default.number(a.scale)&&a.scale!==1/0&&!isNaN(a.scale)&&(r.gesture.scale=a.scale)}}Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=void 0;var kr={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(n){var r=n.actions,s=n.defaults;n.Interactable.prototype.gesturable=function(l){return D.default.object(l)?(this.options.gesture.enabled=!1!==l.enabled,this.setPerAction("gesture",l),this.setOnEvents("gesture",l),this):D.default.bool(l)?(this.options.gesture.enabled=l,this):this.options.gesture},r.map.gesture=kr,r.methodDict.gesture="gesturable",s.actions.gesture=kr.defaults},listeners:{"interactions:action-start":Cr,"interactions:action-move":Cr,"interactions:action-end":Cr,"interactions:new":function(n){n.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(n){if(!(n.interaction.pointers.length<2)){var r=n.interactable.options.gesture;if(r&&r.enabled)return n.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}};Un.default=kr;var hn={};function ti(n,r,a,s,l,f,g){if(!r)return!1;if(!0===r){var p=D.default.number(f.width)?f.width:f.right-f.left,h=D.default.number(f.height)?f.height:f.bottom-f.top;if(g=Math.min(g,Math.abs(("left"===n||"right"===n?p:h)/2)),p<0&&("left"===n?n="right":"right"===n&&(n="left")),h<0&&("top"===n?n="bottom":"bottom"===n&&(n="top")),"left"===n)return a.x<(p>=0?f.left:f.right)+g;if("top"===n)return a.y<(h>=0?f.top:f.bottom)+g;if("right"===n)return a.x>(p>=0?f.right:f.left)-g;if("bottom"===n)return a.y>(h>=0?f.bottom:f.top)-g}return!!D.default.element(s)&&(D.default.element(r)?r===s:J.matchesUpTo(s,r,l))}function ni(n){var a=n.interaction;if("resize"===a.prepared.name&&a.resizeAxes){var s=n.iEvent;a.interactable.options.resize.square?("y"===a.resizeAxes?s.delta.x=s.delta.y:s.delta.y=s.delta.x,s.axes="xy"):(s.axes=a.resizeAxes,"x"===a.resizeAxes?s.delta.y=0:"y"===a.resizeAxes&&(s.delta.x=0))}}Object.defineProperty(hn,"__esModule",{value:!0}),hn.default=void 0;var Wt={id:"actions/resize",before:["actions/drag"],install:function(n){var r=n.actions,a=n.browser,s=n.Interactable,l=n.defaults;Wt.cursors=a.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},Wt.defaultMargin=a.supportsTouch||a.supportsPointerEvent?20:10,s.prototype.resizable=function(f){return g=this,h=n,D.default.object(p=f)?(g.options.resize.enabled=!1!==p.enabled,g.setPerAction("resize",p),g.setOnEvents("resize",p),D.default.string(p.axis)&&/^x$|^y$|^xy$/.test(p.axis)?g.options.resize.axis=p.axis:null===p.axis&&(g.options.resize.axis=h.defaults.actions.resize.axis),D.default.bool(p.preserveAspectRatio)?g.options.resize.preserveAspectRatio=p.preserveAspectRatio:D.default.bool(p.square)&&(g.options.resize.square=p.square),g):D.default.bool(p)?(g.options.resize.enabled=p,g):g.options.resize;var g,p,h},r.map.resize=Wt,r.methodDict.resize="resizable",l.actions.resize=Wt.defaults},listeners:{"interactions:new":function(n){n.interaction.resizeAxes="xy"},"interactions:action-start":function(n){(function(r){var s=r.interaction;if("resize"===s.prepared.name&&s.prepared.edges){var l=r.iEvent,f=s.rect;s._rects={start:(0,V.default)({},f),corrected:(0,V.default)({},f),previous:(0,V.default)({},f),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},l.edges=s.prepared.edges,l.rect=s._rects.corrected,l.deltaRect=s._rects.delta}})(n),ni(n)},"interactions:action-move":function(n){(function(r){var s=r.interaction;if("resize"===s.prepared.name&&s.prepared.edges){var l=r.iEvent,f=s.interactable.options.resize.invert,g="reposition"===f||"negate"===f,p=s.rect,h=s._rects,w=h.start,k=h.corrected,P=h.delta,I=h.previous;if((0,V.default)(I,k),g){if((0,V.default)(k,p),"reposition"===f){if(k.top>k.bottom){var B=k.top;k.top=k.bottom,k.bottom=B}if(k.left>k.right){var F=k.left;k.left=k.right,k.right=F}}}else k.top=Math.min(p.top,w.bottom),k.bottom=Math.max(p.bottom,w.top),k.left=Math.min(p.left,w.right),k.right=Math.max(p.right,w.left);for(var W in k.width=k.right-k.left,k.height=k.bottom-k.top,k)P[W]=k[W]-I[W];l.edges=s.prepared.edges,l.rect=k,l.deltaRect=P}})(n),ni(n)},"interactions:action-end":function(n){var a=n.interaction;if("resize"===a.prepared.name&&a.prepared.edges){var s=n.iEvent;s.edges=a.prepared.edges,s.rect=a._rects.corrected,s.deltaRect=a._rects.delta}},"auto-start:check":function(n){var r=n.interaction,a=n.interactable,s=n.element,l=n.rect,f=n.buttons;if(l){var g=(0,V.default)({},r.coords.cur.page),p=a.options.resize;if(p&&p.enabled&&(!r.pointerIsDown||!/mouse|pointer/.test(r.pointerType)||f&p.mouseButtons)){if(D.default.object(p.edges)){var h={left:!1,right:!1,top:!1,bottom:!1};for(var w in h)h[w]=ti(w,p.edges[w],g,r._latestPointer.eventTarget,s,l,p.margin||Wt.defaultMargin);h.left=h.left&&!h.right,h.top=h.top&&!h.bottom,(h.left||h.right||h.top||h.bottom)&&(n.action={name:"resize",edges:h})}else{var k="y"!==p.axis&&g.x>l.right-Wt.defaultMargin,P="x"!==p.axis&&g.y>l.bottom-Wt.defaultMargin;(k||P)&&(n.action={name:"resize",axes:(k?"x":"")+(P?"y":"")})}return!n.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(n){var r=n.edges,a=n.axis,l=Wt.cursors,f=null;if(a)f=l[n.name+a];else if(r){for(var g="",p=["top","bottom","left","right"],h=0;h<p.length;h++){var w=p[h];r[w]&&(g+=w)}f=l[g]}return f},defaultMargin:null};hn.default=Wt;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0,Hn.default={id:"actions",install:function(n){n.usePlugin(Un.default),n.usePlugin(hn.default),n.usePlugin(ct.default),n.usePlugin(Qr.default)}};var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var en,tn,Ii=0;St.default={request:function(n){return en(n)},cancel:function(n){return tn(n)},init:function(n){if(tn=n.cancelAnimationFrame,!(en=n.requestAnimationFrame))for(var r=["ms","moz","webkit","o"],a=0;a<r.length;a++){var s=r[a];en=n["".concat(s,"RequestAnimationFrame")],tn=n["".concat(s,"CancelAnimationFrame")]||n["".concat(s,"CancelRequestAnimationFrame")]}en=en&&en.bind(n),tn=tn&&tn.bind(n),en||(en=function(l){var f=Date.now(),g=Math.max(0,16-(f-Ii)),p=n.setTimeout(function(){l(f+g)},g);return Ii=f+g,p},tn=function(l){return clearTimeout(l)})}};var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=void 0,Gt.getContainer=Pt,Gt.getScroll=Sn,Gt.getScrollSize=function(n){return D.default.window(n)&&(n=window.document.body),{x:n.scrollWidth,y:n.scrollHeight}},Gt.getScrollSizeDelta=function(n,r){var a=n.interaction,s=n.element,l=a&&a.interactable.options[a.prepared.name].autoScroll;if(!l||!l.enabled)return r(),{x:0,y:0};var f=Pt(l.container,a.interactable,s),g=Sn(f);r();var p=Sn(f);return{x:p.x-g.x,y:p.y-g.y}};var oe={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(n){oe.isScrolling=!0,St.default.cancel(oe.i),n.autoScroll=oe,oe.interaction=n,oe.prevTime=oe.now(),oe.i=St.default.request(oe.scroll)},stop:function(){oe.isScrolling=!1,oe.interaction&&(oe.interaction.autoScroll=null),St.default.cancel(oe.i)},scroll:function(){var n=oe.interaction,r=n.interactable,a=n.element,l=r.options[n.prepared.name].autoScroll,f=Pt(l.container,r,a),g=oe.now(),h=l.speed*((g-oe.prevTime)/1e3);if(h>=1){var w={x:oe.x*h,y:oe.y*h};if(w.x||w.y){var k=Sn(f);D.default.window(f)?f.scrollBy(w.x,w.y):f&&(f.scrollLeft+=w.x,f.scrollTop+=w.y);var P=Sn(f),I={x:P.x-k.x,y:P.y-k.y};(I.x||I.y)&&r.fire({type:"autoscroll",target:a,interactable:r,delta:I,interaction:n,container:f})}oe.prevTime=g}oe.isScrolling&&(St.default.cancel(oe.i),oe.i=St.default.request(oe.scroll))},check:function(n,r){var a;return null==(a=n.options[r].autoScroll)?void 0:a.enabled},onInteractionMove:function(n){var r=n.interaction,a=n.pointer;if(r.interacting()&&oe.check(r.interactable,r.prepared.name))if(r.simulation)oe.x=oe.y=0;else{var s,l,f,g,p=r.interactable,k=p.options[r.prepared.name].autoScroll,P=Pt(k.container,p,r.element);if(D.default.window(P))g=a.clientX<oe.margin,s=a.clientY<oe.margin,l=a.clientX>P.innerWidth-oe.margin,f=a.clientY>P.innerHeight-oe.margin;else{var I=J.getElementClientRect(P);g=a.clientX<I.left+oe.margin,s=a.clientY<I.top+oe.margin,l=a.clientX>I.right-oe.margin,f=a.clientY>I.bottom-oe.margin}oe.x=l?1:g?-1:0,oe.y=f?1:s?-1:0,oe.isScrolling||(oe.margin=k.margin,oe.speed=k.speed,oe.start(r))}}};function Pt(n,r,a){return(D.default.string(n)?(0,je.getStringOptionResult)(n,r,a):n)||(0,Q.getWindow)(a)}function Sn(n){return D.default.window(n)&&(n=window.document.body),{x:n.scrollLeft,y:n.scrollTop}}Gt.default={id:"auto-scroll",install:function(n){var r=n.defaults,a=n.actions;n.autoScroll=oe,oe.now=function(){return n.now()},a.phaselessTypes.autoscroll=!0,r.perAction.autoScroll=oe.defaults},listeners:{"interactions:new":function(n){n.interaction.autoScroll=null},"interactions:destroy":function(n){n.interaction.autoScroll=null,oe.stop(),oe.interaction&&(oe.interaction=null)},"interactions:stop":oe.stop,"interactions:action-move":function(n){return oe.onInteractionMove(n)}}};var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.copyAction=function(n,r){return n.name=r.name,n.axis=r.axis,n.edges=r.edges,n},dt.sign=void 0,dt.warnOnce=function(n,r){var a=!1;return function(){return a||(Q.window.console.warn(r),a=!0),n.apply(this,arguments)}},dt.sign=function(n){return n>=0?1:-1};var Yn={};function Qo(n){return D.default.bool(n)?(this.options.styleCursor=n,this):null===n?(delete this.options.styleCursor,this):this.options.styleCursor}function Bi(n){return D.default.func(n)?(this.options.actionChecker=n,this):null===n?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.default=void 0,Yn.default={id:"auto-start/interactableMethods",install:function(n){var r=n.Interactable;r.prototype.getAction=function(a,s,l,f){var p,h,w,k,P,I,B,g=(h=s,w=l,P=n,I=(p=this).getRect(k=f),P.fire("auto-start:check",B={action:null,interactable:p,interaction:w,element:k,rect:I,buttons:h.buttons||{0:1,1:4,3:8,4:16}[h.button]}),B.action);return this.options.actionChecker?this.options.actionChecker(a,s,g,this,f,l):g},r.prototype.ignoreFrom=(0,dt.warnOnce)(function(a){return this._backCompatOption("ignoreFrom",a)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),r.prototype.allowFrom=(0,dt.warnOnce)(function(a){return this._backCompatOption("allowFrom",a)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),r.prototype.actionChecker=Bi,r.prototype.styleCursor=Qo}};var gn={};function yo(n,r,a,s,l){return r.testIgnoreAllow(r.options[n.name],a,s)&&r.options[n.name].enabled&&xr(r,a,n,l)?n:null}function Li(n,r,a,s,l,f,g){for(var p=0,h=s.length;p<h;p++){var w=s[p],k=l[p],P=w.getAction(r,a,n,k);if(P){var I=yo(P,w,k,f,g);if(I)return{action:I,interactable:w,element:k}}}return{action:null,interactable:null,element:null}}function $i(n,r,a,s,l){var f=[],g=[],p=s;function h(k){f.push(k),g.push(p)}for(;D.default.element(p);){f=[],g=[],l.interactables.forEachMatch(p,h);var w=Li(n,r,a,f,g,s,l);if(w.action&&!w.interactable.options[w.action.name].manualStart)return w;p=J.parentNode(p)}return{action:null,interactable:null,element:null}}function ri(n,r,a){var s=r.action,l=r.interactable,f=r.element;s=s||{name:null},n.interactable=l,n.element=f,(0,dt.copyAction)(n.prepared,s),n.rect=l&&s.name?l.getRect(f):null,bo(n,a),a.fire("autoStart:prepared",{interaction:n})}function xr(n,r,a,s){var l=n.options,f=l[a.name].max,g=l[a.name].maxPerElement,p=s.autoStart.maxInteractions,h=0,w=0,k=0;if(!(f&&g&&p))return!1;for(var P=0;P<s.interactions.list.length;P++){var I=s.interactions.list[P],B=I.prepared.name;if(I.interacting()&&(++h>=p||I.interactable===n&&((w+=B===a.name?1:0)>=f||I.element===r&&(k++,B===a.name&&k>=g))))return!1}return p>0}function ii(n,r){return D.default.number(n)?(r.autoStart.maxInteractions=n,this):r.autoStart.maxInteractions}function oi(n,r,a){var s=a.autoStart.cursorElement;s&&s!==n&&(s.style.cursor=""),n.ownerDocument.documentElement.style.cursor=r,n.style.cursor=r,a.autoStart.cursorElement=r?n:null}function bo(n,r){var a=n.interactable,s=n.element,l=n.prepared;if("mouse"===n.pointerType&&a&&a.options.styleCursor){var f="";if(l.name){var g=a.options[l.name].cursorChecker;f=D.default.func(g)?g(l,a,s,n._interacting):r.actions.map[l.name].getCursor(l)}oi(n.element,f||"",r)}else r.autoStart.cursorElement&&oi(r.autoStart.cursorElement,"",r)}Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=void 0,gn.default={id:"auto-start/base",before:["actions"],install:function(n){var r=n.interactStatic,a=n.defaults;n.usePlugin(Yn.default),a.base.actionChecker=null,a.base.styleCursor=!0,(0,V.default)(a.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),r.maxInteractions=function(s){return ii(s,n)},n.autoStart={maxInteractions:1/0,withinInteractionLimit:xr,cursorElement:null}},listeners:{"interactions:down":function(n,r){var a=n.interaction,s=n.pointer,l=n.event,f=n.eventTarget;a.interacting()||ri(a,$i(a,s,l,f,r),r)},"interactions:move":function(n,r){var a,s,l,f,g,p;s=r,f=(a=n).pointer,g=a.event,p=a.eventTarget,"mouse"!==(l=a.interaction).pointerType||l.pointerIsDown||l.interacting()||ri(l,$i(l,f,g,p,s),s),function(a,s){var l=a.interaction;if(l.pointerIsDown&&!l.interacting()&&l.pointerWasMoved&&l.prepared.name){s.fire("autoStart:before-start",a);var f=l.interactable,g=l.prepared.name;g&&f&&(f.options[g].manualStart||!xr(f,l.element,l.prepared,s)?l.stop():(l.start(l.prepared,f,l.element),bo(l,s)))}}(n,r)},"interactions:stop":function(n,r){var a=n.interaction,s=a.interactable;s&&s.options.styleCursor&&oi(a.element,"",r)}},maxInteractions:ii,withinInteractionLimit:xr,validateAction:yo};var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.default=void 0,Pn.default={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(n,r){var a=n.interaction,s=n.eventTarget,f=n.dy;if("drag"===a.prepared.name){var g=Math.abs(n.dx),p=Math.abs(f),h=a.interactable.options.drag,w=h.startAxis,k=g>p?"x":g<p?"y":"xy";if(a.prepared.axis="start"===h.lockAxis?k[0]:h.lockAxis,"xy"!==k&&"xy"!==w&&w!==k){a.prepared.name=null;for(var P=s,I=function(F){if(F!==a.interactable){var W=a.interactable.options.drag;if(!W.manualStart&&F.testIgnoreAllow(W,P,s)){var H=F.getAction(a.downPointer,a.downEvent,a,P);if(H&&"drag"===H.name&&function(G,ee){if(!ee)return!1;var te=ee.options.drag.startAxis;return"xy"===G||"xy"===te||te===G}(k,F)&&gn.default.validateAction(H,F,P,s,r))return F}}};D.default.element(P);){var B=r.interactables.forEachMatch(P,I);if(B){a.prepared.name="drag",a.interactable=B,a.element=P;break}P=(0,J.parentNode)(P)}}}}}};var Sr={};function zi(n){var r=n.prepared&&n.prepared.name;if(!r)return null;var a=n.interactable.options;return a[r].hold||a[r].delay}Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.default=void 0,Sr.default={id:"auto-start/hold",install:function(n){var r=n.defaults;n.usePlugin(gn.default),r.perAction.hold=0,r.perAction.delay=0},listeners:{"interactions:new":function(n){n.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(n){var r=n.interaction,a=zi(r);a>0&&(r.autoStartHoldTimer=setTimeout(function(){r.start(r.prepared,r.interactable,r.element)},a))},"interactions:move":function(n){var r=n.interaction;r.autoStartHoldTimer&&r.pointerWasMoved&&!n.duplicate&&(clearTimeout(r.autoStartHoldTimer),r.autoStartHoldTimer=null)},"autoStart:before-start":function(n){var r=n.interaction;zi(r)>0&&(r.prepared.name=null)}},getHoldDuration:zi};var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.default=void 0,Xn.default={id:"auto-start",install:function(n){n.usePlugin(gn.default),n.usePlugin(Sr.default),n.usePlugin(Pn.default)}};var En={};function Gi(n){return/^(always|never|auto)$/.test(n)?(this.options.preventDefault=n,this):D.default.bool(n)?(this.options.preventDefault=n?"always":"never",this):this.options.preventDefault}function si(n){var r=n.interaction;r.interactable&&r.interactable.checkAndPreventDefault(n.event)}function Pr(n){var r=n.Interactable;r.prototype.preventDefault=Gi,r.prototype.checkAndPreventDefault=function(a){return function(s,l,f){var g=s.options.preventDefault;if("never"!==g)if("always"!==g){if(l.events.supportsPassive&&/^touch(start|move)$/.test(f.type)){var p=(0,Q.getWindow)(f.target).document,h=l.getDocOptions(p);if(!h||!h.events||!1!==h.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(f.type)||D.default.element(f.target)&&(0,J.matchesSelector)(f.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||f.preventDefault()}else f.preventDefault()}(this,n,a)},n.interactions.docEvents.push({type:"dragstart",listener:function(a){for(var s=0;s<n.interactions.list.length;s++){var l=n.interactions.list[s];if(l.element&&(l.element===a.target||(0,J.nodeContains)(l.element,a.target)))return void l.interactable.checkAndPreventDefault(a)}}})}Object.defineProperty(En,"__esModule",{value:!0}),En.default=void 0,En.install=Pr;var ta={id:"core/interactablePreventDefault",install:Pr,listeners:["down","move","up","cancel"].reduce(function(n,r){return n["interactions:".concat(r)]=si,n},{})};En.default=ta;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.default=void 0,Vn.default={};var Kn,n,Jn={};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.default=void 0,(n=Kn||(Kn={})).touchAction="touchAction",n.boxSizing="boxSizing",n.noListeners="noListeners",Jn.default={id:"dev-tools",install:function(){}};var wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=function n(r){var a={};for(var s in r){var l=r[s];a[s]=D.default.plainObject(l)?n(l):D.default.array(l)?Se.from(l):l}return a};var Mn={};function li(n,r){return function(a){if(Array.isArray(a))return a}(n)||function(a,s){var l=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=l){var f,g,p=[],h=!0,w=!1;try{for(l=l.call(a);!(h=(f=l.next()).done)&&(p.push(f.value),!s||p.length!==s);h=!0);}catch(k){w=!0,g=k}finally{try{h||null==l.return||l.return()}finally{if(w)throw g}}return p}}(n,r)||function(a,s){if(a){if("string"==typeof a)return To(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return"Object"===l&&a.constructor&&(l=a.constructor.name),"Map"===l||"Set"===l?Array.from(a):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?To(a,s):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(n,r){(null==r||r>n.length)&&(r=n.length);for(var a=0,s=Array(r);a<r;a++)s[a]=n[a];return s}function nn(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.default=void 0,Mn.getRectOffset=ci;var Co=function(){function n(s){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,n),nn(this,"states",[]),nn(this,"startOffset",{left:0,right:0,top:0,bottom:0}),nn(this,"startDelta",void 0),nn(this,"result",void 0),nn(this,"endResult",void 0),nn(this,"edges",void 0),nn(this,"interaction",void 0),this.interaction=s,this.result=Er()}var r,a;return r=n,(a=[{key:"start",value:function(s,l){var w,k,P,f=s.phase,g=this.interaction,p=(P=(k=(w=g).interactable.options[w.prepared.name]).modifiers)&&P.length?P:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(I){var B=k[I];return B&&B.enabled&&{options:B,methods:B._methods}}).filter(function(I){return!!I});this.prepareStates(p),this.edges=(0,V.default)({},g.edges),this.startOffset=ci(g.rect,l),this.startDelta={x:0,y:0};var h=this.fillArg({phase:f,pageCoords:l,preEnd:!1});return this.result=Er(),this.startAll(h),this.result=this.setAll(h)}},{key:"fillArg",value:function(s){var l=this.interaction;return s.interaction=l,s.interactable=l.interactable,s.element=l.element,s.rect=s.rect||l.rect,s.edges=this.edges,s.startOffset=this.startOffset,s}},{key:"startAll",value:function(s){for(var l=0;l<this.states.length;l++){var f=this.states[l];f.methods.start&&(s.state=f,f.methods.start(s))}}},{key:"setAll",value:function(s){var l=s.phase,f=s.preEnd,g=s.skipModifiers,p=s.rect;s.coords=(0,V.default)({},s.pageCoords),s.rect=(0,V.default)({},p);for(var h=g?this.states.slice(g):this.states,w=Er(s.coords,s.rect),k=0;k<h.length;k++){var P,I=h[k],B=I.options,F=(0,V.default)({},s.coords),W=null;null!=(P=I.methods)&&P.set&&this.shouldDo(B,f,l)&&(s.state=I,W=I.methods.set(s),je.addEdges(this.interaction.edges,s.rect,{x:s.coords.x-F.x,y:s.coords.y-F.y})),w.eventProps.push(W)}w.delta.x=s.coords.x-s.pageCoords.x,w.delta.y=s.coords.y-s.pageCoords.y,w.rectDelta.left=s.rect.left-p.left,w.rectDelta.right=s.rect.right-p.right,w.rectDelta.top=s.rect.top-p.top,w.rectDelta.bottom=s.rect.bottom-p.bottom;var H=this.result.coords,G=this.result.rect;return H&&G&&(w.changed=w.rect.left!==G.left||w.rect.right!==G.right||w.rect.top!==G.top||w.rect.bottom!==G.bottom||H.x!==w.coords.x||H.y!==w.coords.y),w}},{key:"applyToInteraction",value:function(s){var l=this.interaction,g=l.coords.cur,p=l.coords.start,h=this.result,w=this.startDelta,k=h.delta;"start"===s.phase&&(0,V.default)(this.startDelta,h.delta);for(var P=0;P<2;P++){var I=li([[p,w],[g,k]][P],2),B=I[0],F=I[1];B.page.x+=F.x,B.page.y+=F.y,B.client.x+=F.x,B.client.y+=F.y}var W=this.result.rectDelta,H=s.rect||l.rect;H.left+=W.left,H.right+=W.right,H.top+=W.top,H.bottom+=W.bottom,H.width=H.right-H.left,H.height=H.bottom-H.top}},{key:"setAndApply",value:function(s){var l=this.interaction,p=s.skipModifiers,h=this.setAll(this.fillArg({preEnd:s.preEnd,phase:s.phase,pageCoords:s.modifiedCoords||l.coords.cur.page}));if(this.result=h,!h.changed&&(!p||p<this.states.length)&&l.interacting())return!1;if(s.modifiedCoords){var w=l.coords.cur.page,k={x:s.modifiedCoords.x-w.x,y:s.modifiedCoords.y-w.y};h.coords.x+=k.x,h.coords.y+=k.y,h.delta.x+=k.x,h.delta.y+=k.y}this.applyToInteraction(s)}},{key:"beforeEnd",value:function(s){var l=s.interaction,f=s.event,g=this.states;if(g&&g.length){for(var p=!1,h=0;h<g.length;h++){var w=g[h];s.state=w;var k=w.options,P=w.methods,I=P.beforeEnd&&P.beforeEnd(s);if(I)return this.endResult=I,!1;p=p||!p&&this.shouldDo(k,!0,s.phase,!0)}p&&l.move({event:f,preEnd:!0})}}},{key:"stop",value:function(s){var l=s.interaction;if(this.states&&this.states.length){var f=(0,V.default)({states:this.states,interactable:l.interactable,element:l.element,rect:null},s);this.fillArg(f);for(var g=0;g<this.states.length;g++){var p=this.states[g];f.state=p,p.methods.stop&&p.methods.stop(f)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(s){this.states=[];for(var l=0;l<s.length;l++){var f=s[l];this.states.push({options:f.options,methods:f.methods,index:l,name:f.name})}return this.states}},{key:"restoreInteractionCoords",value:function(s){var l=s.interaction,f=l.coords,g=l.rect,p=l.modification;if(p.result){for(var w=p.result,P=w.rectDelta,I=[[f.start,p.startDelta],[f.cur,w.delta]],B=0;B<I.length;B++){var F=li(I[B],2),W=F[0],H=F[1];W.page.x-=H.x,W.page.y-=H.y,W.client.x-=H.x,W.client.y-=H.y}g.left-=P.left,g.right-=P.right,g.top-=P.top,g.bottom-=P.bottom}}},{key:"shouldDo",value:function(s,l,f,g){return!(!s||!1===s.enabled||g&&!s.endOnly||s.endOnly&&!l||"start"===f&&!s.setStart)}},{key:"copyFrom",value:function(s){this.startOffset=s.startOffset,this.startDelta=s.startDelta,this.edges=s.edges,this.states=s.states.map(function(l){return(0,wt.default)(l)}),this.result=Er((0,V.default)({},s.result.coords),(0,V.default)({},s.result.rect))}},{key:"destroy",value:function(){for(var s in this)this[s]=null}}])&&function ui(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();function Er(n,r){return{rect:r,coords:n,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ci(n,r){return n?{left:r.x-n.left,top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y}:{left:0,top:0,right:0,bottom:0}}Mn.default=Co;var Ye={};function rn(n){var a=n.interaction.modification.result;a&&(n.iEvent.modifiers=a.eventProps)}Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.addEventModifiers=rn,Ye.default=void 0,Ye.makeModifier=function(n,r){var a=n.defaults,s={start:n.start,set:n.set,beforeEnd:n.beforeEnd,stop:n.stop},l=function(f){var g=f||{};for(var p in g.enabled=!1!==g.enabled,a)p in g||(g[p]=a[p]);var h={options:g,methods:s,name:r,enable:function(){return g.enabled=!0,h},disable:function(){return g.enabled=!1,h}};return h};return r&&"string"==typeof r&&(l._defaults=a,l._methods=s),l},Ye.default={id:"modifiers/base",before:["actions"],install:function(n){n.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(n){var r=n.interaction;r.modification=new Mn.default(r)},"interactions:before-action-start":function(n){var r=n.interaction.modification;r.start(n,n.interaction.coords.start.page),n.interaction.edges=r.edges,r.applyToInteraction(n)},"interactions:before-action-move":function(n){return n.interaction.modification.setAndApply(n)},"interactions:before-action-end":function(n){return n.interaction.modification.beforeEnd(n)},"interactions:action-start":rn,"interactions:action-move":rn,"interactions:action-end":rn,"interactions:after-action-start":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-move":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:stop":function(n){return n.interaction.modification.stop(n)}}};var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.defaults=void 0,Mr.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Zn={};function fi(n){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function pi(n,r){return(pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a})(n,r)}function Oe(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function re(n){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(n)}function X(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.InteractEvent=void 0;var On=function(n){!function(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&pi(p,h)}(g,n);var r,a,s,l,f=(s=g,l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,h=re(s);if(l){var w=re(this).constructor;p=Reflect.construct(h,arguments,w)}else p=h.apply(this,arguments);return function na(n,r){if(r&&("object"===fi(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Oe(n)}(this,p)});function g(p,h,w,k,P,I,B){var F;(function(_e,Ce){if(!(_e instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,g),X(Oe(F=f.call(this,p)),"relatedTarget",null),X(Oe(F),"screenX",void 0),X(Oe(F),"screenY",void 0),X(Oe(F),"button",void 0),X(Oe(F),"buttons",void 0),X(Oe(F),"ctrlKey",void 0),X(Oe(F),"shiftKey",void 0),X(Oe(F),"altKey",void 0),X(Oe(F),"metaKey",void 0),X(Oe(F),"page",void 0),X(Oe(F),"client",void 0),X(Oe(F),"delta",void 0),X(Oe(F),"rect",void 0),X(Oe(F),"x0",void 0),X(Oe(F),"y0",void 0),X(Oe(F),"t0",void 0),X(Oe(F),"dt",void 0),X(Oe(F),"duration",void 0),X(Oe(F),"clientX0",void 0),X(Oe(F),"clientY0",void 0),X(Oe(F),"velocity",void 0),X(Oe(F),"speed",void 0),X(Oe(F),"swipe",void 0),X(Oe(F),"axes",void 0),X(Oe(F),"preEnd",void 0);var W=p.interactable,H=(W&&W.options||Mr.defaults).deltaSource,G=(0,kn.default)(W,P=P||p.element,w),ee="start"===k,te="end"===k,he=ee?Oe(F):p.prevEvent,be=ee?p.coords.start:te?{page:he.page,client:he.client,timeStamp:p.coords.cur.timeStamp}:p.coords.cur;return F.page=(0,V.default)({},be.page),F.client=(0,V.default)({},be.client),F.rect=(0,V.default)({},p.rect),F.timeStamp=be.timeStamp,te||(F.page.x-=G.x,F.page.y-=G.y,F.client.x-=G.x,F.client.y-=G.y),F.ctrlKey=h.ctrlKey,F.altKey=h.altKey,F.shiftKey=h.shiftKey,F.metaKey=h.metaKey,F.button=h.button,F.buttons=h.buttons,F.target=P,F.currentTarget=P,F.preEnd=I,F.type=B||w+(k||""),F.interactable=W,F.t0=ee?p.pointers[p.pointers.length-1].downTime:he.t0,F.x0=p.coords.start.page.x-G.x,F.y0=p.coords.start.page.y-G.y,F.clientX0=p.coords.start.client.x-G.x,F.clientY0=p.coords.start.client.y-G.y,F.delta=ee||te?{x:0,y:0}:{x:F[H].x-he[H].x,y:F[H].y-he[H].y},F.dt=p.coords.delta.timeStamp,F.duration=F.timeStamp-F.t0,F.velocity=(0,V.default)({},p.coords.velocity[H]),F.speed=(0,$t.default)(F.velocity.x,F.velocity.y),F.swipe=te||"inertiastart"===k?F.getSwipe():null,F}return r=g,(a=[{key:"getSwipe",value:function(){var p=this._interaction;if(p.prevEvent.speed<600||this.timeStamp-p.prevEvent.timeStamp>150)return null;var h=180*Math.atan2(p.prevEvent.velocityY,p.prevEvent.velocityX)/Math.PI;h<0&&(h+=360);var w=112.5<=h&&h<247.5,k=202.5<=h&&h<337.5;return{up:k,down:!k&&22.5<=h&&h<157.5,left:w,right:!w&&(292.5<=h||h<67.5),angle:h,speed:p.prevEvent.speed,velocity:{x:p.prevEvent.velocityX,y:p.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function So(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),g}(Nt.BaseEvent);Zn.InteractEvent=On,Object.defineProperties(On.prototype,{pageX:{get:function(){return this.page.x},set:function(n){this.page.x=n}},pageY:{get:function(){return this.page.y},set:function(n){this.page.y=n}},clientX:{get:function(){return this.client.x},set:function(n){this.client.x=n}},clientY:{get:function(){return this.client.y},set:function(n){this.client.y=n}},dx:{get:function(){return this.delta.x},set:function(n){this.delta.x=n}},dy:{get:function(){return this.delta.y},set:function(n){this.delta.y=n}},velocityX:{get:function(){return this.velocity.x},set:function(n){this.velocity.x=n}},velocityY:{get:function(){return this.velocity.y},set:function(n){this.velocity.y=n}}});var Or={};function Po(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function Fn(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(Or,"__esModule",{value:!0}),Or.PointerInfo=void 0;var ia=function ra(n,r,a){return r&&Po(n.prototype,r),a&&Po(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}(function n(r,a,s,l,f){(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,n),Fn(this,"id",void 0),Fn(this,"pointer",void 0),Fn(this,"event",void 0),Fn(this,"downTime",void 0),Fn(this,"downTarget",void 0),this.id=r,this.pointer=a,this.event=s,this.downTime=l,this.downTarget=f});Or.PointerInfo=ia;var Qn,er,lt={};function se(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(lt,"__esModule",{value:!0}),lt.Interaction=void 0,Object.defineProperty(lt,"PointerInfo",{enumerable:!0,get:function(){return Or.PointerInfo}}),lt.default=lt._ProxyValues=lt._ProxyMethods=void 0,lt._ProxyValues=Qn,function(n){n.interactable="",n.element="",n.prepared="",n.pointerIsDown="",n.pointerWasMoved="",n._proxy=""}(Qn||(lt._ProxyValues=Qn={})),lt._ProxyMethods=er,function(n){n.start="",n.move="",n.end="",n.stop="",n.interacting=""}(er||(lt._ProxyMethods=er={}));var Ae=0,Ui=function(){function n(s){var l=this,f=s.pointerType,g=s.scopeFire;(function(I,B){if(!(I instanceof B))throw new TypeError("Cannot call a class as a function")})(this,n),se(this,"interactable",null),se(this,"element",null),se(this,"rect",null),se(this,"_rects",void 0),se(this,"edges",null),se(this,"_scopeFire",void 0),se(this,"prepared",{name:null,axis:null,edges:null}),se(this,"pointerType",void 0),se(this,"pointers",[]),se(this,"downEvent",null),se(this,"downPointer",{}),se(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),se(this,"prevEvent",null),se(this,"pointerIsDown",!1),se(this,"pointerWasMoved",!1),se(this,"_interacting",!1),se(this,"_ending",!1),se(this,"_stopped",!0),se(this,"_proxy",null),se(this,"simulation",null),se(this,"doMove",(0,dt.warnOnce)(function(I){this.move(I)},"The interaction.doMove() method has been renamed to interaction.move()")),se(this,"coords",{start:q.newCoords(),prev:q.newCoords(),cur:q.newCoords(),delta:q.newCoords(),velocity:q.newCoords()}),se(this,"_id",Ae++),this._scopeFire=g,this.pointerType=f;var p=this;this._proxy={};var h=function(I){Object.defineProperty(l._proxy,I,{get:function(){return p[I]}})};for(var w in Qn)h(w);var k=function(I){Object.defineProperty(l._proxy,I,{value:function(){return p[I].apply(p,arguments)}})};for(var P in er)k(P);this._scopeFire("interactions:new",{interaction:this})}var r,a;return r=n,(a=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(s,l,f){var g=this.updatePointer(s,l,f,!0);this._scopeFire("interactions:down",{pointer:s,event:l,eventTarget:f,pointerIndex:g,pointerInfo:this.pointers[g],type:"down",interaction:this})}},{key:"start",value:function(s,l,f){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===s.name?2:1)||!l.options[s.name].enabled)&&((0,dt.copyAction)(this.prepared,s),this.interactable=l,this.element=f,this.rect=l.getRect(f),this.edges=this.prepared.edges?(0,V.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(s,l,f){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(s,l,f,!1);var g,p,h=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(this.pointerWasMoved=(0,$t.default)(g=this.coords.cur.client.x-this.coords.start.client.x,p=this.coords.cur.client.y-this.coords.start.client.y)>this.pointerMoveTolerance);var w=this.getPointerIndex(s),k={pointer:s,pointerIndex:w,pointerInfo:this.pointers[w],event:l,type:"move",eventTarget:f,dx:g,dy:p,duplicate:h,interaction:this};h||q.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",k),h||this.simulation||(this.interacting()&&(k.type=null,this.move(k)),this.pointerWasMoved&&q.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(s){s&&s.event||q.setZeroCoords(this.coords.delta),(s=(0,V.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},s||{})).phase="move",this._doPhase(s)}},{key:"pointerUp",value:function(s,l,f,g){var p=this.getPointerIndex(s);-1===p&&(p=this.updatePointer(s,l,f,!1));var h=/cancel$/i.test(l.type)?"cancel":"up";this._scopeFire("interactions:".concat(h),{pointer:s,pointerIndex:p,pointerInfo:this.pointers[p],event:l,eventTarget:f,type:h,curEventTarget:g,interaction:this}),this.simulation||this.end(l),this.removePointer(s,l)}},{key:"documentBlur",value:function(s){this.end(s),this._scopeFire("interactions:blur",{event:s,type:"blur",interaction:this})}},{key:"end",value:function(s){var l;this._ending=!0,s=s||this._latestPointer.event,this.interacting()&&(l=this._doPhase({event:s,interaction:this,phase:"end"})),this._ending=!1,!0===l&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(s){var l=q.getPointerId(s);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:Se.findIndex(this.pointers,function(f){return f.id===l})}},{key:"getPointerInfo",value:function(s){return this.pointers[this.getPointerIndex(s)]}},{key:"updatePointer",value:function(s,l,f,g){var p=q.getPointerId(s),h=this.getPointerIndex(s),w=this.pointers[h];return g=!1!==g&&(g||/(down|start)$/i.test(l.type)),w?w.pointer=s:(w=new Or.PointerInfo(p,s,l,null,null),h=this.pointers.length,this.pointers.push(w)),q.setCoords(this.coords.cur,this.pointers.map(function(k){return k.pointer}),this._now()),q.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),g&&(this.pointerIsDown=!0,w.downTime=this.coords.cur.timeStamp,w.downTarget=f,q.pointerExtend(this.downPointer,s),this.interacting()||(q.copyCoords(this.coords.start,this.coords.cur),q.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=l,this.pointerWasMoved=!1)),this._updateLatestPointer(s,l,f),this._scopeFire("interactions:update-pointer",{pointer:s,event:l,eventTarget:f,down:g,pointerInfo:w,pointerIndex:h,interaction:this}),h}},{key:"removePointer",value:function(s,l){var f=this.getPointerIndex(s);-1!==f&&(this._scopeFire("interactions:remove-pointer",{pointer:s,event:l,eventTarget:null,pointerIndex:f,pointerInfo:this.pointers[f],interaction:this}),this.pointers.splice(f,1),this.pointerIsDown=!1)}},{key:"_updateLatestPointer",value:function(s,l,f){this._latestPointer.pointer=s,this._latestPointer.event=l,this._latestPointer.eventTarget=f}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(s,l,f,g){return new Zn.InteractEvent(this,s,this.prepared.name,l,this.element,f,g)}},{key:"_fireEvent",value:function(s){var l;null==(l=this.interactable)||l.fire(s),(!this.prevEvent||s.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=s)}},{key:"_doPhase",value:function(s){var l=s.event,f=s.phase,g=s.preEnd,p=s.type,h=this.rect;if(h&&"move"===f&&(je.addEdges(this.edges,h,this.coords.delta[this.interactable.options.deltaSource]),h.width=h.right-h.left,h.height=h.bottom-h.top),!1===this._scopeFire("interactions:before-action-".concat(f),s))return!1;var w=s.iEvent=this._createPreparedEvent(l,f,g,p);return this._scopeFire("interactions:action-".concat(f),s),"start"===f&&(this.prevEvent=w),this._fireEvent(w),this._scopeFire("interactions:after-action-".concat(f),s),!0}},{key:"_now",value:function(){return Date.now()}}])&&function oa(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();lt.Interaction=Ui,lt.default=Ui;var on={};function Hi(n){n.pointerIsDown&&(qi(n.coords.cur,n.offset.total),n.offset.pending.x=0,n.offset.pending.y=0)}function Mo(n){Yi(n.interaction)}function Yi(n){if(!(a=n).offset.pending.x&&!a.offset.pending.y)return!1;var a,r=n.offset.pending;return qi(n.coords.cur,r),qi(n.coords.delta,r),je.addEdges(n.edges,n.rect,r),r.x=0,r.y=0,!0}function Oo(n){var r=n.x,a=n.y;this.offset.pending.x+=r,this.offset.pending.y+=a,this.offset.total.x+=r,this.offset.total.y+=a}function qi(n,r){var a=n.page,s=n.client,l=r.x,f=r.y;a.x+=l,a.y+=f,s.x+=l,s.y+=f}Object.defineProperty(on,"__esModule",{value:!0}),on.addTotal=Hi,on.applyPending=Yi,on.default=void 0,lt._ProxyMethods.offsetBy="",on.default={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(n){n.Interaction.prototype.offsetBy=Oo},listeners:{"interactions:new":function(n){n.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(n){return Hi(n.interaction)},"interactions:before-action-start":Mo,"interactions:before-action-move":Mo,"interactions:before-action-end":function(n){var r=n.interaction;if(Yi(r))return r.move({offset:!0}),r.end(),!1},"interactions:stop":function(n){var r=n.interaction;r.offset.total.x=0,r.offset.total.y=0,r.offset.pending.x=0,r.offset.pending.y=0}}};var Et={};function Ue(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=Et.InertiaState=void 0;var ht=function(){function n(s){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,n),Ue(this,"active",!1),Ue(this,"isModified",!1),Ue(this,"smoothEnd",!1),Ue(this,"allowResume",!1),Ue(this,"modification",void 0),Ue(this,"modifierCount",0),Ue(this,"modifierArg",void 0),Ue(this,"startCoords",void 0),Ue(this,"t0",0),Ue(this,"v0",0),Ue(this,"te",0),Ue(this,"targetOffset",void 0),Ue(this,"modifiedOffset",void 0),Ue(this,"currentOffset",void 0),Ue(this,"lambda_v0",0),Ue(this,"one_ve_v0",0),Ue(this,"timeout",void 0),Ue(this,"interaction",void 0),this.interaction=s}var r,a;return r=n,(a=[{key:"start",value:function(s){var l=this.interaction,f=Fr(l);if(!f||!f.enabled)return!1;var g=l.coords.velocity.client,p=(0,$t.default)(g.x,g.y),h=this.modification||(this.modification=new Mn.default(l));if(h.copyFrom(l.modification),this.t0=l._now(),this.allowResume=f.allowResume,this.v0=p,this.currentOffset={x:0,y:0},this.startCoords=l.coords.cur.page,this.modifierArg=h.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-l.coords.cur.timeStamp<50&&p>f.minSpeed&&p>f.endSpeed)this.startInertia();else{if(h.result=h.setAll(this.modifierArg),!h.result.changed)return!1;this.startSmoothEnd()}return l.modification.result.rect=null,l.offsetBy(this.targetOffset),l._doPhase({interaction:l,event:s,phase:"inertiastart"}),l.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),l.modification.result.rect=null,this.active=!0,l.simulation=this,!0}},{key:"startInertia",value:function(){var s=this,l=this.interaction.coords.velocity.client,f=Fr(this.interaction),g=f.resistance,p=-Math.log(f.endSpeed/this.v0)/g;this.targetOffset={x:(l.x-p)/g,y:(l.y-p)/g},this.te=p,this.lambda_v0=g/this.v0,this.one_ve_v0=1-f.endSpeed/this.v0;var h=this.modification,w=this.modifierArg;w.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},h.result=h.setAll(w),h.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+h.result.delta.x,y:this.targetOffset.y+h.result.delta.y}),this.onNextFrame(function(){return s.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var s=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return s.smoothEndTick()})}},{key:"onNextFrame",value:function(s){var l=this;this.timeout=St.default.request(function(){l.active&&s()})}},{key:"inertiaTick",value:function(){var l,g,p,h=this,w=this.interaction,k=Fr(w).resistance,P=(w._now()-this.t0)/1e3;if(P<this.te){var I,B=1-(Math.exp(-k*P)-this.lambda_v0)/this.one_ve_v0;this.isModified?(l=this.targetOffset.y,g=this.modifiedOffset.y,I={x:Xi(p=B,0,this.targetOffset.x,this.modifiedOffset.x),y:Xi(p,0,l,g)}):I={x:this.targetOffset.x*B,y:this.targetOffset.y*B};var F={x:I.x-this.currentOffset.x,y:I.y-this.currentOffset.y};this.currentOffset.x+=F.x,this.currentOffset.y+=F.y,w.offsetBy(F),w.move(),this.onNextFrame(function(){return h.inertiaTick()})}else w.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var s=this,l=this.interaction,f=l._now()-this.t0,g=Fr(l).smoothEndDuration;if(f<g){var p={x:ae(f,0,this.targetOffset.x,g),y:ae(f,0,this.targetOffset.y,g)},h={x:p.x-this.currentOffset.x,y:p.y-this.currentOffset.y};this.currentOffset.x+=h.x,this.currentOffset.y+=h.y,l.offsetBy(h),l.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return s.smoothEndTick()})}else l.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(s){var l=s.pointer,f=s.event,g=s.eventTarget,p=this.interaction;p.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),p.updatePointer(l,f,g,!0),p._doPhase({interaction:p,event:f,phase:"resume"}),(0,q.copyCoords)(p.coords.prev,p.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,St.default.cancel(this.timeout)}}])&&function Ao(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();function Fr(n){var r=n.interactable,a=n.prepared;return r&&r.options&&a.name&&r.options[a.name].inertia}function Xi(n,r,a,s){var l=1-n;return l*l*r+2*l*n*a+n*n*s}function ae(n,r,a,s){return-a*(n/=s)*(n-2)+r}Et.InertiaState=ht,Et.default={id:"inertia",before:["modifiers","actions"],install:function(n){var r=n.defaults;n.usePlugin(on.default),n.usePlugin(Ye.default),n.actions.phases.inertiastart=!0,n.actions.phases.resume=!0,r.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(n){var r=n.interaction;r.inertia=new ht(r)},"interactions:before-action-end":function(n){var r=n.interaction;return(!r._interacting||r.simulation||!r.inertia.start(n.event))&&null},"interactions:down":function(n){var r=n.interaction,s=r.inertia;if(s.active)for(var l=n.eventTarget;D.default.element(l);){if(l===r.element){s.resume(n);break}l=J.parentNode(l)}},"interactions:stop":function(n){var r=n.interaction.inertia;r.active&&r.stop()},"interactions:before-action-resume":function(n){var r=n.interaction.modification;r.stop(n),r.start(n,n.interaction.coords.cur.page),r.applyToInteraction(n)},"interactions:before-action-inertiastart":function(n){return n.interaction.modification.setAndApply(n)},"interactions:action-resume":Ye.addEventModifiers,"interactions:action-inertiastart":Ye.addEventModifiers,"interactions:after-action-inertiastart":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-resume":function(n){return n.interaction.modification.restoreInteractionCoords(n)}}};var O={};function tr(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function gt(n,r){for(var a=0;a<r.length;a++){var s=r[a];if(n.immediatePropagationStopped)break;s(n)}}Object.defineProperty(O,"__esModule",{value:!0}),O.Eventable=void 0;var Io=function(){function n(s){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,n),tr(this,"options",void 0),tr(this,"types",{}),tr(this,"propagationStopped",!1),tr(this,"immediatePropagationStopped",!1),tr(this,"global",void 0),this.options=(0,V.default)({},s||{})}var r,a;return r=n,(a=[{key:"fire",value:function(s){var l,f=this.global;(l=this.types[s.type])&&gt(s,l),!s.propagationStopped&&f&&(l=f[s.type])&&gt(s,l)}},{key:"on",value:function(s,l){var f=(0,st.default)(s,l);for(s in f)this.types[s]=Se.merge(this.types[s]||[],f[s])}},{key:"off",value:function(s,l){var f=(0,st.default)(s,l);for(s in f){var g=this.types[s];if(g&&g.length)for(var p=0;p<f[s].length;p++){var w=g.indexOf(f[s][p]);-1!==w&&g.splice(w,1)}}}},{key:"getRect",value:function(s){return null}}])&&function U(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();O.Eventable=Io;var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=function(n,r){if(r.phaselessTypes[n])return!0;for(var a in r.map)if(0===n.indexOf(a)&&n.substr(a.length)in r.phases)return!0;return!1};var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.createInteractStatic=function(n){var r=function a(s,l){var f=n.interactables.get(s,l);return f||((f=n.interactables.new(s,l)).events.global=a.globalEvents),f};return r.getPointerAverage=q.pointerAverage,r.getTouchBBox=q.touchBBox,r.getTouchDistance=q.touchDistance,r.getTouchAngle=q.touchAngle,r.getElementRect=J.getElementRect,r.getElementClientRect=J.getElementClientRect,r.matchesSelector=J.matchesSelector,r.closest=J.closest,r.globalEvents={},r.version="1.10.17",r.scope=n,r.use=function(a,s){return this.scope.usePlugin(a,s),this},r.isSet=function(a,s){return!!this.scope.interactables.get(a,s&&s.context)},r.on=(0,dt.warnOnce)(function(a,s,l){if(D.default.string(a)&&-1!==a.search(" ")&&(a=a.trim().split(/ +/)),D.default.array(a)){for(var f=0;f<a.length;f++)this.on(a[f],s,l);return this}if(D.default.object(a)){for(var p in a)this.on(p,a[p],s);return this}return(0,nr.default)(a,this.scope.actions)?this.globalEvents[a]?this.globalEvents[a].push(s):this.globalEvents[a]=[s]:this.scope.events.add(this.scope.document,a,s,{options:l}),this},"The interact.on() method is being deprecated"),r.off=(0,dt.warnOnce)(function(a,s,l){if(D.default.string(a)&&-1!==a.search(" ")&&(a=a.trim().split(/ +/)),D.default.array(a)){for(var f=0;f<a.length;f++)this.off(a[f],s,l);return this}if(D.default.object(a)){for(var p in a)this.off(p,a[p],s);return this}var h;return(0,nr.default)(a,this.scope.actions)?a in this.globalEvents&&-1!==(h=this.globalEvents[a].indexOf(s))&&this.globalEvents[a].splice(h,1):this.scope.events.remove(this.scope.document,a,s,l),this},"The interact.off() method is being deprecated"),r.debug=function(){return this.scope},r.supportsTouch=function(){return nt.default.supportsTouch},r.supportsPointerEvent=function(){return nt.default.supportsPointerEvent},r.stop=function(){for(var a=0;a<this.scope.interactions.list.length;a++)this.scope.interactions.list[a].stop();return this},r.pointerMoveTolerance=function(a){return D.default.number(a)?(this.scope.interactions.pointerMoveTolerance=a,this):this.scope.interactions.pointerMoveTolerance},r.addDocument=function(a,s){this.scope.addDocument(a,s)},r.removeDocument=function(a){this.scope.removeDocument(a)},r};var An={};function Pe(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(An,"__esModule",{value:!0}),An.Interactable=void 0;var mn=function(){function n(s,l,f,g){(function(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")})(this,n),Pe(this,"options",void 0),Pe(this,"_actions",void 0),Pe(this,"target",void 0),Pe(this,"events",new O.Eventable),Pe(this,"_context",void 0),Pe(this,"_win",void 0),Pe(this,"_doc",void 0),Pe(this,"_scopeEvents",void 0),Pe(this,"_rectChecker",void 0),this._actions=l.actions,this.target=s,this._context=l.context||f,this._win=(0,Q.getWindow)((0,J.trySelector)(s)?this._context:s),this._doc=this._win.document,this._scopeEvents=g,this.set(l)}var r,a;return r=n,(a=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(s,l){return D.default.func(l.onstart)&&this.on("".concat(s,"start"),l.onstart),D.default.func(l.onmove)&&this.on("".concat(s,"move"),l.onmove),D.default.func(l.onend)&&this.on("".concat(s,"end"),l.onend),D.default.func(l.oninertiastart)&&this.on("".concat(s,"inertiastart"),l.oninertiastart),this}},{key:"updatePerActionListeners",value:function(s,l,f){(D.default.array(l)||D.default.object(l))&&this.off(s,l),(D.default.array(f)||D.default.object(f))&&this.on(s,f)}},{key:"setPerAction",value:function(s,l){var f=this._defaults;for(var g in l){var p=g,h=this.options[s],w=l[p];"listeners"===p&&this.updatePerActionListeners(s,h.listeners,w),D.default.array(w)?h[p]=Se.from(w):D.default.plainObject(w)?(h[p]=(0,V.default)(h[p]||{},(0,wt.default)(w)),D.default.object(f.perAction[p])&&"enabled"in f.perAction[p]&&(h[p].enabled=!1!==w.enabled)):D.default.bool(w)&&D.default.object(f.perAction[p])?h[p].enabled=w:h[p]=w}}},{key:"getRect",value:function(s){return s=s||(D.default.element(this.target)?this.target:null),D.default.string(this.target)&&(s=s||this._context.querySelector(this.target)),(0,J.getElementRect)(s)}},{key:"rectChecker",value:function(s){var l=this;return D.default.func(s)?(this._rectChecker=s,this.getRect=function(f){var g=(0,V.default)({},l._rectChecker(f));return"width"in g||(g.width=g.right-g.left,g.height=g.bottom-g.top),g},this):null===s?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(s,l){if((0,J.trySelector)(l)||D.default.object(l)){for(var f in this.options[s]=l,this._actions.map)this.options[f][s]=l;return this}return this.options[s]}},{key:"origin",value:function(s){return this._backCompatOption("origin",s)}},{key:"deltaSource",value:function(s){return"page"===s||"client"===s?(this.options.deltaSource=s,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(s){return this._context===s.ownerDocument||(0,J.nodeContains)(this._context,s)}},{key:"testIgnoreAllow",value:function(s,l,f){return!this.testIgnore(s.ignoreFrom,l,f)&&this.testAllow(s.allowFrom,l,f)}},{key:"testAllow",value:function(s,l,f){return!s||!!D.default.element(f)&&(D.default.string(s)?(0,J.matchesUpTo)(f,s,l):!!D.default.element(s)&&(0,J.nodeContains)(s,f))}},{key:"testIgnore",value:function(s,l,f){return!(!s||!D.default.element(f))&&(D.default.string(s)?(0,J.matchesUpTo)(f,s,l):!!D.default.element(s)&&(0,J.nodeContains)(s,f))}},{key:"fire",value:function(s){return this.events.fire(s),this}},{key:"_onOff",value:function(s,l,f,g){D.default.object(l)&&!D.default.array(l)&&(g=f,f=null);var p="on"===s?"add":"remove",h=(0,st.default)(l,f);for(var w in h){"wheel"===w&&(w=nt.default.wheelEvent);for(var k=0;k<h[w].length;k++){var P=h[w][k];(0,nr.default)(w,this._actions)?this.events[s](w,P):D.default.string(this.target)?this._scopeEvents["".concat(p,"Delegate")](this.target,this._context,w,P,g):this._scopeEvents[p](this.target,w,P,g)}}return this}},{key:"on",value:function(s,l,f){return this._onOff("on",s,l,f)}},{key:"off",value:function(s,l,f){return this._onOff("off",s,l,f)}},{key:"set",value:function(s){var l=this._defaults;for(var f in D.default.object(s)||(s={}),this.options=(0,wt.default)(l.base),this._actions.methodDict){var g=f,p=this._actions.methodDict[g];this.options[g]={},this.setPerAction(g,(0,V.default)((0,V.default)({},l.perAction),l.actions[g])),this[p](s[g])}for(var h in s)D.default.func(this[h])&&this[h](s[h]);return this}},{key:"unset",value:function(){if(D.default.string(this.target))for(var s in this._scopeEvents.delegatedEvents)for(var l=this._scopeEvents.delegatedEvents[s],f=l.length-1;f>=0;f--){var g=l[f],w=g.listeners;g.selector===this.target&&g.context===this._context&&l.splice(f,1);for(var k=w.length-1;k>=0;k--)this._scopeEvents.removeDelegate(this.target,this._context,s,w[k][0],w[k][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function Vi(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();An.Interactable=mn;var rr={};function Ar(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(rr,"__esModule",{value:!0}),rr.InteractableSet=void 0;var sa=function(){function n(s){var l=this;(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,n),Ar(this,"list",[]),Ar(this,"selectorMap",{}),Ar(this,"scope",void 0),this.scope=s,s.addListeners({"interactable:unset":function(f){var g=f.interactable,p=g.target,h=g._context,w=D.default.string(p)?l.selectorMap[p]:p[l.scope.id],k=Se.findIndex(w,function(P){return P.context===h});w[k]&&(w[k].context=null,w[k].interactable=null),w.splice(k,1)}})}var r,a;return r=n,(a=[{key:"new",value:function(s,l){l=(0,V.default)(l||{},{actions:this.scope.actions});var f=new this.scope.Interactable(s,l,this.scope.document,this.scope.events),g={context:f._context,interactable:f};return this.scope.addDocument(f._doc),this.list.push(f),D.default.string(s)?(this.selectorMap[s]||(this.selectorMap[s]=[]),this.selectorMap[s].push(g)):(f.target[this.scope.id]||Object.defineProperty(s,this.scope.id,{value:[],configurable:!0}),s[this.scope.id].push(g)),this.scope.fire("interactable:new",{target:s,options:l,interactable:f,win:this.scope._win}),f}},{key:"get",value:function(s,l){var f=l&&l.context||this.scope.document,g=D.default.string(s),p=g?this.selectorMap[s]:s[this.scope.id];if(!p)return null;var h=Se.find(p,function(w){return w.context===f&&(g||w.interactable.inContext(s))});return h&&h.interactable}},{key:"forEachMatch",value:function(s,l){for(var f=0;f<this.list.length;f++){var g=this.list[f],p=void 0;if((D.default.string(g.target)?D.default.element(s)&&J.matchesSelector(s,g.target):s===g.target)&&g.inContext(s)&&(p=l(g)),void 0!==p)return p}}}])&&function aa(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();rr.InteractableSet=sa;var mt={};function di(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function ir(n,r){return function(a){if(Array.isArray(a))return a}(n)||function(a,s){var l=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=l){var f,g,p=[],h=!0,w=!1;try{for(l=l.call(a);!(h=(f=l.next()).done)&&(p.push(f.value),!s||p.length!==s);h=!0);}catch(k){w=!0,g=k}finally{try{h||null==l.return||l.return()}finally{if(w)throw g}}return p}}(n,r)||function(a,s){if(a){if("string"==typeof a)return Rn(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return"Object"===l&&a.constructor&&(l=a.constructor.name),"Map"===l||"Set"===l?Array.from(a):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Rn(a,s):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(n,r){(null==r||r>n.length)&&(r=n.length);for(var a=0,s=Array(r);a<r;a++)s[a]=n[a];return s}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var ua=function(){function n(s){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,n),di(this,"currentTarget",void 0),di(this,"originalEvent",void 0),di(this,"type",void 0),this.originalEvent=s,(0,Ge.default)(this,s)}var r,a;return r=n,(a=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function la(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();function or(n){if(!D.default.object(n))return{capture:!!n,passive:!1};var r=(0,V.default)({},n);return r.capture=!!n.capture,r.passive=!!n.passive,r}mt.default={id:"events",install:function(n){var r,a=[],s={},l=[],f={add:g,remove:p,addDelegate:function(k,P,I,B,F){var W=or(F);if(!s[I]){s[I]=[];for(var H=0;H<l.length;H++){var G=l[H];g(G,I,h),g(G,I,w,!0)}}var ee=s[I],te=Se.find(ee,function(he){return he.selector===k&&he.context===P});te||ee.push(te={selector:k,context:P,listeners:[]}),te.listeners.push([B,W])},removeDelegate:function(k,P,I,B,F){var W,H=or(F),G=s[I],ee=!1;if(G)for(W=G.length-1;W>=0;W--){var te=G[W];if(te.selector===k&&te.context===P){for(var he=te.listeners,be=he.length-1;be>=0;be--){var _e=ir(he[be],2),Re=_e[1];if(_e[0]===B&&Re.capture===H.capture&&Re.passive===H.passive){he.splice(be,1),he.length||(G.splice(W,1),p(P,I,h),p(P,I,w,!0)),ee=!0;break}}if(ee)break}}},delegateListener:h,delegateUseCapture:w,delegatedEvents:s,documents:l,targets:a,supportsOptions:!1,supportsPassive:!1};function g(k,P,I,B){var F=or(B),W=Se.find(a,function(H){return H.eventTarget===k});W||a.push(W={eventTarget:k,events:{}}),W.events[P]||(W.events[P]=[]),k.addEventListener&&!Se.contains(W.events[P],I)&&(k.addEventListener(P,I,f.supportsOptions?F:F.capture),W.events[P].push(I))}function p(k,P,I,B){var F=or(B),W=Se.findIndex(a,function(be){return be.eventTarget===k}),H=a[W];if(H&&H.events)if("all"!==P){var G=!1,ee=H.events[P];if(ee){if("all"===I){for(var te=ee.length-1;te>=0;te--)p(k,P,ee[te],F);return}for(var he=0;he<ee.length;he++)if(ee[he]===I){k.removeEventListener(P,I,f.supportsOptions?F:F.capture),ee.splice(he,1),0===ee.length&&(delete H.events[P],G=!0);break}}G&&!Object.keys(H.events).length&&a.splice(W,1)}else for(P in H.events)H.events.hasOwnProperty(P)&&p(k,P,"all")}function h(k,P){for(var I=or(P),B=new ua(k),F=s[k.type],W=ir(q.getEventTargets(k),1)[0],H=W;D.default.element(H);){for(var G=0;G<F.length;G++){var ee=F[G],he=ee.context;if(J.matchesSelector(H,ee.selector)&&J.nodeContains(he,W)&&J.nodeContains(he,H)){var be=ee.listeners;B.currentTarget=H;for(var _e=0;_e<be.length;_e++){var Ce=ir(be[_e],2),At=Ce[1];At.capture===I.capture&&At.passive===I.passive&&(0,Ce[0])(B)}}}H=J.parentNode(H)}}function w(k){return h(k,!0)}return null==(r=n.document)||r.createElement("div").addEventListener("test",null,{get capture(){return f.supportsOptions=!0},get passive(){return f.supportsPassive=!0}}),n.events=f,f}};var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var Rr={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(n){for(var r=0;r<Rr.methodOrder.length;r++){var s=Rr[Rr.methodOrder[r]](n);if(s)return s}return null},simulationResume:function(n){var r=n.pointerType,s=n.eventTarget,l=n.scope;if(!/down|start/i.test(n.eventType))return null;for(var f=0;f<l.interactions.list.length;f++){var g=l.interactions.list[f],p=s;if(g.simulation&&g.simulation.allowResume&&g.pointerType===r)for(;p;){if(p===g.element)return g;p=J.parentNode(p)}}return null},mouseOrPen:function(n){var r,a=n.pointerId,s=n.pointerType,l=n.eventType,f=n.scope;if("mouse"!==s&&"pen"!==s)return null;for(var g=0;g<f.interactions.list.length;g++){var p=f.interactions.list[g];if(p.pointerType===s){if(p.simulation&&!Ki(p,a))continue;if(p.interacting())return p;r||(r=p)}}if(r)return r;for(var h=0;h<f.interactions.list.length;h++){var w=f.interactions.list[h];if(!(w.pointerType!==s||/down/i.test(l)&&w.simulation))return w}return null},hasPointer:function(n){for(var r=n.pointerId,a=n.scope,s=0;s<a.interactions.list.length;s++){var l=a.interactions.list[s];if(Ki(l,r))return l}return null},idle:function(n){for(var r=n.pointerType,a=n.scope,s=0;s<a.interactions.list.length;s++){var l=a.interactions.list[s];if(1===l.pointers.length){var f=l.interactable;if(f&&(!f.options.gesture||!f.options.gesture.enabled))continue}else if(l.pointers.length>=2)continue;if(!l.interacting()&&r===l.pointerType)return l}return null}};function Ki(n,r){return n.pointers.some(function(a){return a.id===r})}ar.default=Rr;var sr={};function Ir(n){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function c(n,r){return function(a){if(Array.isArray(a))return a}(n)||function(a,s){var l=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=l){var f,g,p=[],h=!0,w=!1;try{for(l=l.call(a);!(h=(f=l.next()).done)&&(p.push(f.value),!s||p.length!==s);h=!0);}catch(k){w=!0,g=k}finally{try{h||null==l.return||l.return()}finally{if(w)throw g}}return p}}(n,r)||function(a,s){if(a){if("string"==typeof a)return b(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return"Object"===l&&a.constructor&&(l=a.constructor.name),"Map"===l||"Set"===l?Array.from(a):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?b(a,s):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(n,r){(null==r||r>n.length)&&(r=n.length);for(var a=0,s=Array(r);a<r;a++)s[a]=n[a];return s}function _(n,r){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a})(n,r)}function N(n){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(n)}Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0;var Z=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function ve(n,r){return function(a){var s=r.interactions.list,l=q.getPointerType(a),f=c(q.getEventTargets(a),2),g=f[0],p=f[1],h=[];if(/^touch/.test(a.type)){r.prevTouchTime=r.now();for(var w=0;w<a.changedTouches.length;w++){var k=a.changedTouches[w],P={pointer:k,pointerId:q.getPointerId(k),pointerType:l,eventType:a.type,eventTarget:g,curEventTarget:p,scope:r},I=vt(P);h.push([P.pointer,P.eventTarget,P.curEventTarget,I])}}else{var B=!1;if(!nt.default.supportsPointerEvent&&/mouse/.test(a.type)){for(var F=0;F<s.length&&!B;F++)B="mouse"!==s[F].pointerType&&s[F].pointerIsDown;B=B||r.now()-r.prevTouchTime<500||0===a.timeStamp}if(!B){var W={pointer:a,pointerId:q.getPointerId(a),pointerType:l,eventType:a.type,curEventTarget:p,eventTarget:g,scope:r},H=vt(W);h.push([W.pointer,W.eventTarget,W.curEventTarget,H])}}for(var G=0;G<h.length;G++){var ee=c(h[G],4);ee[3][n](ee[0],a,ee[1],ee[2])}}}function vt(n){var r=n.pointerType,a=n.scope,s={interaction:ar.default.search(n),searchDetails:n};return a.fire("interactions:find",s),s.interaction||a.interactions.new({pointerType:r})}function Ht(n,r){var a=n.doc,s=n.scope,l=n.options,f=s.interactions.docEvents,g=s.events,p=g[r];for(var h in s.browser.isIOS&&!l.events&&(l.events={passive:!1}),g.delegatedEvents)p(a,h,g.delegateListener),p(a,h,g.delegateUseCapture,!0);for(var w=l&&l.events,k=0;k<f.length;k++){var P=f[k];p(a,P.type,P.listener,w)}}var Ji={id:"core/interactions",install:function(n){for(var r={},a=0;a<Z.length;a++){var s=Z[a];r[s]=ve(s,n)}var l,f=nt.default.pEventTypes;function g(){for(var p=0;p<n.interactions.list.length;p++){var h=n.interactions.list[p];if(h.pointerIsDown&&"touch"===h.pointerType&&!h._interacting)for(var w=function(){var P=h.pointers[k];n.documents.some(function(I){return(0,J.nodeContains)(I.doc,P.downTarget)})||h.removePointer(P.pointer,P.event)},k=0;k<h.pointers.length;k++)w()}}(l=$e.default.PointerEvent?[{type:f.down,listener:g},{type:f.down,listener:r.pointerDown},{type:f.move,listener:r.pointerMove},{type:f.up,listener:r.pointerUp},{type:f.cancel,listener:r.pointerUp}]:[{type:"mousedown",listener:r.pointerDown},{type:"mousemove",listener:r.pointerMove},{type:"mouseup",listener:r.pointerUp},{type:"touchstart",listener:g},{type:"touchstart",listener:r.pointerDown},{type:"touchmove",listener:r.pointerMove},{type:"touchend",listener:r.pointerUp},{type:"touchcancel",listener:r.pointerUp}]).push({type:"blur",listener:function(p){for(var h=0;h<n.interactions.list.length;h++)n.interactions.list[h].documentBlur(p)}}),n.prevTouchTime=0,n.Interaction=function(p){!function(F,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(W&&W.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),W&&_(F,W)}(B,p);var h,w,k,P,I=(k=B,P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var F,W=N(k);if(P){var H=N(this).constructor;F=Reflect.construct(W,arguments,H)}else F=W.apply(this,arguments);return function A(n,r){if(r&&("object"===Ir(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(n)}(this,F)});function B(){return function v(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,B),I.apply(this,arguments)}return h=B,(w=[{key:"pointerMoveTolerance",get:function(){return n.interactions.pointerMoveTolerance},set:function(F){n.interactions.pointerMoveTolerance=F}},{key:"_now",value:function(){return n.now()}}])&&function C(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(h.prototype,w),Object.defineProperty(h,"prototype",{writable:!1}),B}(lt.default),n.interactions={list:[],new:function(p){p.scopeFire=function(w,k){return n.fire(w,k)};var h=new n.Interaction(p);return n.interactions.list.push(h),h},listeners:r,docEvents:l,pointerMoveTolerance:1},n.usePlugin(En.default)},listeners:{"scope:add-document":function(n){return Ht(n,"add")},"scope:remove-document":function(n){return Ht(n,"remove")},"interactable:unset":function(n,r){for(var a=n.interactable,s=r.interactions.list.length-1;s>=0;s--){var l=r.interactions.list[s];l.interactable===a&&(l.stop(),r.fire("interactions:destroy",{interaction:l}),l.destroy(),r.interactions.list.length>2&&r.interactions.list.splice(s,1))}}},onDocSignal:Ht,doOnInteractions:ve,methodNames:Z};sr.default=Ji;var Zi={};function fa(n){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function Dr(){return Dr=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,r,a){var s=function Ra(n,r){for(;!Object.prototype.hasOwnProperty.call(n,r)&&null!==(n=ur(n)););return n}(n,r);if(s){var l=Object.getOwnPropertyDescriptor(s,r);return l.get?l.get.call(arguments.length<3?n:a):l.value}},Dr.apply(this,arguments)}function vn(n,r){return(vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a})(n,r)}function ur(n){return(ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(n)}function Ia(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function Da(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function jr(n,r,a){return r&&Da(n.prototype,r),a&&Da(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function Be(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Scope=void 0,Zi.initScope=Ba;var ja=function(){function n(){var r=this;Ia(this,n),Be(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Be(this,"isInitialized",!1),Be(this,"listenerMaps",[]),Be(this,"browser",nt.default),Be(this,"defaults",(0,wt.default)(Mr.defaults)),Be(this,"Eventable",O.Eventable),Be(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Be(this,"interactStatic",(0,Ut.createInteractStatic)(this)),Be(this,"InteractEvent",Zn.InteractEvent),Be(this,"Interactable",void 0),Be(this,"interactables",new rr.InteractableSet(this)),Be(this,"_win",void 0),Be(this,"document",void 0),Be(this,"window",void 0),Be(this,"documents",[]),Be(this,"_plugins",{list:[],map:{}}),Be(this,"onWindowUnload",function(s){return r.removeDocument(s.target)});var a=this;this.Interactable=function(s){!function(h,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(w&&w.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),w&&vn(h,w)}(p,s);var l,f,g=(l=p,f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var h,w=ur(l);if(f){var k=ur(this).constructor;h=Reflect.construct(w,arguments,k)}else h=w.apply(this,arguments);return function jo(n,r){if(r&&("object"===fa(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(n)}(this,h)});function p(){return Ia(this,p),g.apply(this,arguments)}return jr(p,[{key:"_defaults",get:function(){return a.defaults}},{key:"set",value:function(h){return Dr(ur(p.prototype),"set",this).call(this,h),a.fire("interactable:set",{options:h,interactable:this}),this}},{key:"unset",value:function(){Dr(ur(p.prototype),"unset",this).call(this);var h=a.interactables.list.indexOf(this);h<0||(Dr(ur(p.prototype),"unset",this).call(this),a.interactables.list.splice(h,1),a.fire("interactable:unset",{interactable:this}))}}]),p}(An.Interactable)}return jr(n,[{key:"addListeners",value:function(r,a){this.listenerMaps.push({id:a,map:r})}},{key:"fire",value:function(r,a){for(var s=0;s<this.listenerMaps.length;s++){var l=this.listenerMaps[s].map[r];if(l&&!1===l(a,this,r))return!1}}},{key:"init",value:function(r){return this.isInitialized?this:Ba(this,r)}},{key:"pluginIsInstalled",value:function(r){return this._plugins.map[r.id]||-1!==this._plugins.list.indexOf(r)}},{key:"usePlugin",value:function(r,a){if(!this.isInitialized)return this;if(this.pluginIsInstalled(r))return this;if(r.id&&(this._plugins.map[r.id]=r),this._plugins.list.push(r),r.install&&r.install(this,a),r.listeners&&r.before){for(var s=0,l=this.listenerMaps.length,f=r.before.reduce(function(p,h){return p[h]=!0,p[La(h)]=!0,p},{});s<l;s++){var g=this.listenerMaps[s].id;if(f[g]||f[La(g)])break}this.listenerMaps.splice(s,0,{id:r.id,map:r.listeners})}else r.listeners&&this.listenerMaps.push({id:r.id,map:r.listeners});return this}},{key:"addDocument",value:function(r,a){if(-1!==this.getDocIndex(r))return!1;var s=Q.getWindow(r);a=a?(0,V.default)({},a):{},this.documents.push({doc:r,options:a}),this.events.documents.push(r),r!==this.document&&this.events.add(s,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:r,window:s,scope:this,options:a})}},{key:"removeDocument",value:function(r){var a=this.getDocIndex(r),s=Q.getWindow(r),l=this.documents[a].options;this.events.remove(s,"unload",this.onWindowUnload),this.documents.splice(a,1),this.events.documents.splice(a,1),this.fire("scope:remove-document",{doc:r,window:s,scope:this,options:l})}},{key:"getDocIndex",value:function(r){for(var a=0;a<this.documents.length;a++)if(this.documents[a].doc===r)return a;return-1}},{key:"getDocOptions",value:function(r){var a=this.getDocIndex(r);return-1===a?null:this.documents[a].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),n}();function Ba(n,r){return n.isInitialized=!0,D.default.window(r)&&Q.init(r),$e.default.init(r),nt.default.init(r),St.default.init(r),n.window=r,n.document=r.document,n.usePlugin(sr.default),n.usePlugin(mt.default),n}function La(n){return n&&n.replace(/\/.*$/,"")}Zi.Scope=ja;var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var $a=new Zi.Scope;ot.default=$a.interactStatic;var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;$a.init(Bo);var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default=function(){};var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0,j.default=function(){};var R={};function K(n,r){return function(a){if(Array.isArray(a))return a}(n)||function(a,s){var l=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=l){var f,g,p=[],h=!0,w=!1;try{for(l=l.call(a);!(h=(f=l.next()).done)&&(p.push(f.value),!s||p.length!==s);h=!0);}catch(k){w=!0,g=k}finally{try{h||null==l.return||l.return()}finally{if(w)throw g}}return p}}(n,r)||function(a,s){if(a){if("string"==typeof a)return pe(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return"Object"===l&&a.constructor&&(l=a.constructor.name),"Map"===l||"Set"===l?Array.from(a):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?pe(a,s):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(n,r){(null==r||r>n.length)&&(r=n.length);for(var a=0,s=Array(r);a<r;a++)s[a]=n[a];return s}Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0,R.default=function(n){var r=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(s){var l=K(s,2);return l[0]in n||l[1]in n}),a=function(s,l){for(var g=n.limits,p=void 0===g?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:g,h=n.offset,w=void 0===h?{x:0,y:0}:h,k={range:n.range,grid:n,x:null,y:null},P=0;P<r.length;P++){var I=K(r[P],2),B=I[0],F=I[1],W=Math.round((s-w.x)/n[B]),H=Math.round((l-w.y)/n[F]);k[B]=Math.max(p.left,Math.min(p.right,W*n[B]+w.x)),k[F]=Math.max(p.top,Math.min(p.bottom,H*n[F]+w.y))}return k};return a.grid=n,a.coordFields=r,a};var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),Object.defineProperty(ke,"edgeTarget",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(ke,"elements",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(ke,"grid",{enumerable:!0,get:function(){return R.default}});var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0,He.default={id:"snappers",install:function(n){var r=n.interactStatic;r.snappers=(0,V.default)(r.snappers||{},ke),r.createSnapGrid=r.snappers.grid}};var hi={};function Mt(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,s)}return a}function gi(n){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?Mt(Object(a),!0).forEach(function(s){us(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}function us(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}Object.defineProperty(hi,"__esModule",{value:!0}),hi.default=hi.aspectRatio=void 0;var Br={start:function(n){var r=n.state,a=n.rect,s=n.edges,f=r.options.ratio,g=r.options,p=g.equalDelta,h=g.modifiers;"preserve"===f&&(f=a.width/a.height),r.startCoords=(0,V.default)({},n.pageCoords),r.startRect=(0,V.default)({},a),r.ratio=f,r.equalDelta=p;var w=r.linkedEdges={top:s.top||s.left&&!s.bottom,left:s.left||s.top&&!s.right,bottom:s.bottom||s.right&&!s.top,right:s.right||s.bottom&&!s.left};if(r.xIsPrimaryAxis=!(!s.left&&!s.right),r.equalDelta){var k=(w.left?1:-1)*(w.top?1:-1);r.edgeSign={x:k,y:k}}else r.edgeSign={x:w.left?-1:1,y:w.top?-1:1};if((0,V.default)(n.edges,w),h&&h.length){var P=new Mn.default(n.interaction);P.copyFrom(n.interaction.modification),P.prepareStates(h),r.subModification=P,P.startAll(gi({},n))}},set:function(n){var r=n.state,a=n.rect,s=n.coords,l=(0,V.default)({},s),f=r.equalDelta?Lo:$o;if(f(r,r.xIsPrimaryAxis,s,a),!r.subModification)return null;var g=(0,V.default)({},a);(0,je.addEdges)(r.linkedEdges,g,{x:s.x-l.x,y:s.y-l.y});var p=r.subModification.setAll(gi(gi({},n),{},{rect:g,edges:r.linkedEdges,pageCoords:s,prevCoords:s,prevRect:g})),h=p.delta;return p.changed&&(f(r,Math.abs(h.x)>Math.abs(h.y),p.coords,p.rect),(0,V.default)(s,p.coords)),p.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Lo(n,r,a){var s=n.startCoords,l=n.edgeSign;r?a.y=s.y+(a.x-s.x)*l.y:a.x=s.x+(a.y-s.y)*l.x}function $o(n,r,a,s){var l=n.startRect,f=n.startCoords,g=n.ratio,p=n.edgeSign;r?a.y=f.y+(s.width/g-l.height)*p.y:a.x=f.x+(s.height*g-l.width)*p.x}hi.aspectRatio=Br;var Fe=(0,Ye.makeModifier)(Br,"aspectRatio");hi.default=Fe;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.default=void 0;var da=function(){};da._defaults={},Lr.default=da;var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),Object.defineProperty(ha,"default",{enumerable:!0,get:function(){return Lr.default}});var yt={};function ga(n,r,a){return D.default.func(n)?je.resolveRectLike(n,r.interactable,r.element,[a.x,a.y,r]):je.resolveRectLike(n,r.interactable,r.element)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0,yt.getRestrictionRect=ga,yt.restrict=void 0;var Qi={start:function(n){var r=n.rect,a=n.startOffset,s=n.state,l=n.interaction,f=n.pageCoords,g=s.options,p=g.elementRect,h=(0,V.default)({left:0,top:0,right:0,bottom:0},g.offset||{});if(r&&p){var w=ga(g.restriction,l,f);if(w){var k=w.right-w.left-r.width,P=w.bottom-w.top-r.height;k<0&&(h.left+=k,h.right+=k),P<0&&(h.top+=P,h.bottom+=P)}h.left+=a.left-r.width*p.left,h.top+=a.top-r.height*p.top,h.right+=a.right-r.width*(1-p.right),h.bottom+=a.bottom-r.height*(1-p.bottom)}s.offset=h},set:function(n){var r=n.coords,s=n.state,f=s.offset,g=ga(s.options.restriction,n.interaction,r);if(g){var p=je.xywhToTlbr(g);r.x=Math.max(Math.min(p.right-f.right,r.x),p.left+f.left),r.y=Math.max(Math.min(p.bottom-f.bottom,r.y),p.top+f.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};yt.restrict=Qi;var cr=(0,Ye.makeModifier)(Qi,"restrict");yt.default=cr;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.restrictEdges=Ot.default=void 0;var ma={top:1/0,left:1/0,bottom:-1/0,right:-1/0},eo={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function va(n,r){for(var a=["top","left","bottom","right"],s=0;s<a.length;s++){var l=a[s];l in n||(n[l]=r[l])}return n}var ya={noInner:ma,noOuter:eo,start:function(n){var r,a=n.interaction,s=n.startOffset,l=n.state,f=l.options;if(f){var g=(0,yt.getRestrictionRect)(f.offset,a,a.coords.start.page);r=je.rectToXY(g)}l.offset={top:(r=r||{x:0,y:0}).y+s.top,left:r.x+s.left,bottom:r.y-s.bottom,right:r.x-s.right}},set:function(n){var r=n.coords,a=n.edges,s=n.interaction,l=n.state,f=l.offset,g=l.options;if(a){var p=(0,V.default)({},r),h=(0,yt.getRestrictionRect)(g.inner,s,p)||{},w=(0,yt.getRestrictionRect)(g.outer,s,p)||{};va(h,ma),va(w,eo),a.top?r.y=Math.min(Math.max(w.top+f.top,p.y),h.top+f.top):a.bottom&&(r.y=Math.max(Math.min(w.bottom+f.bottom,p.y),h.bottom+f.bottom)),a.left?r.x=Math.min(Math.max(w.left+f.left,p.x),h.left+f.left):a.right&&(r.x=Math.max(Math.min(w.right+f.right,p.x),h.right+f.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ot.restrictEdges=ya;var zo=(0,Ye.makeModifier)(ya,"restrictEdges");Ot.default=zo;var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.restrictRect=$r.default=void 0;var to=(0,V.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(n){}},yt.restrict.defaults),fr={start:yt.restrict.start,set:yt.restrict.set,defaults:to};$r.restrictRect=fr;var Wo=(0,Ye.makeModifier)(fr,"restrictRect");$r.default=Wo;var mi={};Object.defineProperty(mi,"__esModule",{value:!0}),mi.restrictSize=mi.default=void 0;var cs={width:-1/0,height:-1/0},fs={width:1/0,height:1/0},no={start:function(n){return Ot.restrictEdges.start(n)},set:function(n){var r=n.interaction,a=n.state,s=n.rect,l=n.edges,f=a.options;if(l){var g=je.tlbrToXywh((0,yt.getRestrictionRect)(f.min,r,n.coords))||cs,p=je.tlbrToXywh((0,yt.getRestrictionRect)(f.max,r,n.coords))||fs;a.options={endOnly:f.endOnly,inner:(0,V.default)({},Ot.restrictEdges.noInner),outer:(0,V.default)({},Ot.restrictEdges.noOuter)},l.top?(a.options.inner.top=s.bottom-g.height,a.options.outer.top=s.bottom-p.height):l.bottom&&(a.options.inner.bottom=s.top+g.height,a.options.outer.bottom=s.top+p.height),l.left?(a.options.inner.left=s.right-g.width,a.options.outer.left=s.right-p.width):l.right&&(a.options.inner.right=s.left+g.width,a.options.outer.right=s.left+p.width),Ot.restrictEdges.set(n),a.options=f}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};mi.restrictSize=no;var Go=(0,Ye.makeModifier)(no,"restrictSize");mi.default=Go;var ro={};Object.defineProperty(ro,"__esModule",{value:!0}),Object.defineProperty(ro,"default",{enumerable:!0,get:function(){return Lr.default}});var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.snap=pr.default=void 0;var ba={start:function(n){var r,I,B,a=n.interaction,s=n.interactable,l=n.element,f=n.rect,g=n.state,p=n.startOffset,h=g.options,w=h.offsetWithOrigin?(0,je.rectToXY)((0,je.resolveRectLike)((I=n).state.options.origin,null,null,[B=I.interaction.element]))||(0,kn.default)(I.interactable,B,I.interaction.prepared.name):{x:0,y:0};if("startCoords"===h.offset)r={x:a.coords.start.page.x,y:a.coords.start.page.y};else{var k=(0,je.resolveRectLike)(h.offset,s,l,[a]);(r=(0,je.rectToXY)(k)||{x:0,y:0}).x+=w.x,r.y+=w.y}var P=h.relativePoints;g.offsets=f&&P&&P.length?P.map(function(I,B){return{index:B,relativePoint:I,x:p.left-f.width*I.x+r.x,y:p.top-f.height*I.y+r.y}}):[{index:0,relativePoint:null,x:r.x,y:r.y}]},set:function(n){var r=n.interaction,a=n.coords,s=n.state,l=s.options,f=s.offsets,g=(0,kn.default)(r.interactable,r.element,r.prepared.name),p=(0,V.default)({},a),h=[];l.offsetWithOrigin||(p.x-=g.x,p.y-=g.y);for(var w=0;w<f.length;w++)for(var k=f[w],P=p.x-k.x,I=p.y-k.y,B=0,F=l.targets.length;B<F;B++){var W,H=l.targets[B];(W=D.default.func(H)?H(P,I,r._proxy,k,B):H)&&h.push({x:(D.default.number(W.x)?W.x:P)+k.x,y:(D.default.number(W.y)?W.y:I)+k.y,range:D.default.number(W.range)?W.range:l.range,source:H,index:B,offset:k})}for(var G={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},ee=0;ee<h.length;ee++){var te=h[ee],he=te.range,be=te.x-p.x,_e=te.y-p.y,Ce=(0,$t.default)(be,_e),Re=Ce<=he;he===1/0&&G.inRange&&G.range!==1/0&&(Re=!1),G.target&&!(Re?G.inRange&&he!==1/0?Ce/he<G.distance/G.range:he===1/0&&G.range!==1/0||Ce<G.distance:!G.inRange&&Ce<G.distance)||(G.target=te,G.distance=Ce,G.range=he,G.inRange=Re,G.delta.x=be,G.delta.y=_e)}return G.inRange&&(a.x=G.target.x,a.y=G.target.y),s.closest=G,G},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};pr.snap=ba;var ps=(0,Ye.makeModifier)(ba,"snap");pr.default=ps;var In={};function Xe(n,r){(null==r||r>n.length)&&(r=n.length);for(var a=0,s=Array(r);a<r;a++)s[a]=n[a];return s}Object.defineProperty(In,"__esModule",{value:!0}),In.snapSize=In.default=void 0;var at={start:function(n){var r=n.state,a=n.edges,s=r.options;if(!a)return null;n.state={options:{targets:null,relativePoints:[{x:a.left?0:1,y:a.top?0:1}],offset:s.offset||"self",origin:{x:0,y:0},range:s.range}},r.targetFields=r.targetFields||[["width","height"],["x","y"]],pr.snap.start(n),r.offsets=n.state.offsets,n.state=r},set:function(n){var r,s=n.interaction,l=n.state,f=n.coords,g=l.options,p=l.offsets,h={x:f.x-p[0].x,y:f.y-p[0].y};l.options=(0,V.default)({},g),l.options.targets=[];for(var w=0;w<(g.targets||[]).length;w++){var k=(g.targets||[])[w],P=void 0;if(P=D.default.func(k)?k(h.x,h.y,s):k){for(var I=0;I<l.targetFields.length;I++){var B=(2,function(G){if(Array.isArray(G))return G}(r=l.targetFields[I])||function(G,ee){var te=null==G?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(null!=te){var he,be,_e=[],Ce=!0,Re=!1;try{for(te=te.call(G);!(Ce=(he=te.next()).done)&&(_e.push(he.value),2!==_e.length);Ce=!0);}catch(At){Re=!0,be=At}finally{try{Ce||null==te.return||te.return()}finally{if(Re)throw be}}return _e}}(r)||function(G,ee){if(G){if("string"==typeof G)return Xe(G,2);var te=Object.prototype.toString.call(G).slice(8,-1);return"Object"===te&&G.constructor&&(te=G.constructor.name),"Map"===te||"Set"===te?Array.from(G):"Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Xe(G,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=B[0],W=B[1];if(F in P||W in P){P.x=P[F],P.y=P[W];break}}l.options.targets.push(P)}}var H=pr.snap.set(n);return l.options=g,H},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};In.snapSize=at;var ds=(0,Ye.makeModifier)(at,"snapSize");In.default=ds;var vi={};Object.defineProperty(vi,"__esModule",{value:!0}),vi.snapEdges=vi.default=void 0;var _a={start:function(n){var r=n.edges;return r?(n.state.targetFields=n.state.targetFields||[[r.left?"left":"right",r.top?"top":"bottom"]],In.snapSize.start(n)):null},set:In.snapSize.set,defaults:(0,V.default)((0,wt.default)(In.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};vi.snapEdges=_a;var hs=(0,Ye.makeModifier)(_a,"snapEdges");vi.default=hs;var io={};Object.defineProperty(io,"__esModule",{value:!0}),Object.defineProperty(io,"default",{enumerable:!0,get:function(){return Lr.default}});var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Object.defineProperty(Nr,"default",{enumerable:!0,get:function(){return Lr.default}});var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0,dr.default={aspectRatio:hi.default,restrictEdges:Ot.default,restrict:yt.default,restrictRect:$r.default,restrictSize:mi.default,snapEdges:vi.default,snap:pr.default,snapSize:In.default,spring:io.default,avoid:ha.default,transform:Nr.default,rubberband:ro.default};var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=void 0,Dn.default={id:"modifiers",install:function(n){var r=n.interactStatic;for(var a in n.usePlugin(Ye.default),n.usePlugin(He.default),r.modifiers=dr.default,dr.default){var s=dr.default[a],l=s._defaults;l._methods=s._methods,n.defaults.perAction[a]=l}}};var Yt={};function wa(n){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function Ta(n,r){return(Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a})(n,r)}function Ca(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zr(n){return(zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(n)}Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.default=Yt.PointerEvent=void 0;var ao=function(n){!function(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&Ta(p,h)}(g,n);var r,a,s,l,f=(s=g,l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,h=zr(s);if(l){var w=zr(this).constructor;p=Reflect.construct(h,arguments,w)}else p=h.apply(this,arguments);return function ms(n,r){if(r&&("object"===wa(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Ca(n)}(this,p)});function g(p,h,w,k,P,I){var B;if(function(H,G){if(!(H instanceof G))throw new TypeError("Cannot call a class as a function")}(this,g),B=f.call(this,P),q.pointerExtend(Ca(B),w),w!==h&&q.pointerExtend(Ca(B),h),B.timeStamp=I,B.originalEvent=w,B.type=p,B.pointerId=q.getPointerId(h),B.pointerType=q.getPointerType(h),B.target=k,B.currentTarget=null,"tap"===p){var F=P.getPointerIndex(h);B.dt=B.timeStamp-P.pointers[F].downTime,B.double=!!P.prevTap&&"doubletap"!==P.prevTap.type&&P.prevTap.target===B.target&&B.timeStamp-P.tapTime<500}else"doubletap"===p&&(B.dt=h.timeStamp-P.tapTime,B.double=!0);return B}return r=g,(a=[{key:"_subtractOrigin",value:function(p){var h=p.x,w=p.y;return this.pageX-=h,this.pageY-=w,this.clientX-=h,this.clientY-=w,this}},{key:"_addOrigin",value:function(p){var h=p.x,w=p.y;return this.pageX+=h,this.pageY+=w,this.clientX+=h,this.clientY+=w,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function gs(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),g}(Nt.BaseEvent);Yt.PointerEvent=Yt.default=ao;var bi={};Object.defineProperty(bi,"__esModule",{value:!0}),bi.default=void 0;var m={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(n){n.pointerEvents=m,n.defaults.actions.pointerEvents=m.defaults,(0,V.default)(n.actions.phaselessTypes,m.types)},listeners:{"interactions:new":function(n){var r=n.interaction;r.prevTap=null,r.tapTime=0},"interactions:update-pointer":function(n){var a=n.pointerInfo;!n.down&&a.hold||(a.hold={duration:1/0,timeout:null})},"interactions:move":function(n,r){var a=n.interaction,s=n.pointer,l=n.event,f=n.eventTarget;n.duplicate||a.pointerIsDown&&!a.pointerWasMoved||(a.pointerIsDown&&Tt(n),Ft({interaction:a,pointer:s,event:l,eventTarget:f,type:"move"},r))},"interactions:down":function(n,r){(function(a,s){for(var l=a.interaction,f=a.pointer,g=a.event,p=a.eventTarget,w=l.pointers[a.pointerIndex].hold,k=J.getPath(p),P={interaction:l,pointer:f,event:g,eventTarget:p,type:"hold",targets:[],path:k,node:null},I=0;I<k.length;I++)P.node=k[I],s.fire("pointerEvents:collect-targets",P);if(P.targets.length){for(var F=1/0,W=0;W<P.targets.length;W++){var H=P.targets[W].eventable.options.holdDuration;H<F&&(F=H)}w.duration=F,w.timeout=setTimeout(function(){Ft({interaction:l,eventTarget:p,pointer:f,event:g,type:"hold"},s)},F)}})(n,r),Ft(n,r)},"interactions:up":function(n,r){var a,l;Tt(n),Ft(n,r),(l=(a=n).interaction).pointerWasMoved||Ft({interaction:l,eventTarget:a.eventTarget,pointer:a.pointer,event:a.event,type:"tap"},r)},"interactions:cancel":function(n,r){Tt(n),Ft(n,r)}},PointerEvent:Yt.PointerEvent,fire:Ft,collectEventTargets:so,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ft(n,r){var a=n.interaction,s=n.pointer,l=n.event,f=n.eventTarget,g=n.type,p=n.targets,h=void 0===p?so(n,r):p,w=new Yt.PointerEvent(g,s,l,f,a,r.now());r.fire("pointerEvents:new",{pointerEvent:w});for(var k={interaction:a,pointer:s,event:l,eventTarget:f,targets:h,type:g,pointerEvent:w},P=0;P<h.length;P++){var I=h[P];for(var B in I.props||{})w[B]=I.props[B];var F=(0,kn.default)(I.eventable,I.node);if(w._subtractOrigin(F),w.eventable=I.eventable,w.currentTarget=I.node,I.eventable.fire(w),w._addOrigin(F),w.immediatePropagationStopped||w.propagationStopped&&P+1<h.length&&h[P+1].node!==w.currentTarget)break}if(r.fire("pointerEvents:fired",k),"tap"===g){var W=w.double?Ft({interaction:a,pointer:s,event:l,eventTarget:f,type:"doubletap"},r):w;a.prevTap=W,a.tapTime=W.timeStamp}return w}function so(n,r){var a=n.interaction,s=n.pointer,l=n.event,f=n.eventTarget,g=n.type,p=a.getPointerIndex(s),h=a.pointers[p];if("tap"===g&&(a.pointerWasMoved||!h||h.downTarget!==f))return[];for(var w=J.getPath(f),k={interaction:a,pointer:s,event:l,eventTarget:f,type:g,path:w,targets:[],node:null},P=0;P<w.length;P++)k.node=w[P],r.fire("pointerEvents:collect-targets",k);return"hold"===g&&(k.targets=k.targets.filter(function(B){var F;return B.eventable.options.holdDuration===(null==(F=a.pointers[p])?void 0:F.hold.duration)})),k.targets}function Tt(n){var s=n.interaction.pointers[n.pointerIndex].hold;s&&s.timeout&&(clearTimeout(s.timeout),s.timeout=null)}bi.default=m;var Ho={};function vs(n){var r=n.interaction;r.holdIntervalHandle&&(clearInterval(r.holdIntervalHandle),r.holdIntervalHandle=null)}Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.default=void 0;var ys={id:"pointer-events/holdRepeat",install:function(n){n.usePlugin(bi.default);var r=n.pointerEvents;r.defaults.holdRepeatInterval=0,r.types.holdrepeat=n.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(n,r){return n["pointerEvents:".concat(r)]=vs,n},{"pointerEvents:new":function(n){var r=n.pointerEvent;"hold"===r.type&&(r.count=(r.count||0)+1)},"pointerEvents:fired":function(n,r){var a=n.interaction,s=n.pointerEvent,l=n.eventTarget,f=n.targets;if("hold"===s.type&&f.length){var g=f[0].eventable.options.holdRepeatInterval;g<=0||(a.holdIntervalHandle=setTimeout(function(){r.pointerEvents.fire({interaction:a,eventTarget:l,type:"hold",pointer:s,event:s},r)},g))}}})};Ho.default=ys;var Yo={};function bs(n){return(0,V.default)(this.events.options,n),this}Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.default=void 0,Yo.default={id:"pointer-events/interactableTargets",install:function(n){var r=n.Interactable;r.prototype.pointerEvents=bs;var a=r.prototype._backCompatOption;r.prototype._backCompatOption=function(s,l){var f=a.call(this,s,l);return f===this&&(this.events.options[s]=l),f}},listeners:{"pointerEvents:collect-targets":function(n,r){var a=n.targets,s=n.node,l=n.type,f=n.eventTarget;r.interactables.forEachMatch(s,function(g){var p=g.events;p.types[l]&&p.types[l].length&&g.testIgnoreAllow(p.options,s,f)&&a.push({node:s,eventable:p,props:{interactable:g}})})},"interactable:new":function(n){var r=n.interactable;r.events.getRect=function(a){return r.getRect(a)}},"interactable:set":function(n,r){var a=n.interactable,s=n.options;(0,V.default)(a.events.options,r.pointerEvents.defaults),(0,V.default)(a.events.options,s.pointerEvents||{})}}};var lo={};Object.defineProperty(lo,"__esModule",{value:!0}),lo.default=void 0,lo.default={id:"pointer-events",install:function(n){n.usePlugin(bi),n.usePlugin(Ho.default),n.usePlugin(Yo.default)}};var _i={};function Na(n){var r=n.Interactable;n.actions.phases.reflow=!0,r.prototype.reflow=function(a){return function(s,l,f){for(var g=D.default.string(s.target)?Se.from(s._context.querySelectorAll(s.target)):[s.target],p=f.window.Promise,h=p?[]:null,w=function(){var P=g[k],I=s.getRect(P);if(!I)return"break";var B=Se.find(f.interactions.list,function(ee){return ee.interacting()&&ee.interactable===s&&ee.element===P&&ee.prepared.name===l.name}),F=void 0;if(B)B.move(),h&&(F=B._reflowPromise||new p(function(ee){B._reflowResolve=ee}));else{var W=(0,je.tlbrToXywh)(I),H={page:{x:W.x,y:W.y},client:{x:W.x,y:W.y},timeStamp:f.now()},G=q.coordsToEvent(H);F=function(ee,te,he,be,_e){var Ce=ee.interactions.new({pointerType:"reflow"}),Re={interaction:Ce,event:_e,pointer:_e,eventTarget:he,phase:"reflow"};Ce.interactable=te,Ce.element=he,Ce.prevEvent=_e,Ce.updatePointer(_e,_e,he,!0),q.setZeroCoords(Ce.coords.delta),(0,dt.copyAction)(Ce.prepared,be),Ce._doPhase(Re);var At=ee.window.Promise,Rt=At?new At(function(yn){Ce._reflowResolve=yn}):void 0;return Ce._reflowPromise=Rt,Ce.start(be,te,he),Ce._interacting?(Ce.move(Re),Ce.end(_e)):(Ce.stop(),Ce._reflowResolve()),Ce.removePointer(_e,_e),Rt}(f,s,P,l,G)}h&&h.push(F)},k=0;k<g.length&&"break"!==w();k++);return h&&p.all(h).then(function(){return s})}(this,a,n)}}Object.defineProperty(_i,"__esModule",{value:!0}),_i.default=void 0,_i.install=Na,_i.default={id:"reflow",install:Na,listeners:{"interactions:stop":function(n,r){var a=n.interaction;"reflow"===a.pointerType&&(a._reflowResolve&&a._reflowResolve(),Se.remove(r.interactions.list,a))}}};var Ve={exports:{}};function ka(n){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}if(Object.defineProperty(Ve.exports,"__esModule",{value:!0}),Ve.exports.default=void 0,ot.default.use(En.default),ot.default.use(on.default),ot.default.use(lo.default),ot.default.use(Et.default),ot.default.use(Dn.default),ot.default.use(Xn.default),ot.default.use(Hn.default),ot.default.use(Gt.default),ot.default.use(_i.default),Ve.exports.default=ot.default,"object"===ka(Ve)&&Ve)try{Ve.exports=ot.default}catch{}ot.default.default=ot.default,Ve=Ve.exports;var Gr={exports:{}};function xa(n){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}if(Object.defineProperty(Gr.exports,"__esModule",{value:!0}),Gr.exports.default=void 0,Gr.exports.default=Ve.default,"object"===xa(Gr)&&Gr)try{Gr.exports=Ve.default}catch{}return Ve.default.default=Ve.default,Gr.exports}()},7376:function(Bt,ze,Q){var de;Bt=Q.nmd(Bt),function(){var T,ie="Expected a function",Jt="__lodash_hash_undefined__",kt="__lodash_placeholder__",J=32,st=1/0,Zt=9007199254740991,q=4294967295,Ei=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",J],["partialRight",64],["rearg",256]],xn="[object Arguments]",cn="[object Array]",Nt="[object Boolean]",_r="[object Date]",wr="[object Error]",Se="[object Function]",Zr="[object GeneratorFunction]",pt="[object Map]",it="[object Number]",Qt="[object Object]",Nn="[object Promise]",xt="[object RegExp]",tt="[object Set]",zt="[object String]",zn="[object Symbol]",fn="[object WeakMap]",pn="[object ArrayBuffer]",dn="[object DataView]",Wn="[object Float32Array]",ei="[object Float64Array]",Gn="[object Int8Array]",Ai="[object Int16Array]",Un="[object Int32Array]",Cr="[object Uint8Array]",kr="[object Uint8ClampedArray]",Ri="[object Uint16Array]",hn="[object Uint32Array]",ti=/\b__p \+= '';/g,ni=/\b(__p \+=) '' \+/g,Wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,go=/&(?:amp|lt|gt|quot|#39);/g,Hn=/[&<>"']/g,Zo=RegExp(go.source),St=RegExp(Hn.source),en=/<%-([\s\S]+?)%>/g,tn=/<%([\s\S]+?)%>/g,Ii=/<%=([\s\S]+?)%>/g,mo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gt=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(Pt.source),Di=/^\s+/,ji=/\s/,dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yn=/\{\n\/\* \[wrapped with (.+)\] \*/,Qo=/,? & /,Bi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vo=/[()=,{}\[\]\/\s]/,gn=/\\(\\)?/g,yo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Li=/\w*$/,$i=/^[-+]0x[0-9a-f]+$/i,ri=/^0b[01]+$/i,xr=/^\[object .+?Constructor\]$/,ii=/^0o[0-7]+$/i,oi=/^(?:0|[1-9]\d*)$/,bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qn=/($^)/,ea=/['\n\r\u2028\u2029\\]/g,Pn="\\ud800-\\udfff",_o="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ai="\\u2700-\\u27bf",Xn="a-z\\xdf-\\xf6\\xf8-\\xff",Pr="A-Z\\xc0-\\xd6\\xd8-\\xde",ta="\\ufe0e\\ufe0f",Vn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jn="["+Pn+"]",wo="["+Vn+"]",wt="["+_o+"]",Mn="\\d+",li="["+ai+"]",To="["+Xn+"]",ui="[^"+Pn+Vn+Mn+ai+Xn+Pr+"]",nn="\\ud83c[\\udffb-\\udfff]",Er="[^"+Pn+"]",ci="(?:\\ud83c[\\udde6-\\uddff]){2}",Ye="[\\ud800-\\udbff][\\udc00-\\udfff]",rn="["+Pr+"]",xo="(?:"+To+"|"+ui+")",Mr="(?:"+rn+"|"+ui+")",Zn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",fi="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",So="(?:"+wt+"|"+nn+")?",pi="["+ta+"]?",X=pi+So+"(?:\\u200d(?:"+[Er,ci,Ye].join("|")+")"+pi+So+")*",On="(?:"+[li,ci,Ye].join("|")+")"+X,Or="(?:"+[Er+wt+"?",wt,ci,Ye,Jn].join("|")+")",Po=RegExp("['\u2019]","g"),ra=RegExp(wt,"g"),Fn=RegExp(nn+"(?="+nn+")|"+Or+X,"g"),ia=RegExp([rn+"?"+To+"+"+Zn+"(?="+[wo,rn,"$"].join("|")+")",Mr+"+"+fi+"(?="+[wo,rn+xo,"$"].join("|")+")",rn+"?"+xo+"+"+Zn,rn+"+"+fi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mn,On].join("|"),"g"),Qn=RegExp("[\\u200d"+Pn+_o+ta+"]"),er=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oa=-1,se={};se[Wn]=se[ei]=se[Gn]=se[Ai]=se[Un]=se[Cr]=se[kr]=se[Ri]=se[hn]=!0,se[xn]=se[cn]=se[pn]=se[Nt]=se[dn]=se[_r]=se[wr]=se[Se]=se[pt]=se[it]=se[Qt]=se[xt]=se[tt]=se[zt]=se[fn]=!1;var Ae={};Ae[xn]=Ae[cn]=Ae[pn]=Ae[dn]=Ae[Nt]=Ae[_r]=Ae[Wn]=Ae[ei]=Ae[Gn]=Ae[Ai]=Ae[Un]=Ae[pt]=Ae[it]=Ae[Qt]=Ae[xt]=Ae[tt]=Ae[zt]=Ae[zn]=Ae[Cr]=Ae[kr]=Ae[Ri]=Ae[hn]=!0,Ae[wr]=Ae[Se]=Ae[fn]=!1;var Hi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mo=parseFloat,Yi=parseInt,Oo="object"==typeof global&&global&&global.Object===Object&&global,qi="object"==typeof self&&self&&self.Object===Object&&self,Je=Oo||qi||Function("return this")(),Fo=ze&&!ze.nodeType&&ze,Et=Fo&&Bt&&!Bt.nodeType&&Bt,Ao=Et&&Et.exports===Fo,Ue=Ao&&Oo.process,ht=function(){try{return Et&&Et.require&&Et.require("util").types||Ue&&Ue.binding&&Ue.binding("util")}catch{}}(),Fr=ht&&ht.isArrayBuffer,Ro=ht&&ht.isDate,Xi=ht&&ht.isMap,ae=ht&&ht.isRegExp,Ne=ht&&ht.isSet,O=ht&&ht.isTypedArray;function U(E,j,R){switch(R.length){case 0:return E.call(j);case 1:return E.call(j,R[0]);case 2:return E.call(j,R[0],R[1]);case 3:return E.call(j,R[0],R[1],R[2])}return E.apply(j,R)}function tr(E,j,R,K){for(var pe=-1,ke=null==E?0:E.length;++pe<ke;){var He=E[pe];j(K,He,R(He),E)}return K}function gt(E,j){for(var R=-1,K=null==E?0:E.length;++R<K&&!1!==j(E[R],R,E););return E}function Io(E,j){for(var R=null==E?0:E.length;R--&&!1!==j(E[R],R,E););return E}function nr(E,j){for(var R=-1,K=null==E?0:E.length;++R<K;)if(!j(E[R],R,E))return!1;return!0}function Ut(E,j){for(var R=-1,K=null==E?0:E.length,pe=0,ke=[];++R<K;){var He=E[R];j(He,R,E)&&(ke[pe++]=He)}return ke}function An(E,j){return!(null==E||!E.length)&&Rn(E,j,0)>-1}function Vi(E,j,R){for(var K=-1,pe=null==E?0:E.length;++K<pe;)if(R(j,E[K]))return!0;return!1}function Pe(E,j){for(var R=-1,K=null==E?0:E.length,pe=Array(K);++R<K;)pe[R]=j(E[R],R,E);return pe}function mn(E,j){for(var R=-1,K=j.length,pe=E.length;++R<K;)E[pe+R]=j[R];return E}function rr(E,j,R,K){var pe=-1,ke=null==E?0:E.length;for(K&&ke&&(R=E[++pe]);++pe<ke;)R=j(R,E[pe],pe,E);return R}function aa(E,j,R,K){var pe=null==E?0:E.length;for(K&&pe&&(R=E[--pe]);pe--;)R=j(R,E[pe],pe,E);return R}function Ar(E,j){for(var R=-1,K=null==E?0:E.length;++R<K;)if(j(E[R],R,E))return!0;return!1}var sa=ar("length");function di(E,j,R){var K;return R(E,function(pe,ke,He){if(j(pe,ke,He))return K=ke,!1}),K}function ir(E,j,R,K){for(var pe=E.length,ke=R+(K?1:-1);K?ke--:++ke<pe;)if(j(E[ke],ke,E))return ke;return-1}function Rn(E,j,R){return j==j?function Ia(E,j,R){for(var K=R-1,pe=E.length;++K<pe;)if(E[K]===j)return K;return-1}(E,j,R):ir(E,or,R)}function ua(E,j,R,K){for(var pe=R-1,ke=E.length;++pe<ke;)if(K(E[pe],j))return pe;return-1}function or(E){return E!=E}function Do(E,j){var R=null==E?0:E.length;return R?sr(E,j)/R:NaN}function ar(E){return function(j){return null==j?T:j[E]}}function Rr(E){return function(j){return null==E?T:E[j]}}function Ki(E,j,R,K,pe){return pe(E,function(ke,He,Le){R=K?(K=!1,ke):j(R,ke,He,Le)}),R}function sr(E,j){for(var R,K=-1,pe=E.length;++K<pe;){var ke=j(E[K]);ke!==T&&(R=R===T?ke:R+ke)}return R}function Ir(E,j){for(var R=-1,K=Array(E);++R<E;)K[R]=j(R);return K}function b(E){return E&&E.slice(0,ja(E)+1).replace(Di,"")}function v(E){return function(j){return E(j)}}function C(E,j){return Pe(j,function(R){return E[R]})}function _(E,j){return E.has(j)}function A(E,j){for(var R=-1,K=E.length;++R<K&&Rn(j,E[R],0)>-1;);return R}function N(E,j){for(var R=E.length;R--&&Rn(j,E[R],0)>-1;);return R}var ve=Rr({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),vt=Rr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ht(E){return"\\"+Hi[E]}function lr(E){return Qn.test(E)}function Dr(E){var j=-1,R=Array(E.size);return E.forEach(function(K,pe){R[++j]=[pe,K]}),R}function Ra(E,j){return function(R){return E(j(R))}}function vn(E,j){for(var R=-1,K=E.length,pe=0,ke=[];++R<K;){var He=E[R];(He===j||He===kt)&&(E[R]=kt,ke[pe++]=R)}return ke}function jo(E){var j=-1,R=Array(E.size);return E.forEach(function(K){R[++j]=K}),R}function jr(E){return lr(E)?function La(E){for(var j=Fn.lastIndex=0;Fn.test(E);)++j;return j}(E):sa(E)}function Be(E){return lr(E)?function ot(E){return E.match(Fn)||[]}(E):function mt(E){return E.split("")}(E)}function ja(E){for(var j=E.length;j--&&ji.test(E.charAt(j)););return j}var Ba=Rr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Bo=function E(j){var e,R=(j=null==j?Je:Bo.defaults(Je.Object(),j,Bo.pick(Je,lt))).Array,K=j.Date,pe=j.Error,ke=j.Function,He=j.Math,Le=j.Object,pa=j.RegExp,hi=j.String,Mt=j.TypeError,gi=R.prototype,Br=Le.prototype,Lo=j["__core-js_shared__"],$o=ke.prototype.toString,Fe=Br.hasOwnProperty,Lr=0,da=(e=/[^.]+$/.exec(Lo&&Lo.keys&&Lo.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",No=Br.toString,ha=$o.call(Le),yt=Je._,ga=pa("^"+$o.call(Fe).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qi=Ao?j.Buffer:T,cr=j.Symbol,Ot=j.Uint8Array,ma=Qi?Qi.allocUnsafe:T,eo=Ra(Le.getPrototypeOf,Le),va=Le.create,ya=Br.propertyIsEnumerable,zo=gi.splice,$r=cr?cr.isConcatSpreadable:T,to=cr?cr.iterator:T,fr=cr?cr.toStringTag:T,Wo=function(){try{var e=co(Le,"defineProperty");return e({},"",{}),e}catch{}}(),mi=j.clearTimeout!==Je.clearTimeout&&j.clearTimeout,cs=K&&K.now!==Je.Date.now&&K.now,fs=j.setTimeout!==Je.setTimeout&&j.setTimeout,no=He.ceil,Go=He.floor,ro=Le.getOwnPropertySymbols,pr=Qi?Qi.isBuffer:T,ba=j.isFinite,ps=gi.join,In=Ra(Le.keys,Le),Xe=He.max,at=He.min,ds=K.now,vi=j.parseInt,_a=He.random,hs=gi.reverse,io=co(j,"DataView"),Nr=co(j,"Map"),dr=co(j,"Promise"),yi=co(j,"Set"),Dn=co(j,"WeakMap"),oo=co(Le,"create"),Uo=Dn&&new Dn,Yt={},wa=fo(io),gs=fo(Nr),Ta=fo(dr),ms=fo(yi),Ca=fo(Dn),zr=cr?cr.prototype:T,ao=zr?zr.valueOf:T,bi=zr?zr.toString:T;function m(e){if(Ke(e)&&!ge(e)&&!(e instanceof Te)){if(e instanceof Tt)return e;if(Fe.call(e,"__wrapped__"))return cu(e)}return new Tt(e)}var Ft=function(){function e(){}return function(t){if(!qe(t))return{};if(va)return va(t);e.prototype=t;var o=new e;return e.prototype=T,o}}();function so(){}function Tt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=T}function Te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function Wr(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var u=e[t];this.set(u[0],u[1])}}function jn(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var u=e[t];this.set(u[0],u[1])}}function Ve(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var u=e[t];this.set(u[0],u[1])}}function n(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new Ve;++t<o;)this.add(e[t])}function s(e){var t=this.__data__=new jn(e);this.size=t.size}function w(e,t){var o=ge(e),u=!o&&po(e),d=!o&&!u&&ki(e),y=!o&&!u&&!d&&Ko(e),x=o||u||d||y,S=x?Ir(e.length,hi):[],M=S.length;for(var L in e)(t||Fe.call(e,L))&&(!x||!("length"==L||d&&("offset"==L||"parent"==L)||y&&("buffer"==L||"byteLength"==L||"byteOffset"==L)||Yr(L,M)))&&S.push(L);return S}function k(e){var t=e.length;return t?e[Ds(0,t-1)]:T}function P(e,t){return Qa(qt(e),be(t,0,e.length))}function I(e){return Qa(qt(e))}function B(e,t,o){(o!==T&&!Bn(e[t],o)||o===T&&!(t in e))&&te(e,t,o)}function F(e,t,o){var u=e[t];(!Fe.call(e,t)||!Bn(u,o)||o===T&&!(t in e))&&te(e,t,o)}function W(e,t){for(var o=e.length;o--;)if(Bn(e[o][0],t))return o;return-1}function H(e,t,o,u){return yn(e,function(d,y,x){t(u,d,o(d),x)}),u}function G(e,t){return e&&gr(t,ut(t),e)}function te(e,t,o){"__proto__"==t&&Wo?Wo(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o}function he(e,t){for(var o=-1,u=t.length,d=R(u),y=null==e;++o<u;)d[o]=y?T:al(e,t[o]);return d}function be(e,t,o){return e==e&&(o!==T&&(e=e<=o?e:o),t!==T&&(e=e>=t?e:t)),e}function _e(e,t,o,u,d,y){var x,S=1&t,M=2&t,L=4&t;if(o&&(x=d?o(e,u,d,y):o(e)),x!==T)return x;if(!qe(e))return e;var $=ge(e);if($){if(x=function Fc(e){var t=e.length,o=new e.constructor(t);return t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(o.index=e.index,o.input=e.input),o}(e),!S)return qt(e,x)}else{var z=Ct(e),Y=z==Se||z==Zr;if(ki(e))return jl(e,S);if(z==Qt||z==xn||Y&&!d){if(x=M||Y?{}:tu(e),!S)return M?function _c(e,t){return gr(e,Ql(e),t)}(e,function ee(e,t){return e&&gr(t,Vt(t),e)}(x,e)):function bc(e,t){return gr(e,Vs(e),t)}(e,G(x,e))}else{if(!Ae[z])return d?e:{};x=function Ac(e,t,o){var u=e.constructor;switch(t){case pn:return Ws(e);case Nt:case _r:return new u(+e);case dn:return function gc(e,t){var o=t?Ws(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}(e,o);case Wn:case ei:case Gn:case Ai:case Un:case Cr:case kr:case Ri:case hn:return Bl(e,o);case pt:return new u;case it:case zt:return new u(e);case xt:return function mc(e){var t=new e.constructor(e.source,Li.exec(e));return t.lastIndex=e.lastIndex,t}(e);case tt:return new u;case zn:return function vc(e){return ao?Le(ao.call(e)):{}}(e)}}(e,z,S)}}y||(y=new s);var ne=y.get(e);if(ne)return ne;y.set(e,x),Ou(e)?e.forEach(function(ce){x.add(_e(ce,t,o,ce,e,y))}):Eu(e)&&e.forEach(function(ce,xe){x.set(xe,_e(ce,t,o,xe,e,y))});var ye=$?T:(L?M?Ys:Hs:M?Vt:ut)(e);return gt(ye||e,function(ce,xe){ye&&(ce=e[xe=ce]),F(x,xe,_e(ce,t,o,xe,e,y))}),x}function Re(e,t,o){var u=o.length;if(null==e)return!u;for(e=Le(e);u--;){var d=o[u],x=e[d];if(x===T&&!(d in e)||!(0,t[d])(x))return!1}return!0}function At(e,t,o){if("function"!=typeof e)throw new Mt(ie);return Fa(function(){e.apply(T,o)},t)}function Rt(e,t,o,u){var d=-1,y=An,x=!0,S=e.length,M=[],L=t.length;if(!S)return M;o&&(t=Pe(t,v(o))),u?(y=Vi,x=!1):t.length>=200&&(y=_,x=!1,t=new n(t));e:for(;++d<S;){var $=e[d],z=null==o?$:o($);if($=u||0!==$?$:0,x&&z==z){for(var Y=L;Y--;)if(t[Y]===z)continue e;M.push($)}else y(t,z,u)||M.push($)}return M}m.templateSettings={escape:en,evaluate:tn,interpolate:Ii,variable:"",imports:{_:m}},(m.prototype=so.prototype).constructor=m,(Tt.prototype=Ft(so.prototype)).constructor=Tt,(Te.prototype=Ft(so.prototype)).constructor=Te,Wr.prototype.clear=function Yo(){this.__data__=oo?oo(null):{},this.size=0},Wr.prototype.delete=function bs(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function _s(e){var t=this.__data__;if(oo){var o=t[e];return o===Jt?T:o}return Fe.call(t,e)?t[e]:T},Wr.prototype.has=function ws(e){var t=this.__data__;return oo?t[e]!==T:Fe.call(t,e)},Wr.prototype.set=function lo(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=oo&&t===T?Jt:t,this},jn.prototype.clear=function Ts(){this.__data__=[],this.size=0},jn.prototype.delete=function _i(e){var t=this.__data__,o=W(t,e);return!(o<0||(o==t.length-1?t.pop():zo.call(t,o,1),--this.size,0))},jn.prototype.get=function Na(e){var t=this.__data__,o=W(t,e);return o<0?T:t[o][1]},jn.prototype.has=function Cs(e){return W(this.__data__,e)>-1},jn.prototype.set=function ks(e,t){var o=this.__data__,u=W(o,e);return u<0?(++this.size,o.push([e,t])):o[u][1]=t,this},Ve.prototype.clear=function ka(){this.size=0,this.__data__={hash:new Wr,map:new(Nr||jn),string:new Wr}},Ve.prototype.delete=function xs(e){var t=Za(this,e).delete(e);return this.size-=t?1:0,t},Ve.prototype.get=function Gr(e){return Za(this,e).get(e)},Ve.prototype.has=function xa(e){return Za(this,e).has(e)},Ve.prototype.set=function Ss(e,t){var o=Za(this,e),u=o.size;return o.set(e,t),this.size+=o.size==u?0:1,this},n.prototype.add=n.prototype.push=function r(e){return this.__data__.set(e,Jt),this},n.prototype.has=function a(e){return this.__data__.has(e)},s.prototype.clear=function l(){this.__data__=new jn,this.size=0},s.prototype.delete=function f(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o},s.prototype.get=function g(e){return this.__data__.get(e)},s.prototype.has=function p(e){return this.__data__.has(e)},s.prototype.set=function h(e,t){var o=this.__data__;if(o instanceof jn){var u=o.__data__;if(!Nr||u.length<199)return u.push([e,t]),this.size=++o.size,this;o=this.__data__=new Ve(u)}return o.set(e,t),this.size=o.size,this};var yn=zl(hr),gl=zl(Es,!0);function Hu(e,t){var o=!0;return yn(e,function(u,d,y){return o=!!t(u,d,y)}),o}function za(e,t,o){for(var u=-1,d=e.length;++u<d;){var y=e[u],x=t(y);if(null!=x&&(S===T?x==x&&!sn(x):o(x,S)))var S=x,M=y}return M}function ml(e,t){var o=[];return yn(e,function(u,d,y){t(u,d,y)&&o.push(u)}),o}function bt(e,t,o,u,d){var y=-1,x=e.length;for(o||(o=Ic),d||(d=[]);++y<x;){var S=e[y];t>0&&o(S)?t>1?bt(S,t-1,o,u,d):mn(d,S):u||(d[d.length]=S)}return d}var Ps=Wl(),vl=Wl(!0);function hr(e,t){return e&&Ps(e,t,ut)}function Es(e,t){return e&&vl(e,t,ut)}function Wa(e,t){return Ut(t,function(o){return qr(e[o])})}function uo(e,t){for(var o=0,u=(t=Ti(t,e)).length;null!=e&&o<u;)e=e[mr(t[o++])];return o&&o==u?e:T}function yl(e,t,o){var u=t(e);return ge(e)?u:mn(u,o(e))}function It(e){return null==e?e===T?"[object Undefined]":"[object Null]":fr&&fr in Le(e)?function Ec(e){var t=Fe.call(e,fr),o=e[fr];try{e[fr]=T;var u=!0}catch{}var d=No.call(e);return u&&(t?e[fr]=o:delete e[fr]),d}(e):function zc(e){return No.call(e)}(e)}function Ms(e,t){return e>t}function qu(e,t){return null!=e&&Fe.call(e,t)}function Xu(e,t){return null!=e&&t in Le(e)}function Os(e,t,o){for(var u=o?Vi:An,d=e[0].length,y=e.length,x=y,S=R(y),M=1/0,L=[];x--;){var $=e[x];x&&t&&($=Pe($,v(t))),M=at($.length,M),S[x]=!o&&(t||d>=120&&$.length>=120)?new n(x&&$):T}$=e[0];var z=-1,Y=S[0];e:for(;++z<d&&L.length<M;){var ne=$[z],ue=t?t(ne):ne;if(ne=o||0!==ne?ne:0,!(Y?_(Y,ue):u(L,ue,o))){for(x=y;--x;){var ye=S[x];if(!(ye?_(ye,ue):u(e[x],ue,o)))continue e}Y&&Y.push(ue),L.push(ne)}}return L}function Sa(e,t,o){var u=null==(e=ou(e,t=Ti(t,e)))?e:e[mr(_n(t))];return null==u?T:U(u,e,o)}function bl(e){return Ke(e)&&It(e)==xn}function Pa(e,t,o,u,d){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!=e&&t!=t:function Qu(e,t,o,u,d,y){var x=ge(e),S=ge(t),M=x?cn:Ct(e),L=S?cn:Ct(t),$=(M=M==xn?Qt:M)==Qt,z=(L=L==xn?Qt:L)==Qt,Y=M==L;if(Y&&ki(e)){if(!ki(t))return!1;x=!0,$=!1}if(Y&&!$)return y||(y=new s),x||Ko(e)?Zl(e,t,o,u,d,y):function Sc(e,t,o,u,d,y,x){switch(o){case dn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pn:return!(e.byteLength!=t.byteLength||!y(new Ot(e),new Ot(t)));case Nt:case _r:case it:return Bn(+e,+t);case wr:return e.name==t.name&&e.message==t.message;case xt:case zt:return e==t+"";case pt:var S=Dr;case tt:if(S||(S=jo),e.size!=t.size&&!(1&u))return!1;var L=x.get(e);if(L)return L==t;u|=2,x.set(e,t);var $=Zl(S(e),S(t),u,d,y,x);return x.delete(e),$;case zn:if(ao)return ao.call(e)==ao.call(t)}return!1}(e,t,M,o,u,d,y);if(!(1&o)){var ne=$&&Fe.call(e,"__wrapped__"),ue=z&&Fe.call(t,"__wrapped__");if(ne||ue){var ye=ne?e.value():e,ce=ue?t.value():t;return y||(y=new s),d(ye,ce,o,u,y)}}return!!Y&&(y||(y=new s),function Pc(e,t,o,u,d,y){var x=1&o,S=Hs(e),M=S.length;if(M!=Hs(t).length&&!x)return!1;for(var z=M;z--;){var Y=S[z];if(!(x?Y in t:Fe.call(t,Y)))return!1}var ne=y.get(e),ue=y.get(t);if(ne&&ue)return ne==t&&ue==e;var ye=!0;y.set(e,t),y.set(t,e);for(var ce=x;++z<M;){var xe=e[Y=S[z]],Me=t[Y];if(u)var ln=x?u(Me,xe,Y,t,e,y):u(xe,Me,Y,e,t,y);if(!(ln===T?xe===Me||d(xe,Me,o,u,y):ln)){ye=!1;break}ce||(ce="constructor"==Y)}if(ye&&!ce){var jt=e.constructor,un=t.constructor;jt!=un&&"constructor"in e&&"constructor"in t&&!("function"==typeof jt&&jt instanceof jt&&"function"==typeof un&&un instanceof un)&&(ye=!1)}return y.delete(e),y.delete(t),ye}(e,t,o,u,d,y))}(e,t,o,u,Pa,d))}function Fs(e,t,o,u){var d=o.length,y=d,x=!u;if(null==e)return!y;for(e=Le(e);d--;){var S=o[d];if(x&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++d<y;){var M=(S=o[d])[0],L=e[M],$=S[1];if(x&&S[2]){if(L===T&&!(M in e))return!1}else{var z=new s;if(u)var Y=u(L,$,M,e,t,z);if(!(Y===T?Pa($,L,3,u,z):Y))return!1}}return!0}function _l(e){return!(!qe(e)||function jc(e){return!!da&&da in e}(e))&&(qr(e)?ga:xr).test(fo(e))}function wl(e){return"function"==typeof e?e:null==e?Kt:"object"==typeof e?ge(e)?kl(e[0],e[1]):Cl(e):Gu(e)}function As(e){if(!Oa(e))return In(e);var t=[];for(var o in Le(e))Fe.call(e,o)&&"constructor"!=o&&t.push(o);return t}function Rs(e,t){return e<t}function Tl(e,t){var o=-1,u=Xt(e)?R(e.length):[];return yn(e,function(d,y,x){u[++o]=t(d,y,x)}),u}function Cl(e){var t=Xs(e);return 1==t.length&&t[0][2]?ru(t[0][0],t[0][1]):function(o){return o===e||Fs(o,e,t)}}function kl(e,t){return Ks(e)&&nu(t)?ru(mr(e),t):function(o){var u=al(o,e);return u===T&&u===t?sl(o,e):Pa(t,u,3)}}function Ga(e,t,o,u,d){e!==t&&Ps(t,function(y,x){if(d||(d=new s),qe(y))!function oc(e,t,o,u,d,y,x){var S=Zs(e,o),M=Zs(t,o),L=x.get(M);if(L)B(e,o,L);else{var $=y?y(S,M,o+"",e,t,x):T,z=$===T;if(z){var Y=ge(M),ne=!Y&&ki(M),ue=!Y&&!ne&&Ko(M);$=M,Y||ne||ue?ge(S)?$=S:Ze(S)?$=qt(S):ne?(z=!1,$=jl(M,!0)):ue?(z=!1,$=Bl(M,!0)):$=[]:Aa(M)||po(M)?($=S,po(S)?$=Ru(S):(!qe(S)||qr(S))&&($=tu(M))):z=!1}z&&(x.set(M,$),d($,M,u,y,x),x.delete(M)),B(e,o,$)}}(e,t,x,o,Ga,u,d);else{var S=u?u(Zs(e,x),y,x+"",e,t,d):T;S===T&&(S=y),B(e,x,S)}},Vt)}function xl(e,t){var o=e.length;if(o)return Yr(t+=t<0?o:0,o)?e[t]:T}function Sl(e,t,o){t=t.length?Pe(t,function(y){return ge(y)?function(x){return uo(x,1===y.length?y[0]:y)}:y}):[Kt];var u=-1;return t=Pe(t,v(le())),function ca(E,j){var R=E.length;for(E.sort(j);R--;)E[R]=E[R].value;return E}(Tl(e,function(y,x,S){return{criteria:Pe(t,function(L){return L(y)}),index:++u,value:y}}),function(y,x){return function yc(e,t,o){for(var u=-1,d=e.criteria,y=t.criteria,x=d.length,S=o.length;++u<x;){var M=Ll(d[u],y[u]);if(M)return u>=S?M:M*("desc"==o[u]?-1:1)}return e.index-t.index}(y,x,o)})}function Pl(e,t,o){for(var u=-1,d=t.length,y={};++u<d;){var x=t[u],S=uo(e,x);o(S,x)&&Ea(y,Ti(x,e),S)}return y}function Is(e,t,o,u){var d=u?ua:Rn,y=-1,x=t.length,S=e;for(e===t&&(t=qt(t)),o&&(S=Pe(e,v(o)));++y<x;)for(var M=0,L=t[y],$=o?o(L):L;(M=d(S,$,M,u))>-1;)S!==e&&zo.call(S,M,1),zo.call(e,M,1);return e}function El(e,t){for(var o=e?t.length:0,u=o-1;o--;){var d=t[o];if(o==u||d!==y){var y=d;Yr(d)?zo.call(e,d,1):Ls(e,d)}}return e}function Ds(e,t){return e+Go(_a()*(t-e+1))}function js(e,t){var o="";if(!e||t<1||t>Zt)return o;do{t%2&&(o+=e),(t=Go(t/2))&&(e+=e)}while(t);return o}function we(e,t){return Qs(iu(e,t,Kt),e+"")}function uc(e){return k(Jo(e))}function cc(e,t){var o=Jo(e);return Qa(o,be(t,0,o.length))}function Ea(e,t,o,u){if(!qe(e))return e;for(var d=-1,y=(t=Ti(t,e)).length,x=y-1,S=e;null!=S&&++d<y;){var M=mr(t[d]),L=o;if("__proto__"===M||"constructor"===M||"prototype"===M)return e;if(d!=x){var $=S[M];(L=u?u($,M,S):T)===T&&(L=qe($)?$:Yr(t[d+1])?[]:{})}F(S,M,L),S=S[M]}return e}var Ml=Uo?function(e,t){return Uo.set(e,t),e}:Kt,fc=Wo?function(e,t){return Wo(e,"toString",{configurable:!0,enumerable:!1,value:ul(t),writable:!0})}:Kt;function pc(e){return Qa(Jo(e))}function bn(e,t,o){var u=-1,d=e.length;t<0&&(t=-t>d?0:d+t),(o=o>d?d:o)<0&&(o+=d),d=t>o?0:o-t>>>0,t>>>=0;for(var y=R(d);++u<d;)y[u]=e[u+t];return y}function dc(e,t){var o;return yn(e,function(u,d,y){return!(o=t(u,d,y))}),!!o}function Ua(e,t,o){var u=0,d=null==e?u:e.length;if("number"==typeof t&&t==t&&d<=2147483647){for(;u<d;){var y=u+d>>>1,x=e[y];null!==x&&!sn(x)&&(o?x<=t:x<t)?u=y+1:d=y}return d}return Bs(e,t,Kt,o)}function Bs(e,t,o,u){var d=0,y=null==e?0:e.length;if(0===y)return 0;for(var x=(t=o(t))!=t,S=null===t,M=sn(t),L=t===T;d<y;){var $=Go((d+y)/2),z=o(e[$]),Y=z!==T,ne=null===z,ue=z==z,ye=sn(z);if(x)var ce=u||ue;else ce=L?ue&&(u||Y):S?ue&&Y&&(u||!ne):M?ue&&Y&&!ne&&(u||!ye):!ne&&!ye&&(u?z<=t:z<t);ce?d=$+1:y=$}return at(y,4294967294)}function Ol(e,t){for(var o=-1,u=e.length,d=0,y=[];++o<u;){var x=e[o],S=t?t(x):x;if(!o||!Bn(S,M)){var M=S;y[d++]=0===x?0:x}}return y}function Fl(e){return"number"==typeof e?e:sn(e)?NaN:+e}function an(e){if("string"==typeof e)return e;if(ge(e))return Pe(e,an)+"";if(sn(e))return bi?bi.call(e):"";var t=e+"";return"0"==t&&1/e==-st?"-0":t}function wi(e,t,o){var u=-1,d=An,y=e.length,x=!0,S=[],M=S;if(o)x=!1,d=Vi;else if(y>=200){var L=t?null:kc(e);if(L)return jo(L);x=!1,d=_,M=new n}else M=t?[]:S;e:for(;++u<y;){var $=e[u],z=t?t($):$;if($=o||0!==$?$:0,x&&z==z){for(var Y=M.length;Y--;)if(M[Y]===z)continue e;t&&M.push(z),S.push($)}else d(M,z,o)||(M!==S&&M.push(z),S.push($))}return S}function Ls(e,t){return null==(e=ou(e,t=Ti(t,e)))||delete e[mr(_n(t))]}function Al(e,t,o,u){return Ea(e,t,o(uo(e,t)),u)}function Ha(e,t,o,u){for(var d=e.length,y=u?d:-1;(u?y--:++y<d)&&t(e[y],y,e););return o?bn(e,u?0:y,u?y+1:d):bn(e,u?y+1:0,u?d:y)}function Rl(e,t){var o=e;return o instanceof Te&&(o=o.value()),rr(t,function(u,d){return d.func.apply(d.thisArg,mn([u],d.args))},o)}function $s(e,t,o){var u=e.length;if(u<2)return u?wi(e[0]):[];for(var d=-1,y=R(u);++d<u;)for(var x=e[d],S=-1;++S<u;)S!=d&&(y[d]=Rt(y[d]||x,e[S],t,o));return wi(bt(y,1),t,o)}function Il(e,t,o){for(var u=-1,d=e.length,y=t.length,x={};++u<d;)o(x,e[u],u<y?t[u]:T);return x}function Ns(e){return Ze(e)?e:[]}function zs(e){return"function"==typeof e?e:Kt}function Ti(e,t){return ge(e)?e:Ks(e,t)?[e]:uu(Ie(e))}var hc=we;function Ci(e,t,o){var u=e.length;return o=o===T?u:o,!t&&o>=u?e:bn(e,t,o)}var Dl=mi||function(e){return Je.clearTimeout(e)};function jl(e,t){if(t)return e.slice();var o=e.length,u=ma?ma(o):new e.constructor(o);return e.copy(u),u}function Ws(e){var t=new e.constructor(e.byteLength);return new Ot(t).set(new Ot(e)),t}function Bl(e,t){var o=t?Ws(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Ll(e,t){if(e!==t){var o=e!==T,u=null===e,d=e==e,y=sn(e),x=t!==T,S=null===t,M=t==t,L=sn(t);if(!S&&!L&&!y&&e>t||y&&x&&M&&!S&&!L||u&&x&&M||!o&&M||!d)return 1;if(!u&&!y&&!L&&e<t||L&&o&&d&&!u&&!y||S&&o&&d||!x&&d||!M)return-1}return 0}function $l(e,t,o,u){for(var d=-1,y=e.length,x=o.length,S=-1,M=t.length,L=Xe(y-x,0),$=R(M+L),z=!u;++S<M;)$[S]=t[S];for(;++d<x;)(z||d<y)&&($[o[d]]=e[d]);for(;L--;)$[S++]=e[d++];return $}function Nl(e,t,o,u){for(var d=-1,y=e.length,x=-1,S=o.length,M=-1,L=t.length,$=Xe(y-S,0),z=R($+L),Y=!u;++d<$;)z[d]=e[d];for(var ne=d;++M<L;)z[ne+M]=t[M];for(;++x<S;)(Y||d<y)&&(z[ne+o[x]]=e[d++]);return z}function qt(e,t){var o=-1,u=e.length;for(t||(t=R(u));++o<u;)t[o]=e[o];return t}function gr(e,t,o,u){var d=!o;o||(o={});for(var y=-1,x=t.length;++y<x;){var S=t[y],M=u?u(o[S],e[S],S,o,e):T;M===T&&(M=e[S]),d?te(o,S,M):F(o,S,M)}return o}function Ya(e,t){return function(o,u){var d=ge(o)?tr:H,y=t?t():{};return d(o,e,le(u,2),y)}}function qo(e){return we(function(t,o){var u=-1,d=o.length,y=d>1?o[d-1]:T,x=d>2?o[2]:T;for(y=e.length>3&&"function"==typeof y?(d--,y):T,x&&Dt(o[0],o[1],x)&&(y=d<3?T:y,d=1),t=Le(t);++u<d;){var S=o[u];S&&e(t,S,u,y)}return t})}function zl(e,t){return function(o,u){if(null==o)return o;if(!Xt(o))return e(o,u);for(var d=o.length,y=t?d:-1,x=Le(o);(t?y--:++y<d)&&!1!==u(x[y],y,x););return o}}function Wl(e){return function(t,o,u){for(var d=-1,y=Le(t),x=u(t),S=x.length;S--;){var M=x[e?S:++d];if(!1===o(y[M],M,y))break}return t}}function Gl(e){return function(t){var o=lr(t=Ie(t))?Be(t):T,u=o?o[0]:t.charAt(0),d=o?Ci(o,1).join(""):t.slice(1);return u[e]()+d}}function Xo(e){return function(t){return rr(zu(Nu(t).replace(Po,"")),e,"")}}function Ma(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var o=Ft(e.prototype),u=e.apply(o,t);return qe(u)?u:o}}function Ul(e){return function(t,o,u){var d=Le(t);if(!Xt(t)){var y=le(o,3);t=ut(t),o=function(S){return y(d[S],S,d)}}var x=e(t,o,u);return x>-1?d[y?t[x]:x]:T}}function Hl(e){return Hr(function(t){var o=t.length,u=o,d=Tt.prototype.thru;for(e&&t.reverse();u--;){var y=t[u];if("function"!=typeof y)throw new Mt(ie);if(d&&!x&&"wrapper"==Ja(y))var x=new Tt([],!0)}for(u=x?u:o;++u<o;){var S=Ja(y=t[u]),M="wrapper"==S?qs(y):T;x=M&&Js(M[0])&&424==M[1]&&!M[4].length&&1==M[9]?x[Ja(M[0])].apply(x,M[3]):1==y.length&&Js(y)?x[S]():x.thru(y)}return function(){var L=arguments,$=L[0];if(x&&1==L.length&&ge($))return x.plant($).value();for(var z=0,Y=o?t[z].apply(this,L):$;++z<o;)Y=t[z].call(this,Y);return Y}})}function qa(e,t,o,u,d,y,x,S,M,L){var $=128&t,z=1&t,Y=2&t,ne=24&t,ue=512&t,ye=Y?T:Ma(e);return function ce(){for(var xe=arguments.length,Me=R(xe),ln=xe;ln--;)Me[ln]=arguments[ln];if(ne)var jt=Vo(ce),un=function Z(E,j){for(var R=E.length,K=0;R--;)E[R]===j&&++K;return K}(Me,jt);if(u&&(Me=$l(Me,u,d,ne)),y&&(Me=Nl(Me,y,x,ne)),xe-=un,ne&&xe<L){var Qe=vn(Me,jt);return Xl(e,t,qa,ce.placeholder,o,Me,Qe,S,M,L-xe)}var Ln=z?o:this,Vr=Y?Ln[e]:e;return xe=Me.length,S?Me=function Wc(e,t){for(var o=e.length,u=at(t.length,o),d=qt(e);u--;){var y=t[u];e[u]=Yr(y,o)?d[y]:T}return e}(Me,S):ue&&xe>1&&Me.reverse(),$&&M<xe&&(Me.length=M),this&&this!==Je&&this instanceof ce&&(Vr=ye||Ma(Vr)),Vr.apply(Ln,Me)}}function Yl(e,t){return function(o,u){return function Ku(e,t,o,u){return hr(e,function(d,y,x){t(u,o(d),y,x)}),u}(o,e,t(u),{})}}function Xa(e,t){return function(o,u){var d;if(o===T&&u===T)return t;if(o!==T&&(d=o),u!==T){if(d===T)return u;"string"==typeof o||"string"==typeof u?(o=an(o),u=an(u)):(o=Fl(o),u=Fl(u)),d=e(o,u)}return d}}function Gs(e){return Hr(function(t){return t=Pe(t,v(le())),we(function(o){var u=this;return e(t,function(d){return U(d,u,o)})})})}function Va(e,t){var o=(t=t===T?" ":an(t)).length;if(o<2)return o?js(t,e):t;var u=js(t,no(e/jr(t)));return lr(t)?Ci(Be(u),0,e).join(""):u.slice(0,e)}function ql(e){return function(t,o,u){return u&&"number"!=typeof u&&Dt(t,o,u)&&(o=u=T),t=Xr(t),o===T?(o=t,t=0):o=Xr(o),function lc(e,t,o,u){for(var d=-1,y=Xe(no((t-e)/(o||1)),0),x=R(y);y--;)x[u?y:++d]=e,e+=o;return x}(t,o,u=u===T?t<o?1:-1:Xr(u),e)}}function Ka(e){return function(t,o){return"string"==typeof t&&"string"==typeof o||(t=wn(t),o=wn(o)),e(t,o)}}function Xl(e,t,o,u,d,y,x,S,M,L){var $=8&t;t|=$?J:64,4&(t&=~($?64:J))||(t&=-4);var ye=[e,t,d,$?y:T,$?x:T,$?T:y,$?T:x,S,M,L],ce=o.apply(T,ye);return Js(e)&&au(ce,ye),ce.placeholder=u,su(ce,e,t)}function Us(e){var t=He[e];return function(o,u){if(o=wn(o),(u=null==u?0:at(me(u),292))&&ba(o)){var d=(Ie(o)+"e").split("e");return+((d=(Ie(t(d[0]+"e"+(+d[1]+u)))+"e").split("e"))[0]+"e"+(+d[1]-u))}return t(o)}}var kc=yi&&1/jo(new yi([,-0]))[1]==st?function(e){return new yi(e)}:pl;function Vl(e){return function(t){var o=Ct(t);return o==pt?Dr(t):o==tt?function ur(E){var j=-1,R=Array(E.size);return E.forEach(function(K){R[++j]=[K,K]}),R}(t):function c(E,j){return Pe(j,function(R){return[R,E[R]]})}(t,e(t))}}function Ur(e,t,o,u,d,y,x,S){var M=2&t;if(!M&&"function"!=typeof e)throw new Mt(ie);var L=u?u.length:0;if(L||(t&=-97,u=d=T),x=x===T?x:Xe(me(x),0),S=S===T?S:me(S),L-=d?d.length:0,64&t){var $=u,z=d;u=d=T}var Y=M?T:qs(e),ne=[e,t,o,u,d,$,z,y,x,S];if(Y&&function $c(e,t){var o=e[1],u=t[1],d=o|u;if(!(d<131)&&!(128==u&&8==o||128==u&&256==o&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==o))return e;1&u&&(e[2]=t[2],d|=1&o?0:4);var S=t[3];if(S){var M=e[3];e[3]=M?$l(M,S,t[4]):S,e[4]=M?vn(e[3],kt):t[4]}(S=t[5])&&(e[5]=(M=e[5])?Nl(M,S,t[6]):S,e[6]=M?vn(e[5],kt):t[6]),(S=t[7])&&(e[7]=S),128&u&&(e[8]=null==e[8]?t[8]:at(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=d}(ne,Y),e=ne[0],t=ne[1],o=ne[2],u=ne[3],d=ne[4],!(S=ne[9]=ne[9]===T?M?0:e.length:Xe(ne[9]-L,0))&&24&t&&(t&=-25),t&&1!=t)ue=8==t||16==t?function Tc(e,t,o){var u=Ma(e);return function d(){for(var y=arguments.length,x=R(y),S=y,M=Vo(d);S--;)x[S]=arguments[S];var L=y<3&&x[0]!==M&&x[y-1]!==M?[]:vn(x,M);return(y-=L.length)<o?Xl(e,t,qa,d.placeholder,T,x,L,T,T,o-y):U(this&&this!==Je&&this instanceof d?u:e,this,x)}}(e,t,S):t!=J&&33!=t||d.length?qa.apply(T,ne):function Cc(e,t,o,u){var d=1&t,y=Ma(e);return function x(){for(var S=-1,M=arguments.length,L=-1,$=u.length,z=R($+M),Y=this&&this!==Je&&this instanceof x?y:e;++L<$;)z[L]=u[L];for(;M--;)z[L++]=arguments[++S];return U(Y,d?o:this,z)}}(e,t,o,u);else var ue=function wc(e,t,o){var u=1&t,d=Ma(e);return function y(){return(this&&this!==Je&&this instanceof y?d:e).apply(u?o:this,arguments)}}(e,t,o);return su((Y?Ml:au)(ue,ne),e,t)}function Kl(e,t,o,u){return e===T||Bn(e,Br[o])&&!Fe.call(u,o)?t:e}function Jl(e,t,o,u,d,y){return qe(e)&&qe(t)&&(y.set(t,e),Ga(e,t,T,Jl,y),y.delete(t)),e}function xc(e){return Aa(e)?T:e}function Zl(e,t,o,u,d,y){var x=1&o,S=e.length,M=t.length;if(S!=M&&!(x&&M>S))return!1;var L=y.get(e),$=y.get(t);if(L&&$)return L==t&&$==e;var z=-1,Y=!0,ne=2&o?new n:T;for(y.set(e,t),y.set(t,e);++z<S;){var ue=e[z],ye=t[z];if(u)var ce=x?u(ye,ue,z,t,e,y):u(ue,ye,z,e,t,y);if(ce!==T){if(ce)continue;Y=!1;break}if(ne){if(!Ar(t,function(xe,Me){if(!_(ne,Me)&&(ue===xe||d(ue,xe,o,u,y)))return ne.push(Me)})){Y=!1;break}}else if(ue!==ye&&!d(ue,ye,o,u,y)){Y=!1;break}}return y.delete(e),y.delete(t),Y}function Hr(e){return Qs(iu(e,T,du),e+"")}function Hs(e){return yl(e,ut,Vs)}function Ys(e){return yl(e,Vt,Ql)}var qs=Uo?function(e){return Uo.get(e)}:pl;function Ja(e){for(var t=e.name+"",o=Yt[t],u=Fe.call(Yt,t)?o.length:0;u--;){var d=o[u],y=d.func;if(null==y||y==e)return d.name}return t}function Vo(e){return(Fe.call(m,"placeholder")?m:e).placeholder}function le(){var e=m.iteratee||cl;return e=e===cl?wl:e,arguments.length?e(arguments[0],arguments[1]):e}function Za(e,t){var o=e.__data__;return function Dc(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?o["string"==typeof t?"string":"hash"]:o.map}function Xs(e){for(var t=ut(e),o=t.length;o--;){var u=t[o],d=e[u];t[o]=[u,d,nu(d)]}return t}function co(e,t){var o=function Ji(E,j){return null==E?T:E[j]}(e,t);return _l(o)?o:T}var Vs=ro?function(e){return null==e?[]:(e=Le(e),Ut(ro(e),function(t){return ya.call(e,t)}))}:dl,Ql=ro?function(e){for(var t=[];e;)mn(t,Vs(e)),e=eo(e);return t}:dl,Ct=It;function eu(e,t,o){for(var u=-1,d=(t=Ti(t,e)).length,y=!1;++u<d;){var x=mr(t[u]);if(!(y=null!=e&&o(e,x)))break;e=e[x]}return y||++u!=d?y:!!(d=null==e?0:e.length)&&os(d)&&Yr(x,d)&&(ge(e)||po(e))}function tu(e){return"function"!=typeof e.constructor||Oa(e)?{}:Ft(eo(e))}function Ic(e){return ge(e)||po(e)||!!($r&&e&&e[$r])}function Yr(e,t){var o=typeof e;return!!(t=t??Zt)&&("number"==o||"symbol"!=o&&oi.test(e))&&e>-1&&e%1==0&&e<t}function Dt(e,t,o){if(!qe(o))return!1;var u=typeof t;return!!("number"==u?Xt(o)&&Yr(t,o.length):"string"==u&&t in o)&&Bn(o[t],e)}function Ks(e,t){if(ge(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!sn(e))||Gt.test(e)||!mo.test(e)||null!=t&&e in Le(t)}function Js(e){var t=Ja(e),o=m[t];if("function"!=typeof o||!(t in Te.prototype))return!1;if(e===o)return!0;var u=qs(o);return!!u&&e===u[0]}(io&&Ct(new io(new ArrayBuffer(1)))!=dn||Nr&&Ct(new Nr)!=pt||dr&&Ct(dr.resolve())!=Nn||yi&&Ct(new yi)!=tt||Dn&&Ct(new Dn)!=fn)&&(Ct=function(e){var t=It(e),o=t==Qt?e.constructor:T,u=o?fo(o):"";if(u)switch(u){case wa:return dn;case gs:return pt;case Ta:return Nn;case ms:return tt;case Ca:return fn}return t});var Bc=Lo?qr:hl;function Oa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Br)}function nu(e){return e==e&&!qe(e)}function ru(e,t){return function(o){return null!=o&&o[e]===t&&(t!==T||e in Le(o))}}function iu(e,t,o){return t=Xe(t===T?e.length-1:t,0),function(){for(var u=arguments,d=-1,y=Xe(u.length-t,0),x=R(y);++d<y;)x[d]=u[t+d];d=-1;for(var S=R(t+1);++d<t;)S[d]=u[d];return S[t]=o(x),U(e,this,S)}}function ou(e,t){return t.length<2?e:uo(e,bn(t,0,-1))}function Zs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var au=lu(Ml),Fa=fs||function(e,t){return Je.setTimeout(e,t)},Qs=lu(fc);function su(e,t,o){var u=t+"";return Qs(e,function Rc(e,t){var o=t.length;if(!o)return e;var u=o-1;return t[u]=(o>1?"& ":"")+t[u],t=t.join(o>2?", ":" "),e.replace(dt,"{\n/* [wrapped with "+t+"] */\n")}(u,function Gc(e,t){return gt(Ei,function(o){var u="_."+o[0];t&o[1]&&!An(e,u)&&e.push(u)}),e.sort()}(function Oc(e){var t=e.match(Yn);return t?t[1].split(Qo):[]}(u),o)))}function lu(e){var t=0,o=0;return function(){var u=ds(),d=16-(u-o);if(o=u,d>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(T,arguments)}}function Qa(e,t){var o=-1,u=e.length,d=u-1;for(t=t===T?u:t;++o<t;){var y=Ds(o,d),x=e[y];e[y]=e[o],e[o]=x}return e.length=t,e}var uu=function Lc(e){var t=rs(e,function(u){return 500===o.size&&o.clear(),u}),o=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,function(o,u,d,y){t.push(d?y.replace(gn,"$1"):u||o)}),t});function mr(e){if("string"==typeof e||sn(e))return e;var t=e+"";return"0"==t&&1/e==-st?"-0":t}function fo(e){if(null!=e){try{return $o.call(e)}catch{}try{return e+""}catch{}}return""}function cu(e){if(e instanceof Te)return e.clone();var t=new Tt(e.__wrapped__,e.__chain__);return t.__actions__=qt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var qc=we(function(e,t){return Ze(e)?Rt(e,bt(t,1,Ze,!0)):[]}),Xc=we(function(e,t){var o=_n(t);return Ze(o)&&(o=T),Ze(e)?Rt(e,bt(t,1,Ze,!0),le(o,2)):[]}),Vc=we(function(e,t){var o=_n(t);return Ze(o)&&(o=T),Ze(e)?Rt(e,bt(t,1,Ze,!0),T,o):[]});function fu(e,t,o){var u=null==e?0:e.length;if(!u)return-1;var d=null==o?0:me(o);return d<0&&(d=Xe(u+d,0)),ir(e,le(t,3),d)}function pu(e,t,o){var u=null==e?0:e.length;if(!u)return-1;var d=u-1;return o!==T&&(d=me(o),d=o<0?Xe(u+d,0):at(d,u-1)),ir(e,le(t,3),d,!0)}function du(e){return null!=e&&e.length?bt(e,1):[]}function hu(e){return e&&e.length?e[0]:T}var sf=we(function(e){var t=Pe(e,Ns);return t.length&&t[0]===e[0]?Os(t):[]}),lf=we(function(e){var t=_n(e),o=Pe(e,Ns);return t===_n(o)?t=T:o.pop(),o.length&&o[0]===e[0]?Os(o,le(t,2)):[]}),uf=we(function(e){var t=_n(e),o=Pe(e,Ns);return(t="function"==typeof t?t:T)&&o.pop(),o.length&&o[0]===e[0]?Os(o,T,t):[]});function _n(e){var t=null==e?0:e.length;return t?e[t-1]:T}var df=we(gu);function gu(e,t){return e&&e.length&&t&&t.length?Is(e,t):e}var mf=Hr(function(e,t){var o=null==e?0:e.length,u=he(e,t);return El(e,Pe(t,function(d){return Yr(d,o)?+d:d}).sort(Ll)),u});function el(e){return null==e?e:hs.call(e)}var Af=we(function(e){return wi(bt(e,1,Ze,!0))}),Rf=we(function(e){var t=_n(e);return Ze(t)&&(t=T),wi(bt(e,1,Ze,!0),le(t,2))}),If=we(function(e){var t=_n(e);return t="function"==typeof t?t:T,wi(bt(e,1,Ze,!0),T,t)});function tl(e){if(!e||!e.length)return[];var t=0;return e=Ut(e,function(o){if(Ze(o))return t=Xe(o.length,t),!0}),Ir(t,function(o){return Pe(e,ar(o))})}function mu(e,t){if(!e||!e.length)return[];var o=tl(e);return null==t?o:Pe(o,function(u){return U(t,T,u)})}var Lf=we(function(e,t){return Ze(e)?Rt(e,t):[]}),$f=we(function(e){return $s(Ut(e,Ze))}),Nf=we(function(e){var t=_n(e);return Ze(t)&&(t=T),$s(Ut(e,Ze),le(t,2))}),zf=we(function(e){var t=_n(e);return t="function"==typeof t?t:T,$s(Ut(e,Ze),T,t)}),Wf=we(tl),Hf=we(function(e){var t=e.length,o=t>1?e[t-1]:T;return o="function"==typeof o?(e.pop(),o):T,mu(e,o)});function vu(e){var t=m(e);return t.__chain__=!0,t}function es(e,t){return t(e)}var qf=Hr(function(e){var t=e.length,o=t?e[0]:0,u=this.__wrapped__,d=function(y){return he(y,e)};return!(t>1||this.__actions__.length)&&u instanceof Te&&Yr(o)?((u=u.slice(o,+o+(t?1:0))).__actions__.push({func:es,args:[d],thisArg:T}),new Tt(u,this.__chain__).thru(function(y){return t&&!y.length&&y.push(T),y})):this.thru(d)}),tp=Ya(function(e,t,o){Fe.call(e,o)?++e[o]:te(e,o,1)}),ip=Ul(fu),op=Ul(pu);function yu(e,t){return(ge(e)?gt:yn)(e,le(t,3))}function bu(e,t){return(ge(e)?Io:gl)(e,le(t,3))}var up=Ya(function(e,t,o){Fe.call(e,o)?e[o].push(t):te(e,o,[t])}),fp=we(function(e,t,o){var u=-1,d="function"==typeof t,y=Xt(e)?R(e.length):[];return yn(e,function(x){y[++u]=d?U(t,x,o):Sa(x,t,o)}),y}),pp=Ya(function(e,t,o){te(e,o,t)});function ts(e,t){return(ge(e)?Pe:Tl)(e,le(t,3))}var hp=Ya(function(e,t,o){e[o?0:1].push(t)},function(){return[[],[]]}),Cp=we(function(e,t){if(null==e)return[];var o=t.length;return o>1&&Dt(e,t[0],t[1])?t=[]:o>2&&Dt(t[0],t[1],t[2])&&(t=[t[0]]),Sl(e,bt(t,1),[])}),ns=cs||function(){return Je.Date.now()};function _u(e,t,o){return t=o?T:t,Ur(e,128,T,T,T,T,t=e&&null==t?e.length:t)}function wu(e,t){var o;if("function"!=typeof t)throw new Mt(ie);return e=me(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=T),o}}var nl=we(function(e,t,o){var u=1;if(o.length){var d=vn(o,Vo(nl));u|=J}return Ur(e,u,t,o,d)}),Tu=we(function(e,t,o){var u=3;if(o.length){var d=vn(o,Vo(Tu));u|=J}return Ur(t,u,e,o,d)});function xu(e,t,o){var u,d,y,x,S,M,L=0,$=!1,z=!1,Y=!0;if("function"!=typeof e)throw new Mt(ie);function ne(Qe){var Ln=u,Vr=d;return u=d=T,L=Qe,x=e.apply(Vr,Ln)}function ce(Qe){var Ln=Qe-M;return M===T||Ln>=t||Ln<0||z&&Qe-L>=y}function xe(){var Qe=ns();if(ce(Qe))return Me(Qe);S=Fa(xe,function ye(Qe){var Uu=t-(Qe-M);return z?at(Uu,y-(Qe-L)):Uu}(Qe))}function Me(Qe){return S=T,Y&&u?ne(Qe):(u=d=T,x)}function un(){var Qe=ns(),Ln=ce(Qe);if(u=arguments,d=this,M=Qe,Ln){if(S===T)return function ue(Qe){return L=Qe,S=Fa(xe,t),$?ne(Qe):x}(M);if(z)return Dl(S),S=Fa(xe,t),ne(M)}return S===T&&(S=Fa(xe,t)),x}return t=wn(t)||0,qe(o)&&($=!!o.leading,y=(z="maxWait"in o)?Xe(wn(o.maxWait)||0,t):y,Y="trailing"in o?!!o.trailing:Y),un.cancel=function ln(){S!==T&&Dl(S),L=0,u=M=d=S=T},un.flush=function jt(){return S===T?x:Me(ns())},un}var xp=we(function(e,t){return At(e,1,t)}),Sp=we(function(e,t,o){return At(e,wn(t)||0,o)});function rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Mt(ie);var o=function(){var u=arguments,d=t?t.apply(this,u):u[0],y=o.cache;if(y.has(d))return y.get(d);var x=e.apply(this,u);return o.cache=y.set(d,x)||y,x};return o.cache=new(rs.Cache||Ve),o}function is(e){if("function"!=typeof e)throw new Mt(ie);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}rs.Cache=Ve;var Mp=hc(function(e,t){var o=(t=1==t.length&&ge(t[0])?Pe(t[0],v(le())):Pe(bt(t,1),v(le()))).length;return we(function(u){for(var d=-1,y=at(u.length,o);++d<y;)u[d]=t[d].call(this,u[d]);return U(e,this,u)})}),rl=we(function(e,t){var o=vn(t,Vo(rl));return Ur(e,J,T,t,o)}),Su=we(function(e,t){var o=vn(t,Vo(Su));return Ur(e,64,T,t,o)}),Op=Hr(function(e,t){return Ur(e,256,T,T,T,t)});function Bn(e,t){return e===t||e!=e&&t!=t}var Wp=Ka(Ms),Gp=Ka(function(e,t){return e>=t}),po=bl(function(){return arguments}())?bl:function(e){return Ke(e)&&Fe.call(e,"callee")&&!ya.call(e,"callee")},ge=R.isArray,Up=Fr?v(Fr):function Ju(e){return Ke(e)&&It(e)==pn};function Xt(e){return null!=e&&os(e.length)&&!qr(e)}function Ze(e){return Ke(e)&&Xt(e)}var ki=pr||hl,Yp=Ro?v(Ro):function Zu(e){return Ke(e)&&It(e)==_r};function il(e){if(!Ke(e))return!1;var t=It(e);return t==wr||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Aa(e)}function qr(e){if(!qe(e))return!1;var t=It(e);return t==Se||t==Zr||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Pu(e){return"number"==typeof e&&e==me(e)}function os(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Zt}function qe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ke(e){return null!=e&&"object"==typeof e}var Eu=Xi?v(Xi):function ec(e){return Ke(e)&&Ct(e)==pt};function Mu(e){return"number"==typeof e||Ke(e)&&It(e)==it}function Aa(e){if(!Ke(e)||It(e)!=Qt)return!1;var t=eo(e);if(null===t)return!0;var o=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&$o.call(o)==ha}var ol=ae?v(ae):function tc(e){return Ke(e)&&It(e)==xt},Ou=Ne?v(Ne):function nc(e){return Ke(e)&&Ct(e)==tt};function as(e){return"string"==typeof e||!ge(e)&&Ke(e)&&It(e)==zt}function sn(e){return"symbol"==typeof e||Ke(e)&&It(e)==zn}var Ko=O?v(O):function rc(e){return Ke(e)&&os(e.length)&&!!se[It(e)]},ld=Ka(Rs),ud=Ka(function(e,t){return e<=t});function Fu(e){if(!e)return[];if(Xt(e))return as(e)?Be(e):qt(e);if(to&&e[to])return function fa(E){for(var j,R=[];!(j=E.next()).done;)R.push(j.value);return R}(e[to]());var t=Ct(e);return(t==pt?Dr:t==tt?jo:Jo)(e)}function Xr(e){return e?(e=wn(e))===st||e===-st?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function me(e){var t=Xr(e),o=t%1;return t==t?o?t-o:t:0}function Au(e){return e?be(me(e),0,q):0}function wn(e){if("number"==typeof e)return e;if(sn(e))return NaN;if(qe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=b(e);var o=ri.test(e);return o||ii.test(e)?Yi(e.slice(2),o?2:8):$i.test(e)?NaN:+e}function Ru(e){return gr(e,Vt(e))}function Ie(e){return null==e?"":an(e)}var fd=qo(function(e,t){if(Oa(t)||Xt(t))gr(t,ut(t),e);else for(var o in t)Fe.call(t,o)&&F(e,o,t[o])}),Iu=qo(function(e,t){gr(t,Vt(t),e)}),ss=qo(function(e,t,o,u){gr(t,Vt(t),e,u)}),pd=qo(function(e,t,o,u){gr(t,ut(t),e,u)}),dd=Hr(he),gd=we(function(e,t){e=Le(e);var o=-1,u=t.length,d=u>2?t[2]:T;for(d&&Dt(t[0],t[1],d)&&(u=1);++o<u;)for(var y=t[o],x=Vt(y),S=-1,M=x.length;++S<M;){var L=x[S],$=e[L];($===T||Bn($,Br[L])&&!Fe.call(e,L))&&(e[L]=y[L])}return e}),md=we(function(e){return e.push(T,Jl),U(Du,T,e)});function al(e,t,o){var u=null==e?T:uo(e,t);return u===T?o:u}function sl(e,t){return null!=e&&eu(e,t,Xu)}var Sd=Yl(function(e,t,o){null!=t&&"function"!=typeof t.toString&&(t=No.call(t)),e[t]=o},ul(Kt)),Pd=Yl(function(e,t,o){null!=t&&"function"!=typeof t.toString&&(t=No.call(t)),Fe.call(e,t)?e[t].push(o):e[t]=[o]},le),Ed=we(Sa);function ut(e){return Xt(e)?w(e):As(e)}function Vt(e){return Xt(e)?w(e,!0):function ic(e){if(!qe(e))return function Nc(e){var t=[];if(null!=e)for(var o in Le(e))t.push(o);return t}(e);var t=Oa(e),o=[];for(var u in e)"constructor"==u&&(t||!Fe.call(e,u))||o.push(u);return o}(e)}var Fd=qo(function(e,t,o){Ga(e,t,o)}),Du=qo(function(e,t,o,u){Ga(e,t,o,u)}),Ad=Hr(function(e,t){var o={};if(null==e)return o;var u=!1;t=Pe(t,function(y){return y=Ti(y,e),u||(u=y.length>1),y}),gr(e,Ys(e),o),u&&(o=_e(o,7,xc));for(var d=t.length;d--;)Ls(o,t[d]);return o}),Id=Hr(function(e,t){return null==e?{}:function ac(e,t){return Pl(e,t,function(o,u){return sl(e,u)})}(e,t)});function ju(e,t){if(null==e)return{};var o=Pe(Ys(e),function(u){return[u]});return t=le(t),Pl(e,o,function(u,d){return t(u,d[0])})}var Bu=Vl(ut),Lu=Vl(Vt);function Jo(e){return null==e?[]:C(e,ut(e))}var Yd=Xo(function(e,t,o){return t=t.toLowerCase(),e+(o?$u(t):t)});function $u(e){return ll(Ie(e).toLowerCase())}function Nu(e){return(e=Ie(e))&&e.replace(bo,ve).replace(ra,"")}var Kd=Xo(function(e,t,o){return e+(o?"-":"")+t.toLowerCase()}),Jd=Xo(function(e,t,o){return e+(o?" ":"")+t.toLowerCase()}),Zd=Gl("toLowerCase"),oh=Xo(function(e,t,o){return e+(o?"_":"")+t.toLowerCase()}),sh=Xo(function(e,t,o){return e+(o?" ":"")+ll(t)}),vh=Xo(function(e,t,o){return e+(o?" ":"")+t.toUpperCase()}),ll=Gl("toUpperCase");function zu(e,t,o){return e=Ie(e),(t=o?T:t)===T?function Zi(E){return er.test(E)}(e)?function $a(E){return E.match(ia)||[]}(e):function la(E){return E.match(Bi)||[]}(e):e.match(t)||[]}var Wu=we(function(e,t){try{return U(e,T,t)}catch(o){return il(o)?o:new pe(o)}}),yh=Hr(function(e,t){return gt(t,function(o){o=mr(o),te(e,o,nl(e[o],e))}),e});function ul(e){return function(){return e}}var Th=Hl(),Ch=Hl(!0);function Kt(e){return e}function cl(e){return wl("function"==typeof e?e:_e(e,1))}var Sh=we(function(e,t){return function(o){return Sa(o,e,t)}}),Ph=we(function(e,t){return function(o){return Sa(e,o,t)}});function fl(e,t,o){var u=ut(t),d=Wa(t,u);null==o&&(!qe(t)||!d.length&&u.length)&&(o=t,t=e,e=this,d=Wa(t,ut(t)));var y=!(qe(o)&&"chain"in o&&!o.chain),x=qr(e);return gt(d,function(S){var M=t[S];e[S]=M,x&&(e.prototype[S]=function(){var L=this.__chain__;if(y||L){var $=e(this.__wrapped__);return($.__actions__=qt(this.__actions__)).push({func:M,args:arguments,thisArg:e}),$.__chain__=L,$}return M.apply(e,mn([this.value()],arguments))})}),e}function pl(){}var Oh=Gs(Pe),Fh=Gs(nr),Ah=Gs(Ar);function Gu(e){return Ks(e)?ar(mr(e)):function sc(e){return function(t){return uo(t,e)}}(e)}var Ih=ql(),Dh=ql(!0);function dl(){return[]}function hl(){return!1}var Wh=Xa(function(e,t){return e+t},0),Gh=Us("ceil"),Uh=Xa(function(e,t){return e/t},1),Hh=Us("floor"),Zh=Xa(function(e,t){return e*t},1),Qh=Us("round"),eg=Xa(function(e,t){return e-t},0);return m.after=function kp(e,t){if("function"!=typeof t)throw new Mt(ie);return e=me(e),function(){if(--e<1)return t.apply(this,arguments)}},m.ary=_u,m.assign=fd,m.assignIn=Iu,m.assignInWith=ss,m.assignWith=pd,m.at=dd,m.before=wu,m.bind=nl,m.bindAll=yh,m.bindKey=Tu,m.castArray=function jp(){if(!arguments.length)return[];var e=arguments[0];return ge(e)?e:[e]},m.chain=vu,m.chunk=function Uc(e,t,o){t=(o?Dt(e,t,o):t===T)?1:Xe(me(t),0);var u=null==e?0:e.length;if(!u||t<1)return[];for(var d=0,y=0,x=R(no(u/t));d<u;)x[y++]=bn(e,d,d+=t);return x},m.compact=function Hc(e){for(var t=-1,o=null==e?0:e.length,u=0,d=[];++t<o;){var y=e[t];y&&(d[u++]=y)}return d},m.concat=function Yc(){var e=arguments.length;if(!e)return[];for(var t=R(e-1),o=arguments[0],u=e;u--;)t[u-1]=arguments[u];return mn(ge(o)?qt(o):[o],bt(t,1))},m.cond=function bh(e){var t=null==e?0:e.length,o=le();return e=t?Pe(e,function(u){if("function"!=typeof u[1])throw new Mt(ie);return[o(u[0]),u[1]]}):[],we(function(u){for(var d=-1;++d<t;){var y=e[d];if(U(y[0],this,u))return U(y[1],this,u)}})},m.conforms=function _h(e){return function Ce(e){var t=ut(e);return function(o){return Re(o,e,t)}}(_e(e,1))},m.constant=ul,m.countBy=tp,m.create=function hd(e,t){var o=Ft(e);return null==t?o:G(o,t)},m.curry=function Cu(e,t,o){var u=Ur(e,8,T,T,T,T,T,t=o?T:t);return u.placeholder=Cu.placeholder,u},m.curryRight=function ku(e,t,o){var u=Ur(e,16,T,T,T,T,T,t=o?T:t);return u.placeholder=ku.placeholder,u},m.debounce=xu,m.defaults=gd,m.defaultsDeep=md,m.defer=xp,m.delay=Sp,m.difference=qc,m.differenceBy=Xc,m.differenceWith=Vc,m.drop=function Kc(e,t,o){var u=null==e?0:e.length;return u?bn(e,(t=o||t===T?1:me(t))<0?0:t,u):[]},m.dropRight=function Jc(e,t,o){var u=null==e?0:e.length;return u?bn(e,0,(t=u-(t=o||t===T?1:me(t)))<0?0:t):[]},m.dropRightWhile=function Zc(e,t){return e&&e.length?Ha(e,le(t,3),!0,!0):[]},m.dropWhile=function Qc(e,t){return e&&e.length?Ha(e,le(t,3),!0):[]},m.fill=function ef(e,t,o,u){var d=null==e?0:e.length;return d?(o&&"number"!=typeof o&&Dt(e,t,o)&&(o=0,u=d),function Yu(e,t,o,u){var d=e.length;for((o=me(o))<0&&(o=-o>d?0:d+o),(u=u===T||u>d?d:me(u))<0&&(u+=d),u=o>u?0:Au(u);o<u;)e[o++]=t;return e}(e,t,o,u)):[]},m.filter=function rp(e,t){return(ge(e)?Ut:ml)(e,le(t,3))},m.flatMap=function ap(e,t){return bt(ts(e,t),1)},m.flatMapDeep=function sp(e,t){return bt(ts(e,t),st)},m.flatMapDepth=function lp(e,t,o){return o=o===T?1:me(o),bt(ts(e,t),o)},m.flatten=du,m.flattenDeep=function tf(e){return null!=e&&e.length?bt(e,st):[]},m.flattenDepth=function nf(e,t){return null!=e&&e.length?bt(e,t=t===T?1:me(t)):[]},m.flip=function Pp(e){return Ur(e,512)},m.flow=Th,m.flowRight=Ch,m.fromPairs=function rf(e){for(var t=-1,o=null==e?0:e.length,u={};++t<o;){var d=e[t];u[d[0]]=d[1]}return u},m.functions=function Cd(e){return null==e?[]:Wa(e,ut(e))},m.functionsIn=function kd(e){return null==e?[]:Wa(e,Vt(e))},m.groupBy=up,m.initial=function af(e){return null!=e&&e.length?bn(e,0,-1):[]},m.intersection=sf,m.intersectionBy=lf,m.intersectionWith=uf,m.invert=Sd,m.invertBy=Pd,m.invokeMap=fp,m.iteratee=cl,m.keyBy=pp,m.keys=ut,m.keysIn=Vt,m.map=ts,m.mapKeys=function Md(e,t){var o={};return t=le(t,3),hr(e,function(u,d,y){te(o,t(u,d,y),u)}),o},m.mapValues=function Od(e,t){var o={};return t=le(t,3),hr(e,function(u,d,y){te(o,d,t(u,d,y))}),o},m.matches=function kh(e){return Cl(_e(e,1))},m.matchesProperty=function xh(e,t){return kl(e,_e(t,1))},m.memoize=rs,m.merge=Fd,m.mergeWith=Du,m.method=Sh,m.methodOf=Ph,m.mixin=fl,m.negate=is,m.nthArg=function Mh(e){return e=me(e),we(function(t){return xl(t,e)})},m.omit=Ad,m.omitBy=function Rd(e,t){return ju(e,is(le(t)))},m.once=function Ep(e){return wu(2,e)},m.orderBy=function dp(e,t,o,u){return null==e?[]:(ge(t)||(t=null==t?[]:[t]),ge(o=u?T:o)||(o=null==o?[]:[o]),Sl(e,t,o))},m.over=Oh,m.overArgs=Mp,m.overEvery=Fh,m.overSome=Ah,m.partial=rl,m.partialRight=Su,m.partition=hp,m.pick=Id,m.pickBy=ju,m.property=Gu,m.propertyOf=function Rh(e){return function(t){return null==e?T:uo(e,t)}},m.pull=df,m.pullAll=gu,m.pullAllBy=function hf(e,t,o){return e&&e.length&&t&&t.length?Is(e,t,le(o,2)):e},m.pullAllWith=function gf(e,t,o){return e&&e.length&&t&&t.length?Is(e,t,T,o):e},m.pullAt=mf,m.range=Ih,m.rangeRight=Dh,m.rearg=Op,m.reject=function vp(e,t){return(ge(e)?Ut:ml)(e,is(le(t,3)))},m.remove=function vf(e,t){var o=[];if(!e||!e.length)return o;var u=-1,d=[],y=e.length;for(t=le(t,3);++u<y;){var x=e[u];t(x,u,e)&&(o.push(x),d.push(u))}return El(e,d),o},m.rest=function Fp(e,t){if("function"!=typeof e)throw new Mt(ie);return we(e,t=t===T?t:me(t))},m.reverse=el,m.sampleSize=function bp(e,t,o){return t=(o?Dt(e,t,o):t===T)?1:me(t),(ge(e)?P:cc)(e,t)},m.set=function jd(e,t,o){return null==e?e:Ea(e,t,o)},m.setWith=function Bd(e,t,o,u){return u="function"==typeof u?u:T,null==e?e:Ea(e,t,o,u)},m.shuffle=function _p(e){return(ge(e)?I:pc)(e)},m.slice=function yf(e,t,o){var u=null==e?0:e.length;return u?(o&&"number"!=typeof o&&Dt(e,t,o)?(t=0,o=u):(t=null==t?0:me(t),o=o===T?u:me(o)),bn(e,t,o)):[]},m.sortBy=Cp,m.sortedUniq=function xf(e){return e&&e.length?Ol(e):[]},m.sortedUniqBy=function Sf(e,t){return e&&e.length?Ol(e,le(t,2)):[]},m.split=function ah(e,t,o){return o&&"number"!=typeof o&&Dt(e,t,o)&&(t=o=T),(o=o===T?q:o>>>0)?(e=Ie(e))&&("string"==typeof t||null!=t&&!ol(t))&&!(t=an(t))&&lr(e)?Ci(Be(e),0,o):e.split(t,o):[]},m.spread=function Ap(e,t){if("function"!=typeof e)throw new Mt(ie);return t=null==t?0:Xe(me(t),0),we(function(o){var u=o[t],d=Ci(o,0,t);return u&&mn(d,u),U(e,this,d)})},m.tail=function Pf(e){var t=null==e?0:e.length;return t?bn(e,1,t):[]},m.take=function Ef(e,t,o){return e&&e.length?bn(e,0,(t=o||t===T?1:me(t))<0?0:t):[]},m.takeRight=function Mf(e,t,o){var u=null==e?0:e.length;return u?bn(e,(t=u-(t=o||t===T?1:me(t)))<0?0:t,u):[]},m.takeRightWhile=function Of(e,t){return e&&e.length?Ha(e,le(t,3),!1,!0):[]},m.takeWhile=function Ff(e,t){return e&&e.length?Ha(e,le(t,3)):[]},m.tap=function Yf(e,t){return t(e),e},m.throttle=function Rp(e,t,o){var u=!0,d=!0;if("function"!=typeof e)throw new Mt(ie);return qe(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),xu(e,t,{leading:u,maxWait:t,trailing:d})},m.thru=es,m.toArray=Fu,m.toPairs=Bu,m.toPairsIn=Lu,m.toPath=function Nh(e){return ge(e)?Pe(e,mr):sn(e)?[e]:qt(uu(Ie(e)))},m.toPlainObject=Ru,m.transform=function Ld(e,t,o){var u=ge(e),d=u||ki(e)||Ko(e);if(t=le(t,4),null==o){var y=e&&e.constructor;o=d?u?new y:[]:qe(e)&&qr(y)?Ft(eo(e)):{}}return(d?gt:hr)(e,function(x,S,M){return t(o,x,S,M)}),o},m.unary=function Ip(e){return _u(e,1)},m.union=Af,m.unionBy=Rf,m.unionWith=If,m.uniq=function Df(e){return e&&e.length?wi(e):[]},m.uniqBy=function jf(e,t){return e&&e.length?wi(e,le(t,2)):[]},m.uniqWith=function Bf(e,t){return t="function"==typeof t?t:T,e&&e.length?wi(e,T,t):[]},m.unset=function $d(e,t){return null==e||Ls(e,t)},m.unzip=tl,m.unzipWith=mu,m.update=function Nd(e,t,o){return null==e?e:Al(e,t,zs(o))},m.updateWith=function zd(e,t,o,u){return u="function"==typeof u?u:T,null==e?e:Al(e,t,zs(o),u)},m.values=Jo,m.valuesIn=function Wd(e){return null==e?[]:C(e,Vt(e))},m.without=Lf,m.words=zu,m.wrap=function Dp(e,t){return rl(zs(t),e)},m.xor=$f,m.xorBy=Nf,m.xorWith=zf,m.zip=Wf,m.zipObject=function Gf(e,t){return Il(e||[],t||[],F)},m.zipObjectDeep=function Uf(e,t){return Il(e||[],t||[],Ea)},m.zipWith=Hf,m.entries=Bu,m.entriesIn=Lu,m.extend=Iu,m.extendWith=ss,fl(m,m),m.add=Wh,m.attempt=Wu,m.camelCase=Yd,m.capitalize=$u,m.ceil=Gh,m.clamp=function Gd(e,t,o){return o===T&&(o=t,t=T),o!==T&&(o=(o=wn(o))==o?o:0),t!==T&&(t=(t=wn(t))==t?t:0),be(wn(e),t,o)},m.clone=function Bp(e){return _e(e,4)},m.cloneDeep=function $p(e){return _e(e,5)},m.cloneDeepWith=function Np(e,t){return _e(e,5,t="function"==typeof t?t:T)},m.cloneWith=function Lp(e,t){return _e(e,4,t="function"==typeof t?t:T)},m.conformsTo=function zp(e,t){return null==t||Re(e,t,ut(t))},m.deburr=Nu,m.defaultTo=function wh(e,t){return null==e||e!=e?t:e},m.divide=Uh,m.endsWith=function qd(e,t,o){e=Ie(e),t=an(t);var u=e.length,d=o=o===T?u:be(me(o),0,u);return(o-=t.length)>=0&&e.slice(o,d)==t},m.eq=Bn,m.escape=function Xd(e){return(e=Ie(e))&&St.test(e)?e.replace(Hn,vt):e},m.escapeRegExp=function Vd(e){return(e=Ie(e))&&Sn.test(e)?e.replace(Pt,"\\$&"):e},m.every=function np(e,t,o){var u=ge(e)?nr:Hu;return o&&Dt(e,t,o)&&(t=T),u(e,le(t,3))},m.find=ip,m.findIndex=fu,m.findKey=function vd(e,t){return di(e,le(t,3),hr)},m.findLast=op,m.findLastIndex=pu,m.findLastKey=function yd(e,t){return di(e,le(t,3),Es)},m.floor=Hh,m.forEach=yu,m.forEachRight=bu,m.forIn=function bd(e,t){return null==e?e:Ps(e,le(t,3),Vt)},m.forInRight=function _d(e,t){return null==e?e:vl(e,le(t,3),Vt)},m.forOwn=function wd(e,t){return e&&hr(e,le(t,3))},m.forOwnRight=function Td(e,t){return e&&Es(e,le(t,3))},m.get=al,m.gt=Wp,m.gte=Gp,m.has=function xd(e,t){return null!=e&&eu(e,t,qu)},m.hasIn=sl,m.head=hu,m.identity=Kt,m.includes=function cp(e,t,o,u){e=Xt(e)?e:Jo(e),o=o&&!u?me(o):0;var d=e.length;return o<0&&(o=Xe(d+o,0)),as(e)?o<=d&&e.indexOf(t,o)>-1:!!d&&Rn(e,t,o)>-1},m.indexOf=function of(e,t,o){var u=null==e?0:e.length;if(!u)return-1;var d=null==o?0:me(o);return d<0&&(d=Xe(u+d,0)),Rn(e,t,d)},m.inRange=function Ud(e,t,o){return t=Xr(t),o===T?(o=t,t=0):o=Xr(o),function Vu(e,t,o){return e>=at(t,o)&&e<Xe(t,o)}(e=wn(e),t,o)},m.invoke=Ed,m.isArguments=po,m.isArray=ge,m.isArrayBuffer=Up,m.isArrayLike=Xt,m.isArrayLikeObject=Ze,m.isBoolean=function Hp(e){return!0===e||!1===e||Ke(e)&&It(e)==Nt},m.isBuffer=ki,m.isDate=Yp,m.isElement=function qp(e){return Ke(e)&&1===e.nodeType&&!Aa(e)},m.isEmpty=function Xp(e){if(null==e)return!0;if(Xt(e)&&(ge(e)||"string"==typeof e||"function"==typeof e.splice||ki(e)||Ko(e)||po(e)))return!e.length;var t=Ct(e);if(t==pt||t==tt)return!e.size;if(Oa(e))return!As(e).length;for(var o in e)if(Fe.call(e,o))return!1;return!0},m.isEqual=function Vp(e,t){return Pa(e,t)},m.isEqualWith=function Kp(e,t,o){var u=(o="function"==typeof o?o:T)?o(e,t):T;return u===T?Pa(e,t,T,o):!!u},m.isError=il,m.isFinite=function Jp(e){return"number"==typeof e&&ba(e)},m.isFunction=qr,m.isInteger=Pu,m.isLength=os,m.isMap=Eu,m.isMatch=function Zp(e,t){return e===t||Fs(e,t,Xs(t))},m.isMatchWith=function Qp(e,t,o){return o="function"==typeof o?o:T,Fs(e,t,Xs(t),o)},m.isNaN=function ed(e){return Mu(e)&&e!=+e},m.isNative=function td(e){if(Bc(e))throw new pe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _l(e)},m.isNil=function rd(e){return null==e},m.isNull=function nd(e){return null===e},m.isNumber=Mu,m.isObject=qe,m.isObjectLike=Ke,m.isPlainObject=Aa,m.isRegExp=ol,m.isSafeInteger=function id(e){return Pu(e)&&e>=-Zt&&e<=Zt},m.isSet=Ou,m.isString=as,m.isSymbol=sn,m.isTypedArray=Ko,m.isUndefined=function od(e){return e===T},m.isWeakMap=function ad(e){return Ke(e)&&Ct(e)==fn},m.isWeakSet=function sd(e){return Ke(e)&&"[object WeakSet]"==It(e)},m.join=function cf(e,t){return null==e?"":ps.call(e,t)},m.kebabCase=Kd,m.last=_n,m.lastIndexOf=function ff(e,t,o){var u=null==e?0:e.length;if(!u)return-1;var d=u;return o!==T&&(d=(d=me(o))<0?Xe(u+d,0):at(d,u-1)),t==t?function Da(E,j,R){for(var K=R+1;K--;)if(E[K]===j)return K;return K}(e,t,d):ir(e,or,d,!0)},m.lowerCase=Jd,m.lowerFirst=Zd,m.lt=ld,m.lte=ud,m.max=function Yh(e){return e&&e.length?za(e,Kt,Ms):T},m.maxBy=function qh(e,t){return e&&e.length?za(e,le(t,2),Ms):T},m.mean=function Xh(e){return Do(e,Kt)},m.meanBy=function Vh(e,t){return Do(e,le(t,2))},m.min=function Kh(e){return e&&e.length?za(e,Kt,Rs):T},m.minBy=function Jh(e,t){return e&&e.length?za(e,le(t,2),Rs):T},m.stubArray=dl,m.stubFalse=hl,m.stubObject=function jh(){return{}},m.stubString=function Bh(){return""},m.stubTrue=function Lh(){return!0},m.multiply=Zh,m.nth=function pf(e,t){return e&&e.length?xl(e,me(t)):T},m.noConflict=function Eh(){return Je._===this&&(Je._=yt),this},m.noop=pl,m.now=ns,m.pad=function Qd(e,t,o){e=Ie(e);var u=(t=me(t))?jr(e):0;if(!t||u>=t)return e;var d=(t-u)/2;return Va(Go(d),o)+e+Va(no(d),o)},m.padEnd=function eh(e,t,o){e=Ie(e);var u=(t=me(t))?jr(e):0;return t&&u<t?e+Va(t-u,o):e},m.padStart=function th(e,t,o){e=Ie(e);var u=(t=me(t))?jr(e):0;return t&&u<t?Va(t-u,o)+e:e},m.parseInt=function nh(e,t,o){return o||null==t?t=0:t&&(t=+t),vi(Ie(e).replace(Di,""),t||0)},m.random=function Hd(e,t,o){if(o&&"boolean"!=typeof o&&Dt(e,t,o)&&(t=o=T),o===T&&("boolean"==typeof t?(o=t,t=T):"boolean"==typeof e&&(o=e,e=T)),e===T&&t===T?(e=0,t=1):(e=Xr(e),t===T?(t=e,e=0):t=Xr(t)),e>t){var u=e;e=t,t=u}if(o||e%1||t%1){var d=_a();return at(e+d*(t-e+Mo("1e-"+((d+"").length-1))),t)}return Ds(e,t)},m.reduce=function gp(e,t,o){var u=ge(e)?rr:Ki,d=arguments.length<3;return u(e,le(t,4),o,d,yn)},m.reduceRight=function mp(e,t,o){var u=ge(e)?aa:Ki,d=arguments.length<3;return u(e,le(t,4),o,d,gl)},m.repeat=function rh(e,t,o){return t=(o?Dt(e,t,o):t===T)?1:me(t),js(Ie(e),t)},m.replace=function ih(){var e=arguments,t=Ie(e[0]);return e.length<3?t:t.replace(e[1],e[2])},m.result=function Dd(e,t,o){var u=-1,d=(t=Ti(t,e)).length;for(d||(d=1,e=T);++u<d;){var y=null==e?T:e[mr(t[u])];y===T&&(u=d,y=o),e=qr(y)?y.call(e):y}return e},m.round=Qh,m.runInContext=E,m.sample=function yp(e){return(ge(e)?k:uc)(e)},m.size=function wp(e){if(null==e)return 0;if(Xt(e))return as(e)?jr(e):e.length;var t=Ct(e);return t==pt||t==tt?e.size:As(e).length},m.snakeCase=oh,m.some=function Tp(e,t,o){var u=ge(e)?Ar:dc;return o&&Dt(e,t,o)&&(t=T),u(e,le(t,3))},m.sortedIndex=function bf(e,t){return Ua(e,t)},m.sortedIndexBy=function _f(e,t,o){return Bs(e,t,le(o,2))},m.sortedIndexOf=function wf(e,t){var o=null==e?0:e.length;if(o){var u=Ua(e,t);if(u<o&&Bn(e[u],t))return u}return-1},m.sortedLastIndex=function Tf(e,t){return Ua(e,t,!0)},m.sortedLastIndexBy=function Cf(e,t,o){return Bs(e,t,le(o,2),!0)},m.sortedLastIndexOf=function kf(e,t){if(null!=e&&e.length){var u=Ua(e,t,!0)-1;if(Bn(e[u],t))return u}return-1},m.startCase=sh,m.startsWith=function lh(e,t,o){return e=Ie(e),o=null==o?0:be(me(o),0,e.length),t=an(t),e.slice(o,o+t.length)==t},m.subtract=eg,m.sum=function tg(e){return e&&e.length?sr(e,Kt):0},m.sumBy=function ng(e,t){return e&&e.length?sr(e,le(t,2)):0},m.template=function uh(e,t,o){var u=m.templateSettings;o&&Dt(e,t,o)&&(t=T),e=Ie(e),t=ss({},t,u,Kl);var S,M,d=ss({},t.imports,u.imports,Kl),y=ut(d),x=C(d,y),L=0,$=t.interpolate||qn,z="__p += '",Y=pa((t.escape||qn).source+"|"+$.source+"|"+($===Ii?yo:qn).source+"|"+(t.evaluate||qn).source+"|$","g"),ne="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oa+"]")+"\n";e.replace(Y,function(ce,xe,Me,ln,jt,un){return Me||(Me=ln),z+=e.slice(L,un).replace(ea,Ht),xe&&(S=!0,z+="' +\n__e("+xe+") +\n'"),jt&&(M=!0,z+="';\n"+jt+";\n__p += '"),Me&&(z+="' +\n((__t = ("+Me+")) == null ? '' : __t) +\n'"),L=un+ce.length,ce}),z+="';\n";var ue=Fe.call(t,"variable")&&t.variable;if(ue){if(vo.test(ue))throw new pe("Invalid `variable` option passed into `_.template`")}else z="with (obj) {\n"+z+"\n}\n";z=(M?z.replace(ti,""):z).replace(ni,"$1").replace(Wt,"$1;"),z="function("+(ue||"obj")+") {\n"+(ue?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(S?", __e = _.escape":"")+(M?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+z+"return __p\n}";var ye=Wu(function(){return ke(y,ne+"return "+z).apply(T,x)});if(ye.source=z,il(ye))throw ye;return ye},m.times=function $h(e,t){if((e=me(e))<1||e>Zt)return[];var o=q,u=at(e,q);t=le(t),e-=q;for(var d=Ir(u,t);++o<e;)t(o);return d},m.toFinite=Xr,m.toInteger=me,m.toLength=Au,m.toLower=function ch(e){return Ie(e).toLowerCase()},m.toNumber=wn,m.toSafeInteger=function cd(e){return e?be(me(e),-Zt,Zt):0===e?e:0},m.toString=Ie,m.toUpper=function fh(e){return Ie(e).toUpperCase()},m.trim=function ph(e,t,o){if((e=Ie(e))&&(o||t===T))return b(e);if(!e||!(t=an(t)))return e;var u=Be(e),d=Be(t);return Ci(u,A(u,d),N(u,d)+1).join("")},m.trimEnd=function dh(e,t,o){if((e=Ie(e))&&(o||t===T))return e.slice(0,ja(e)+1);if(!e||!(t=an(t)))return e;var u=Be(e);return Ci(u,0,N(u,Be(t))+1).join("")},m.trimStart=function hh(e,t,o){if((e=Ie(e))&&(o||t===T))return e.replace(Di,"");if(!e||!(t=an(t)))return e;var u=Be(e);return Ci(u,A(u,Be(t))).join("")},m.truncate=function gh(e,t){var o=30,u="...";if(qe(t)){var d="separator"in t?t.separator:d;o="length"in t?me(t.length):o,u="omission"in t?an(t.omission):u}var y=(e=Ie(e)).length;if(lr(e)){var x=Be(e);y=x.length}if(o>=y)return e;var S=o-jr(u);if(S<1)return u;var M=x?Ci(x,0,S).join(""):e.slice(0,S);if(d===T)return M+u;if(x&&(S+=M.length-S),ol(d)){if(e.slice(S).search(d)){var L,$=M;for(d.global||(d=pa(d.source,Ie(Li.exec(d))+"g")),d.lastIndex=0;L=d.exec($);)var z=L.index;M=M.slice(0,z===T?S:z)}}else if(e.indexOf(an(d),S)!=S){var Y=M.lastIndexOf(d);Y>-1&&(M=M.slice(0,Y))}return M+u},m.unescape=function mh(e){return(e=Ie(e))&&Zo.test(e)?e.replace(go,Ba):e},m.uniqueId=function zh(e){var t=++Lr;return Ie(e)+t},m.upperCase=vh,m.upperFirst=ll,m.each=yu,m.eachRight=bu,m.first=hu,fl(m,function(){var e={};return hr(m,function(t,o){Fe.call(m.prototype,o)||(e[o]=t)}),e}(),{chain:!1}),m.VERSION="4.17.21",gt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),gt(["drop","take"],function(e,t){Te.prototype[e]=function(o){o=o===T?1:Xe(me(o),0);var u=this.__filtered__&&!t?new Te(this):this.clone();return u.__filtered__?u.__takeCount__=at(o,u.__takeCount__):u.__views__.push({size:at(o,q),type:e+(u.__dir__<0?"Right":"")}),u},Te.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),gt(["filter","map","takeWhile"],function(e,t){var o=t+1,u=1==o||3==o;Te.prototype[e]=function(d){var y=this.clone();return y.__iteratees__.push({iteratee:le(d,3),type:o}),y.__filtered__=y.__filtered__||u,y}}),gt(["head","last"],function(e,t){var o="take"+(t?"Right":"");Te.prototype[e]=function(){return this[o](1).value()[0]}}),gt(["initial","tail"],function(e,t){var o="drop"+(t?"":"Right");Te.prototype[e]=function(){return this.__filtered__?new Te(this):this[o](1)}}),Te.prototype.compact=function(){return this.filter(Kt)},Te.prototype.find=function(e){return this.filter(e).head()},Te.prototype.findLast=function(e){return this.reverse().find(e)},Te.prototype.invokeMap=we(function(e,t){return"function"==typeof e?new Te(this):this.map(function(o){return Sa(o,e,t)})}),Te.prototype.reject=function(e){return this.filter(is(le(e)))},Te.prototype.slice=function(e,t){e=me(e);var o=this;return o.__filtered__&&(e>0||t<0)?new Te(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),t!==T&&(o=(t=me(t))<0?o.dropRight(-t):o.take(t-e)),o)},Te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Te.prototype.toArray=function(){return this.take(q)},hr(Te.prototype,function(e,t){var o=/^(?:filter|find|map|reject)|While$/.test(t),u=/^(?:head|last)$/.test(t),d=m[u?"take"+("last"==t?"Right":""):t],y=u||/^find/.test(t);d&&(m.prototype[t]=function(){var x=this.__wrapped__,S=u?[1]:arguments,M=x instanceof Te,L=S[0],$=M||ge(x),z=function(xe){var Me=d.apply(m,mn([xe],S));return u&&Y?Me[0]:Me};$&&o&&"function"==typeof L&&1!=L.length&&(M=$=!1);var Y=this.__chain__,ue=y&&!Y,ye=M&&!this.__actions__.length;if(!y&&$){x=ye?x:new Te(this);var ce=e.apply(x,S);return ce.__actions__.push({func:es,args:[z],thisArg:T}),new Tt(ce,Y)}return ue&&ye?e.apply(this,S):(ce=this.thru(z),ue?u?ce.value()[0]:ce.value():ce)})}),gt(["pop","push","shift","sort","splice","unshift"],function(e){var t=gi[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);m.prototype[e]=function(){var d=arguments;if(u&&!this.__chain__){var y=this.value();return t.apply(ge(y)?y:[],d)}return this[o](function(x){return t.apply(ge(x)?x:[],d)})}}),hr(Te.prototype,function(e,t){var o=m[t];if(o){var u=o.name+"";Fe.call(Yt,u)||(Yt[u]=[]),Yt[u].push({name:t,func:o})}}),Yt[qa(T,2).name]=[{name:"wrapper",func:T}],Te.prototype.clone=function Ho(){var e=new Te(this.__wrapped__);return e.__actions__=qt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=qt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=qt(this.__views__),e},Te.prototype.reverse=function vs(){if(this.__filtered__){var e=new Te(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Te.prototype.value=function ys(){var e=this.__wrapped__.value(),t=this.__dir__,o=ge(e),u=t<0,d=o?e.length:0,y=function Mc(e,t,o){for(var u=-1,d=o.length;++u<d;){var y=o[u],x=y.size;switch(y.type){case"drop":e+=x;break;case"dropRight":t-=x;break;case"take":t=at(t,e+x);break;case"takeRight":e=Xe(e,t-x)}}return{start:e,end:t}}(0,d,this.__views__),x=y.start,S=y.end,M=S-x,L=u?S:x-1,$=this.__iteratees__,z=$.length,Y=0,ne=at(M,this.__takeCount__);if(!o||!u&&d==M&&ne==M)return Rl(e,this.__actions__);var ue=[];e:for(;M--&&Y<ne;){for(var ye=-1,ce=e[L+=t];++ye<z;){var xe=$[ye],ln=xe.type,jt=(0,xe.iteratee)(ce);if(2==ln)ce=jt;else if(!jt){if(1==ln)continue e;break e}}ue[Y++]=ce}return ue},m.prototype.at=qf,m.prototype.chain=function Xf(){return vu(this)},m.prototype.commit=function Vf(){return new Tt(this.value(),this.__chain__)},m.prototype.next=function Kf(){this.__values__===T&&(this.__values__=Fu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?T:this.__values__[this.__index__++]}},m.prototype.plant=function Zf(e){for(var t,o=this;o instanceof so;){var u=cu(o);u.__index__=0,u.__values__=T,t?d.__wrapped__=u:t=u;var d=u;o=o.__wrapped__}return d.__wrapped__=e,t},m.prototype.reverse=function Qf(){var e=this.__wrapped__;if(e instanceof Te){var t=e;return this.__actions__.length&&(t=new Te(this)),(t=t.reverse()).__actions__.push({func:es,args:[el],thisArg:T}),new Tt(t,this.__chain__)}return this.thru(el)},m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=function ep(){return Rl(this.__wrapped__,this.__actions__)},m.prototype.first=m.prototype.head,to&&(m.prototype[to]=function Jf(){return this}),m}();Je._=Bo,(de=function(){return Bo}.call(ze,Q,ze,Bt))!==T&&(Bt.exports=de)}.call(this)}}]);