(self.webpackChunkboard_game_helper=self.webpackChunkboard_game_helper||[]).push([[940],{6940:(To,Oe,B)=>{"use strict";B.r(Oe),B.d(Oe,{UprisingModule:()=>hr});var K=B(177),ye=B(8431),n=B(4438);let w=(()=>{class a{constructor(){this.uprisingMaps=new Map,this.selectedMap={mapName:"",description:"",mapHTML:new Array,mapSize:se.Medium};let p=window.localStorage.getItem("uprisingMaps");p&&(this.uprisingMaps=new Map(JSON.parse(p)))}static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var se=function(a){return a.Small="Small",a.Medium="Medium",a.Large="Large",a.Huge="Huge",a}(se||{}),Z=B(8326),fe=B(6357);function Cr(a,d){if(1&a&&(n.j41(0,"option",13),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("ngValue",p.key),n.R7$(),n.Lme("",p.key," - ",p.value,"")}}function it(a,d){if(1&a&&(n.j41(0,"option",13),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("ngValue",p.value),n.R7$(),n.SpI(" ",p.value.mapName," ")}}function sn(a,d){if(1&a&&(n.j41(0,"p")(1,"b"),n.EFF(2,"Map Description: "),n.k0s(),n.EFF(3),n.k0s()),2&a){const p=n.XpG(3);n.R7$(3),n.JRh(p.selectedMap.description)}}function Un(a,d){if(1&a&&(n.j41(0,"div")(1,"p")(2,"b"),n.EFF(3,"Map Size: "),n.k0s(),n.EFF(4),n.k0s(),n.DNE(5,sn,4,1,"p",17),n.k0s()),2&a){const p=n.XpG(2);n.R7$(4),n.JRh(p.selectedMap.mapSize),n.R7$(),n.Y8G("ngIf",p.selectedMap.description)}}function St(a,d){if(1&a){const p=n.RV6();n.j41(0,"div",14)(1,"div",3)(2,"h5",4),n.EFF(3,"Load an existing map"),n.k0s(),n.j41(4,"select",15),n.mxI("ngModelChange",function(h){n.eBV(p);const _=n.XpG();return n.DH7(_.selectedMap,h)||(_.selectedMap=h),n.Njj(h)}),n.j41(5,"option",16),n.EFF(6,"Select an existing map"),n.k0s(),n.DNE(7,it,2,2,"option",9),n.nI1(8,"keyvalue"),n.k0s(),n.DNE(9,Un,6,2,"div",17),n.j41(10,"button",10),n.bIt("click",function(){n.eBV(p);const h=n.XpG();return n.Njj(h.continueBuilding())}),n.EFF(11," Continue building "),n.nrm(12,"i",11),n.k0s()()()}if(2&a){const p=n.XpG();n.R7$(4),n.R50("ngModel",p.selectedMap),n.R7$(),n.Y8G("value",null)("selected",!0)("disabled",!0),n.R7$(2),n.Y8G("ngForOf",n.bMT(8,6,p.mapBuilderService.uprisingMaps)),n.R7$(2),n.Y8G("ngIf",p.selectedMap)}}let Pr=(()=>{class a{constructor(p,m){this.mapBuilderService=p,this.router=m,this.UprisingMapSize=se,this.selectedMap=null,this.newMapName="",this.newMapSize=se.Medium,this.mapSizeOptions=new Map([[se.Small,"Up to 2 tiles high by 3 tiles wide"],[se.Medium,"Up to 3 tiles high by 4 tiles wide"],[se.Large,"Up to 4 tiles high by 5 tiles wide"],[se.Huge,"Up to 5 tiles high by 6 tiles wide"]])}startNewMap(){this.newMapName&&this.newMapSize&&(console.log("adding map to uprising maps",this.newMap()),this.mapBuilderService.uprisingMaps.set(this.newMapName,this.newMap()),this.router.navigate(["/uprising/map-builder",{"selected-map":this.newMapName}]))}newMap(){return{mapName:this.newMapName,mapSize:this.newMapSize,mapHTML:new Array,description:""}}continueBuilding(){this.router.navigate(["/uprising/map-builder",{"selected-map":this.selectedMap?.mapName}])}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(w),n.rXU(ye.Ix))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-map-builder-options"]],decls:18,vars:7,consts:[[1,"container"],[3,"title"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],["for","mapName",1,"form-label"],["type","text","id","mapName",1,"form-control",3,"ngModelChange","ngModel"],["for","mapSize",1,"h6"],["id","mapSize",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-primary","my-3",3,"click"],[1,"bi","bi-arrow-right"],["class","card",4,"ngIf"],[3,"ngValue"],[1,"card"],["id","mapSelect",1,"form-select",3,"ngModelChange","ngModel"],[3,"value","selected","disabled"],[4,"ngIf"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"div",2)(3,"div",3)(4,"h5",4),n.EFF(5,"Start a new map"),n.k0s(),n.j41(6,"label",5),n.EFF(7,"Map Name"),n.k0s(),n.j41(8,"input",6),n.mxI("ngModelChange",function(S){return n.DH7(h.newMapName,S)||(h.newMapName=S),S}),n.k0s(),n.j41(9,"label",7),n.EFF(10,"Map Size:"),n.k0s(),n.j41(11,"select",8),n.mxI("ngModelChange",function(S){return n.DH7(h.newMapSize,S)||(h.newMapSize=S),S}),n.DNE(12,Cr,2,3,"option",9),n.nI1(13,"keyvalue"),n.k0s(),n.j41(14,"button",10),n.bIt("click",function(){return h.startNewMap()}),n.EFF(15," Create new map "),n.nrm(16,"i",11),n.k0s()()(),n.DNE(17,St,13,8,"div",12),n.k0s()),2&m&&(n.R7$(),n.Y8G("title","Map Builder Option"),n.R7$(7),n.R50("ngModel",h.newMapName),n.R7$(3),n.R50("ngModel",h.newMapSize),n.R7$(),n.Y8G("ngForOf",n.bMT(13,5,h.mapSizeOptions)),n.R7$(5),n.Y8G("ngIf",h.mapBuilderService.uprisingMaps.size>0))},dependencies:[K.Sq,K.bT,Z.xH,Z.y7,Z.me,Z.wz,Z.BC,Z.vS,fe.L,K.lG]})}}return a})();var ee=B(920),ue=B.n(ee),L=B(467);const le=(()=>{let a=0;return()=>(a+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${a}`)})();function je(a){const d=[];for(let p=0,m=a.length;p<m;p++)d.push(a[p]);return d}let I=null;function at(a={}){return I||(a.includeStyleProperties?(I=a.includeStyleProperties,I):(I=je(window.getComputedStyle(document.documentElement)),I))}function Ae(a,d){const m=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(d);return m?parseFloat(m.replace("px","")):0}function cn(a,d={}){const p=d.width||function ln(a){const d=Ae(a,"border-left-width"),p=Ae(a,"border-right-width");return a.clientWidth+d+p}(a),m=d.height||function Vn(a){const d=Ae(a,"border-top-width"),p=Ae(a,"border-bottom-width");return a.clientHeight+d+p}(a);return{width:p,height:m}}const E=16384;function st(a){return new Promise((d,p)=>{const m=new Image;m.onload=()=>{m.decode().then(()=>{requestAnimationFrame(()=>d(m))})},m.onerror=p,m.crossOrigin="anonymous",m.decoding="async",m.src=a})}function Re(){return(Re=(0,L.A)(function*(a){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(d=>`data:image/svg+xml;charset=utf-8,${d}`)})).apply(this,arguments)}function be(){return be=(0,L.A)(function*(a,d,p){const m="http://www.w3.org/2000/svg",h=document.createElementNS(m,"svg"),_=document.createElementNS(m,"foreignObject");return h.setAttribute("width",`${d}`),h.setAttribute("height",`${p}`),h.setAttribute("viewBox",`0 0 ${d} ${p}`),_.setAttribute("width","100%"),_.setAttribute("height","100%"),_.setAttribute("x","0"),_.setAttribute("y","0"),_.setAttribute("externalResourcesRequired","true"),h.appendChild(_),_.appendChild(a),function $e(a){return Re.apply(this,arguments)}(h)}),be.apply(this,arguments)}const ne=(a,d)=>{if(a instanceof d)return!0;const p=Object.getPrototypeOf(a);return null!==p&&(p.constructor.name===d.name||ne(p,d))};function pn(a,d,p,m){const h=window.getComputedStyle(a,p),_=h.getPropertyValue("content");if(""===_||"none"===_)return;const S=le();try{d.className=`${d.className} ${S}`}catch{return}const j=document.createElement("style");j.appendChild(function lt(a,d,p,m){const h=`.${a}:${d}`,_=p.cssText?function F(a){const d=a.getPropertyValue("content");return`${a.cssText} content: '${d.replace(/'|"/g,"")}';`}(p):function un(a,d){return at(d).map(p=>`${p}: ${a.getPropertyValue(p)}${a.getPropertyPriority(p)?" !important":""};`).join(" ")}(p,m);return document.createTextNode(`${h}{${_}}`)}(S,p,h,m)),d.appendChild(j)}const ct="application/font-woff",dn="image/jpeg",Ue={woff:ct,woff2:ct,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:dn,jpeg:dn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function xt(a){const d=function xr(a){const d=/\.([^./]*?)$/g.exec(a);return d?d[1]:""}(a).toLowerCase();return Ue[d]||""}function H(a){return-1!==a.search(/^(data:)/)}function fn(a,d){return`data:${d};base64,${a}`}function hn(a,d,p){return me.apply(this,arguments)}function me(){return(me=(0,L.A)(function*(a,d,p){const m=yield fetch(a,d);if(404===m.status)throw new Error(`Resource "${m.url}" not found`);const h=yield m.blob();return new Promise((_,S)=>{const j=new FileReader;j.onerror=S,j.onloadend=()=>{try{_(p({res:m,result:j.result}))}catch(G){S(G)}},j.readAsDataURL(h)})})).apply(this,arguments)}const ut={};function pt(a,d,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,L.A)(function*(a,d,p){const m=function Mr(a,d,p){let m=a.replace(/\?.*/,"");return p&&(m=a),/ttf|otf|eot|woff2?/i.test(m)&&(m=m.replace(/.*\//,"")),d?`[${d}]${m}`:m}(a,d,p.includeQueryParams);if(null!=ut[m])return ut[m];let h;p.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());try{const _=yield hn(a,p.fetchRequestInit,({res:S,result:j})=>(d||(d=S.headers.get("Content-Type")||""),function Qn(a){return a.split(/,/)[1]}(j)));h=fn(_,d)}catch(_){h=p.imagePlaceholder||"";let S=`Failed to fetch resource: ${a}`;_&&(S="string"==typeof _?_:_.message),S&&console.warn(S)}return ut[m]=h,h})).apply(this,arguments)}function Ve(){return(Ve=(0,L.A)(function*(a){const d=a.toDataURL();return"data:,"===d?a.cloneNode(!1):st(d)})).apply(this,arguments)}function gn(){return(gn=(0,L.A)(function*(a,d){if(a.currentSrc){const _=document.createElement("canvas"),S=_.getContext("2d");return _.width=a.clientWidth,_.height=a.clientHeight,S?.drawImage(a,0,0,_.width,_.height),st(_.toDataURL())}const p=a.poster,m=xt(p);return st(yield pt(p,m,d))})).apply(this,arguments)}function Et(){return(Et=(0,L.A)(function*(a,d){var p;try{if(null!==(p=a?.contentDocument)&&void 0!==p&&p.body)return yield Dt(a.contentDocument.body,d,!0)}catch{}return a.cloneNode(!1)})).apply(this,arguments)}function Ft(){return Ft=(0,L.A)(function*(a,d){return ne(a,HTMLCanvasElement)?function ze(a){return Ve.apply(this,arguments)}(a):ne(a,HTMLVideoElement)?function qe(a,d){return gn.apply(this,arguments)}(a,d):ne(a,HTMLIFrameElement)?function Mt(a,d){return Et.apply(this,arguments)}(a,d):a.cloneNode(Ot(a))}),Ft.apply(this,arguments)}const yn=a=>null!=a.tagName&&"SLOT"===a.tagName.toUpperCase(),Ot=a=>null!=a.tagName&&"SVG"===a.tagName.toUpperCase();function jt(){return(jt=(0,L.A)(function*(a,d,p){var m,h;if(Ot(d))return d;let _=[];return _=yn(a)&&a.assignedNodes?je(a.assignedNodes()):ne(a,HTMLIFrameElement)&&null!==(m=a.contentDocument)&&void 0!==m&&m.body?je(a.contentDocument.body.childNodes):je((null!==(h=a.shadowRoot)&&void 0!==h?h:a).childNodes),0===_.length||ne(a,HTMLVideoElement)||(yield _.reduce((S,j)=>S.then(()=>Dt(j,p)).then(G=>{G&&d.appendChild(G)}),Promise.resolve())),d})).apply(this,arguments)}function Xe(){return(Xe=(0,L.A)(function*(a,d){const p=a.querySelectorAll?a.querySelectorAll("use"):[];if(0===p.length)return a;const m={};for(let _=0;_<p.length;_++){const j=p[_].getAttribute("xlink:href");if(j){const G=a.querySelector(j),oe=document.querySelector(j);!G&&oe&&!m[j]&&(m[j]=yield Dt(oe,d,!0))}}const h=Object.values(m);if(h.length){const _="http://www.w3.org/1999/xhtml",S=document.createElementNS(_,"svg");S.setAttribute("xmlns",_),S.style.position="absolute",S.style.width="0",S.style.height="0",S.style.overflow="hidden",S.style.display="none";const j=document.createElementNS(_,"defs");S.appendChild(j);for(let G=0;G<h.length;G++)j.appendChild(h[G]);a.appendChild(S)}return a})).apply(this,arguments)}function Dt(a,d,p){return It.apply(this,arguments)}function It(){return It=(0,L.A)(function*(a,d,p){return p||!d.filter||d.filter(a)?Promise.resolve(a).then(m=>function vn(a,d){return Ft.apply(this,arguments)}(m,d)).then(m=>function Zn(a,d,p){return jt.apply(this,arguments)}(a,m,d)).then(m=>function _n(a,d,p){return ne(d,Element)&&(function Er(a,d,p){const m=d.style;if(!m)return;const h=window.getComputedStyle(a);h.cssText?(m.cssText=h.cssText,m.transformOrigin=h.transformOrigin):at(p).forEach(_=>{let S=h.getPropertyValue(_);"font-size"===_&&S.endsWith("px")&&(S=Math.floor(parseFloat(S.substring(0,S.length-2)))-.1+"px"),ne(a,HTMLIFrameElement)&&"display"===_&&"inline"===S&&(S="block"),"d"===_&&d.getAttribute("d")&&(S=`path(${d.getAttribute("d")})`),m.setProperty(_,S,h.getPropertyPriority(_))})}(a,d,p),function Jn(a,d,p){pn(a,d,":before",p),pn(a,d,":after",p)}(a,d,p),function Rt(a,d){ne(a,HTMLTextAreaElement)&&(d.innerHTML=a.value),ne(a,HTMLInputElement)&&d.setAttribute("value",a.value)}(a,d),function bn(a,d){if(ne(a,HTMLSelectElement)){const m=Array.from(d.children).find(h=>a.value===h.getAttribute("value"));m&&m.setAttribute("selected","")}}(a,d)),d}(a,m,d)).then(m=>function Fr(a,d){return Xe.apply(this,arguments)}(m,d)):null}),It.apply(this,arguments)}const _e=/url\((['"]?)([^'"]+?)\1\)/g,Or=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,dt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Se(){return(Se=(0,L.A)(function*(a,d,p,m,h){try{const _=p?function Sr(a,d){if(a.match(/^[a-z]+:\/\//i))return a;if(a.match(/^\/\//))return window.location.protocol+a;if(a.match(/^[a-z]+:/i))return a;const p=document.implementation.createHTMLDocument(),m=p.createElement("base"),h=p.createElement("a");return p.head.appendChild(m),p.body.appendChild(h),d&&(m.href=d),h.href=a,h.href}(d,p):d,S=xt(d);let j;return j=h?fn(yield h(_),S):yield pt(_,S,m),a.replace(function jr(a){const d=a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${d})(['"]?\\))`,"g")}(d),`$1${j}$3`)}catch{}return a})).apply(this,arguments)}function tr(a){return-1!==a.search(_e)}function ke(a,d,p){return A.apply(this,arguments)}function A(){return A=(0,L.A)(function*(a,d,p){if(!tr(a))return a;const m=function er(a,{preferredFontFormat:d}){return d?a.replace(dt,p=>{for(;;){const[m,,h]=Or.exec(p)||[];if(!h)return"";if(h===d)return`src: ${m};`}}):a}(a,p);return function ge(a){const d=[];return a.replace(_e,(p,m,h)=>(d.push(h),p)),d.filter(p=>!H(p))}(m).reduce((_,S)=>_.then(j=>function Pe(a,d,p,m,h){return Se.apply(this,arguments)}(j,S,d,p)),Promise.resolve(m))}),A.apply(this,arguments)}function xe(a,d,p){return Be.apply(this,arguments)}function Be(){return(Be=(0,L.A)(function*(a,d,p){var m;const h=null===(m=d.style)||void 0===m?void 0:m.getPropertyValue(a);if(h){const _=yield ke(h,null,p);return d.style.setProperty(a,_,d.style.getPropertyPriority(a)),!0}return!1})).apply(this,arguments)}function kn(){return(kn=(0,L.A)(function*(a,d){(yield xe("background",a,d))||(yield xe("background-image",a,d)),(yield xe("mask",a,d))||(yield xe("-webkit-mask",a,d))||(yield xe("mask-image",a,d))||(yield xe("-webkit-mask-image",a,d))})).apply(this,arguments)}function Ke(){return(Ke=(0,L.A)(function*(a,d){const p=ne(a,HTMLImageElement);if((!p||H(a.src))&&(!ne(a,SVGImageElement)||H(a.href.baseVal)))return;const m=p?a.src:a.href.baseVal,h=yield pt(m,xt(m),d);yield new Promise((_,S)=>{a.onload=_,a.onerror=d.onImageErrorHandler?(...G)=>{try{_(d.onImageErrorHandler(...G))}catch(oe){S(oe)}}:S;const j=a;j.decode&&(j.decode=_),"lazy"===j.loading&&(j.loading="eager"),p?(a.srcset="",a.src=h):a.href.baseVal=h})})).apply(this,arguments)}function wn(){return(wn=(0,L.A)(function*(a,d){const m=je(a.childNodes).map(h=>nr(h,d));yield Promise.all(m).then(()=>a)})).apply(this,arguments)}function nr(a,d){return De.apply(this,arguments)}function De(){return De=(0,L.A)(function*(a,d){ne(a,Element)&&(yield function Rr(a,d){return kn.apply(this,arguments)}(a,d),yield function pe(a,d){return Ke.apply(this,arguments)}(a,d),yield function Dr(a,d){return wn.apply(this,arguments)}(a,d))}),De.apply(this,arguments)}const or={};function Tn(a){return At.apply(this,arguments)}function At(){return(At=(0,L.A)(function*(a){let d=or[a];return null!=d||(d={url:a,cssText:yield(yield fetch(a)).text()},or[a]=d),d})).apply(this,arguments)}function ft(a,d){return $t.apply(this,arguments)}function $t(){return $t=(0,L.A)(function*(a,d){let p=a.cssText;const m=/url\(["']?([^"')]+)["']?\)/g,_=(p.match(/url\([^)]+\)/g)||[]).map(function(){var S=(0,L.A)(function*(j){let G=j.replace(m,"$1");return G.startsWith("https://")||(G=new URL(G,a.url).href),hn(G,d.fetchRequestInit,({result:oe})=>(p=p.replace(j,`url(${oe})`),[j,oe]))});return function(j){return S.apply(this,arguments)}}());return Promise.all(_).then(()=>p)}),$t.apply(this,arguments)}function zt(a){if(null==a)return[];const d=[];let m=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const h=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const G=h.exec(m);if(null===G)break;d.push(G[0])}m=m.replace(h,"");const _=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,j=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let G=_.exec(m);if(null===G){if(G=j.exec(m),null===G)break;_.lastIndex=j.lastIndex}else j.lastIndex=_.lastIndex;d.push(G[0])}return d}function Cn(){return(Cn=(0,L.A)(function*(a,d){const p=[],m=[];return a.forEach(h=>{if("cssRules"in h)try{je(h.cssRules||[]).forEach((_,S)=>{if(_.type===CSSRule.IMPORT_RULE){let j=S+1;const oe=Tn(_.href).then(we=>ft(we,d)).then(we=>zt(we).forEach(Zt=>{try{h.insertRule(Zt,Zt.startsWith("@import")?j+=1:h.cssRules.length)}catch(mr){console.error("Error inserting rule from remote css",{rule:Zt,error:mr})}})).catch(we=>{console.error("Error loading remote css",we.toString())});m.push(oe)}})}catch(_){const S=a.find(j=>null==j.href)||document.styleSheets[0];null!=h.href&&m.push(Tn(h.href).then(j=>ft(j,d)).then(j=>zt(j).forEach(G=>{S.insertRule(G,S.cssRules.length)})).catch(j=>{console.error("Error loading remote stylesheet",j)})),console.error("Error inlining remote css file",_)}}),Promise.all(m).then(()=>(a.forEach(h=>{if("cssRules"in h)try{je(h.cssRules||[]).forEach(_=>{p.push(_)})}catch(_){console.error(`Error while reading CSS rules from ${h.href}`,_)}}),p))})).apply(this,arguments)}function Pn(){return Pn=(0,L.A)(function*(a,d){if(null==a.ownerDocument)throw new Error("Provided element is not within a Document");const p=je(a.ownerDocument.styleSheets),m=yield function ir(a,d){return Cn.apply(this,arguments)}(p,d);return function Ir(a){return a.filter(d=>d.type===CSSRule.FONT_FACE_RULE).filter(d=>tr(d.style.getPropertyValue("src")))}(m)}),Pn.apply(this,arguments)}function ht(a){return a.trim().replace(/["']/g,"")}function xn(){return xn=(0,L.A)(function*(a,d){const p=yield function Bt(a,d){return Pn.apply(this,arguments)}(a,d),m=function Sn(a){const d=new Set;return function p(m){(m.style.fontFamily||getComputedStyle(m).fontFamily).split(",").forEach(_=>{d.add(ht(_))}),Array.from(m.children).forEach(_=>{_ instanceof HTMLElement&&p(_)})}(a),d}(a);return(yield Promise.all(p.filter(_=>m.has(ht(_.style.fontFamily))).map(_=>ke(_.cssText,_.parentStyleSheet?_.parentStyleSheet.href:null,d)))).join("\n")}),xn.apply(this,arguments)}function Mn(){return Mn=(0,L.A)(function*(a,d){const p=null!=d.fontEmbedCSS?d.fontEmbedCSS:d.skipFonts?null:yield function Ar(a,d){return xn.apply(this,arguments)}(a,d);if(p){const m=document.createElement("style"),h=document.createTextNode(p);m.appendChild(h),a.firstChild?a.insertBefore(m,a.firstChild):a.appendChild(m)}}),Mn.apply(this,arguments)}function En(){return En=(0,L.A)(function*(a,d={}){const{width:p,height:m}=cn(a,d),h=yield Dt(a,d,!0);return yield function mt(a,d){return Mn.apply(this,arguments)}(h,d),yield nr(h,d),function rr(a,d){const{style:p}=a;d.backgroundColor&&(p.backgroundColor=d.backgroundColor),d.width&&(p.width=`${d.width}px`),d.height&&(p.height=`${d.height}px`);const m=d.style;null!=m&&Object.keys(m).forEach(h=>{p[h]=m[h]})}(h,d),yield function Kn(a,d,p){return be.apply(this,arguments)}(h,p,m)}),En.apply(this,arguments)}function Gt(){return Gt=(0,L.A)(function*(a,d={}){const{width:p,height:m}=cn(a,d),h=yield function Ne(a){return En.apply(this,arguments)}(a,d),_=yield st(h),S=document.createElement("canvas"),j=S.getContext("2d"),G=d.pixelRatio||function qn(){let a,d;try{d=process}catch{}const p=d&&d.env?d.env.devicePixelRatio:null;return p&&(a=parseInt(p,10),Number.isNaN(a)&&(a=1)),a||window.devicePixelRatio||1}(),oe=d.canvasWidth||p,we=d.canvasHeight||m;return S.width=oe*G,S.height=we*G,d.skipAutoScale||function V(a){(a.width>E||a.height>E)&&(a.width>E&&a.height>E?a.width>a.height?(a.height*=E/a.width,a.width=E):(a.width*=E/a.height,a.height=E):a.width>E?(a.height*=E/a.width,a.width=E):(a.width*=E/a.height,a.height=E))}(S),S.style.width=`${oe}`,S.style.height=`${we}`,d.backgroundColor&&(j.fillStyle=d.backgroundColor,j.fillRect(0,0,S.width,S.height)),j.drawImage(_,0,0,S.width,S.height),S}),Gt.apply(this,arguments)}function Me(){return(Me=(0,L.A)(function*(a,d={}){return(yield function Nt(a){return Gt.apply(this,arguments)}(a,d)).toDataURL("image/jpeg",d.quality||1)})).apply(this,arguments)}var Ge=B(5889),ar=B(6029);const Ht=(a,d,p,m)=>({"map-small":a,"map-medium":d,"map-large":p,"map-huge":m});function sr(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",19),n.k0s())}function re(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",20),n.k0s())}function Wt(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",21),n.k0s())}function Br(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",22),n.k0s())}function Nr(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",23),n.k0s())}function vt(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",24),n.k0s())}function yt(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",25),n.k0s())}function On(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",26),n.k0s())}function Gr(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",27),n.k0s())}function jn(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",28),n.k0s())}function Yr(a,d){1&a&&(n.j41(0,"div"),n.nrm(1,"img",29),n.k0s())}let U=(()=>{class a{constructor(){this.mapBuilderService=(0,n.WQX)(w),this.route=(0,n.WQX)(ye.nX),this.toastService=(0,n.WQX)(Ge.f),this.selectedMap={mapSize:se.Medium,mapHTML:new Array,mapName:"",description:""},this.UprisingMapSize=se,this.mapTiles=new Array,this.mapFlagsGreen=new Array,this.mapFlagsYellow=new Array,this.mapFlagsOrange=new Array,this.mapFlagsRed=new Array,this.mapPortalsBlue=new Array,this.mapPortalsPurple=new Array,this.mapPortalsTeal=new Array,this.mapCapitols=new Array,this.mapMountains=new Array,this.mapWaterRegions=new Array}ngOnInit(){this.loadMap(),ue()(".dropzone").dropzone({overlap:.01,ondropactivate:function(p){p.target.classList.add("drop-active")},ondragenter:function(p){var m=p.relatedTarget;p.target.classList.add("drop-target"),m.classList.add("can-drop")},ondragleave:function(p){p.target.classList.remove("drop-target"),p.relatedTarget.classList.remove("can-drop")},ondrop:function(p){p.relatedTarget.remove()},ondropdeactivate:function(p){p.target.classList.remove("drop-active"),p.target.classList.remove("drop-target")}}),ue()(".drag-drop").draggable({inertia:!0,autoScroll:!0,listeners:{move(p){var m=p.target,h=(parseFloat(m.getAttribute("data-x"))||0)+p.dx,_=(parseFloat(m.getAttribute("data-y"))||0)+p.dy;m.style.transform="translate("+h+"px, "+_+"px)",m.setAttribute("data-x",h),m.setAttribute("data-y",_)}}})}saveAsImage(){(function $r(a){return Me.apply(this,arguments)})(document.getElementById("image-group")).then(function(m){console.log("dataUrl",m);let h=document.createElement("a");h.download="map.png",h.href=m,h.click()})}setMapHTML(p){let m=document.getElementById("inner-div");if(p?.mapHTML.length>0&&m)for(let h of p.mapHTML)m.innerHTML+=h}saveToLocalStorage(){let p=document.getElementsByName("map-element"),m=new Array;p.forEach(h=>{m.push(h.outerHTML)}),p&&(this.selectedMap.mapHTML=m,this.mapBuilderService.uprisingMaps.set(this.selectedMap.mapName,this.selectedMap),localStorage.setItem("uprisingMaps",JSON.stringify(Array.from(this.mapBuilderService.uprisingMaps.entries()))),this.toastService.toastSubject.next())}loadMap(){let p=this.route.snapshot.paramMap.get("selected-map");p&&(this.selectedMap=this.mapBuilderService.uprisingMaps.get(p),this.setMapHTML(this.selectedMap))}static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-map-builder"]],decls:60,vars:20,consts:[[1,"container"],[3,"title"],[3,"message"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-row"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"dropdown","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item","pointer",3,"click"],[1,"bi","bi-trash","dropzone",2,"font-size","2rem"],["id","image-group",1,"draw-zone",3,"ngClass"],[4,"ngFor","ngForOf"],["id","inner-div"],[1,"my-3"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3","placeholder","Add a description and any special instructions on playing this map here.",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3"],[1,"btn","btn-primary","me-2",3,"click"],["src","../../../assets/uprising_map_builder/MapSegment.svg","name","map-element","width","190px",1,"drag-drop","position-absolute","bottom-0","start-0","z1"],["src","../../../assets/uprising_map_builder/Castle.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Mountains.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Water.svg","name","map-element","width","65px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagGreen.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagYellow.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagOrange.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/FlagRed.svg","name","map-element","width","30px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Portal-Blue.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Portal-Purple.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"],["src","../../../assets/uprising_map_builder/Portal-Teal.svg","name","map-element","width","50px",1,"drag-drop","position-absolute","bottom-0","start-0","z2"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1)(2,"app-toast",2),n.j41(3,"div",3)(4,"div",4)(5,"button",5),n.bIt("click",function(){return h.mapTiles.push(1)}),n.EFF(6,"Add Map Tile"),n.k0s(),n.j41(7,"div",6)(8,"button",7),n.EFF(9," Add Flag "),n.k0s(),n.j41(10,"ul",8)(11,"li",9),n.bIt("click",function(){return h.mapFlagsRed.push(1)}),n.EFF(12,"Red"),n.k0s(),n.j41(13,"li",9),n.bIt("click",function(){return h.mapFlagsOrange.push(1)}),n.EFF(14,"Orange"),n.k0s(),n.j41(15,"li",9),n.bIt("click",function(){return h.mapFlagsYellow.push(1)}),n.EFF(16,"Yellow"),n.k0s(),n.j41(17,"li",9),n.bIt("click",function(){return h.mapFlagsGreen.push(1)}),n.EFF(18,"Green"),n.k0s()()(),n.j41(19,"div",6)(20,"button",7),n.EFF(21," Add Portal "),n.k0s(),n.j41(22,"ul",8)(23,"li",9),n.bIt("click",function(){return h.mapPortalsBlue.push(1)}),n.EFF(24,"Blue"),n.k0s(),n.j41(25,"li",9),n.bIt("click",function(){return h.mapPortalsPurple.push(1)}),n.EFF(26,"Purple"),n.k0s(),n.j41(27,"li",9),n.bIt("click",function(){return h.mapPortalsTeal.push(1)}),n.EFF(28,"Teal"),n.k0s()()(),n.j41(29,"button",5),n.bIt("click",function(){return h.mapCapitols.push(1)}),n.EFF(30,"Add Capitol"),n.k0s(),n.j41(31,"button",5),n.bIt("click",function(){return h.mapMountains.push(1)}),n.EFF(32,"Add Mountain Region"),n.k0s(),n.j41(33,"button",5),n.bIt("click",function(){return h.mapWaterRegions.push(1)}),n.EFF(34,"Add Water Region"),n.k0s()(),n.j41(35,"div"),n.nrm(36,"i",10),n.k0s()(),n.j41(37,"div",11),n.DNE(38,sr,2,0,"div",12)(39,re,2,0,"div",12)(40,Wt,2,0,"div",12)(41,Br,2,0,"div",12)(42,Nr,2,0,"div",12)(43,vt,2,0,"div",12)(44,yt,2,0,"div",12)(45,On,2,0,"div",12)(46,Gr,2,0,"div",12)(47,jn,2,0,"div",12)(48,Yr,2,0,"div",12),n.nrm(49,"div",13),n.k0s(),n.j41(50,"div",14)(51,"label",15),n.EFF(52,"Map Description"),n.k0s(),n.j41(53,"textarea",16),n.mxI("ngModelChange",function(S){return n.DH7(h.selectedMap.description,S)||(h.selectedMap.description=S),S}),n.EFF(54,"    "),n.k0s()(),n.j41(55,"div",17)(56,"button",18),n.bIt("click",function(){return h.saveAsImage()}),n.EFF(57," Save Map Image "),n.k0s(),n.j41(58,"button",18),n.bIt("click",function(){return h.saveToLocalStorage()}),n.EFF(59," Save Map To Browser "),n.k0s()()()),2&m&&(n.R7$(),n.Y8G("title","Uprising Map Builder"),n.R7$(),n.Y8G("message","Your map has been saved."),n.R7$(35),n.Y8G("ngClass",n.ziG(15,Ht,h.selectedMap.mapSize===h.UprisingMapSize.Small,h.selectedMap.mapSize===h.UprisingMapSize.Medium,h.selectedMap.mapSize===h.UprisingMapSize.Large,h.selectedMap.mapSize===h.UprisingMapSize.Huge)),n.R7$(),n.Y8G("ngForOf",h.mapTiles),n.R7$(),n.Y8G("ngForOf",h.mapCapitols),n.R7$(),n.Y8G("ngForOf",h.mapMountains),n.R7$(),n.Y8G("ngForOf",h.mapWaterRegions),n.R7$(),n.Y8G("ngForOf",h.mapFlagsGreen),n.R7$(),n.Y8G("ngForOf",h.mapFlagsYellow),n.R7$(),n.Y8G("ngForOf",h.mapFlagsOrange),n.R7$(),n.Y8G("ngForOf",h.mapFlagsRed),n.R7$(),n.Y8G("ngForOf",h.mapPortalsBlue),n.R7$(),n.Y8G("ngForOf",h.mapPortalsPurple),n.R7$(),n.Y8G("ngForOf",h.mapPortalsTeal),n.R7$(5),n.R50("ngModel",h.selectedMap.description))},dependencies:[K.YU,K.Sq,Z.me,Z.BC,Z.vS,fe.L,ar.d],styles:[".btn-sm[_ngcontent-%COMP%]{height:31px}.map-tile[_ngcontent-%COMP%]{width:25%;min-height:6.5em;margin:1rem 0 0 1rem;background-color:#29e;color:#fff;border-radius:.75em;padding:4%;z-index:1}.z1[_ngcontent-%COMP%]{z-index:1}.z2[_ngcontent-%COMP%]{z-index:2}.pointer[_ngcontent-%COMP%]{cursor:pointer}.draw-zone[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;border-style:solid;border-width:2px}.map-small[_ngcontent-%COMP%]{height:400px;width:700px}.map-medium[_ngcontent-%COMP%]{height:600px;width:950px}.map-large[_ngcontent-%COMP%]{height:800px;width:1200px}.map-huge[_ngcontent-%COMP%]{height:1000px;width:1450px}.dropzone[_ngcontent-%COMP%]{background-color:#bfe4ff;border:dashed 4px transparent;border-radius:4px;margin:10px auto 30px;padding:10px;width:80%;transition:background-color .3s}.drop-active[_ngcontent-%COMP%]{border-color:#aaa}.drop-target[_ngcontent-%COMP%]{background-color:#29e;border-color:#af1a1a;border-style:solid}.drag-drop[_ngcontent-%COMP%]{touch-action:none;transform:translate(0);transition:background-color .3s}"]})}}return a})();var D=function(a){return a.PointControl="Point Control",a.CaptureTheFlag="Capture The Flag",a.Survival="Survival",a.Conquest="Conquest",a.Slayer="Slayer",a.Custom="Custom",a}(D||{}),M=function(a){return a.TwoPlayerStandard="Two Player Standard",a.DivideAndConquer="Divide And Conquer",a.BridgeTooNear2Player="Bridge Too Near 2 Player",a.FortressDefense="Fortress Defense",a.Star="Star",a.Honeycomb="Honeycomb",a.Pyramid="Pyramid",a.FourPlayerStandard="Four Player Standard",a.MarchingOrders="Marching Orders",a.BridgeTooNear="Bridge Too Near 4 Player",a.Colosseum="Colosseum",a.CloseQuarters="Close Quarters",a.HourGlass="Hour Glass",a.BreathingRoom="Breathing Room",a.TheFly="The Fly",a.GreatSacrifice="Great Sacrifice",a.TheWildHunt="The Wild Hunt",a.TheWildHuntv2="The Wild Hunt Version 2",a.TheWildHuntv3="The Wild Hunt Version 3",a.CaptureTheFlag="Capture The Flag",a}(M||{});const Ye=new Map([[M.FourPlayerStandard,{mapName:M.FourPlayerStandard,image:"../../../assets/uprising_maps_v2/Standard_4Player_v1_Tavern.jpg",description:"The recomended map for starting players. This map gives a balanced experience for the majority of factions.",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.MarchingOrders,{mapName:M.MarchingOrders,image:"../../../assets/uprising_maps_v2/MarchingOrders_4Player_v1_Tavern.jpg",description:".",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.BridgeTooNear,{mapName:M.BridgeTooNear,image:"../../../assets/uprising_maps_v2/BridgeTooNear_4Player_v1_Tavern.jpg",description:".",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.Colosseum,{mapName:M.Colosseum,image:"../../../assets/uprising_maps_v2/Colosseum_4Player_v1_Tavern.jpg",description:"A 2vs2 map placing teammates close to one another but also enemies within striking distance of your capitol.",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.CloseQuarters,{mapName:M.CloseQuarters,image:"../../../assets/uprising_maps_v2/CloseQuarters_4Player_v1_Tavern.jpg",description:"A 2vs2 map placing teammates close to one another but also enemies within striking distance of your capitol.",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.HourGlass,{mapName:M.HourGlass,image:"../../../assets/uprising_maps_v2/HourGlass_4Player_v1_Tavern.jpg",description:"This map features a seperate island that is only accessable through use of a portal. Control of this island is vital in order to obtain enough points to win, but be carful not to spread your forces too thin.",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.BreathingRoom,{mapName:M.BreathingRoom,image:"../../../assets/uprising_maps_v2/BreathingRoom_4Player_v1_Tavern.jpg",description:"This map is sure to see fast and early combat as each player is only a move or two away from each other. Player capitols are moved to the interior of the map with a central flag to fight for control of while other objectives are located around the maps perimeter.",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.TheFly,{mapName:M.TheFly,image:"../../../assets/uprising_maps_v2/TheFly_4Player_v1_Tavern.jpg",description:"This map is sure to see fast and early combat as each player is only a move or two away from each other. Player capitols are moved to the interior of the map with a central flag to fight for control of while other objectives are located around the maps perimeter.",numberOfPlayers:4,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.GreatSacrifice,{mapName:M.GreatSacrifice,image:"../../../assets/uprising_maps_v2/GreatSacrifice_4Player_v1_Tavern.jpg",description:"Points on this map are not earned by controling flags, but by sacrificing units on specific points on the map.",numberOfPlayers:4,specialRules:["To earn a point on this map, you must destroy a unit you control that is in the same region as one of the green flags at the start of your turn","You do not need to control the region of the green flag to destroy a unit you control in that region."],objective:D.Custom}],[M.TheWildHunt,{mapName:M.TheWildHunt,image:"../../../assets/uprising_maps_v2/TheWildHunt_4Player_v1_Tavern.jpg",description:"Points on this map are scored by destroying a beast that spawns at a random location. Each time it is destroyed it comes back stronger.",specialRules:["For this game mode, points are scored by destroying a Wild Beast, that spawns at a random location on the map.","At the start of the game roll a six sided die. Add the wild beast (using any token) to the green flag matching the number that was rolled.","The beast attacks and defends with a green die. Any time the beast is attacked, it will perform an attack regardless if it is destroyed in the attack or not.","When the beast attacks, it attacks the units attacking it, not a specific region or army.","Each time the beast is destroyed it will spawn again using the same method used to place it at the start of the game.","Keep track of the number of times the beast is destroyed. Each time the beast is destroyed it gains an additional green attack and defense die to a maximum of 4 green dice."],numberOfPlayers:4,objective:D.Custom}],[M.TheWildHuntv2,{mapName:M.TheWildHuntv2,image:"../../../assets/uprising_maps_v2/TheWildHunt_4Player_v2_Tavern.jpg",description:"Points on this map are scored by destroying a beast that spawns at a random location. Each time it is destroyed it comes back stronger.",specialRules:["For this game mode, points are scored by destroying a Wild Beast, that spawns at a random location on the map.","At the start of the game roll a six sided die. Add the wild beast (using any token) to the green flag matching the number that was rolled.","The beast attacks and defends with a green die. Any time the beast is attacked, it will perform an attack regardless if it is destroyed in the attack or not.","When the beast attacks, it attacks the units attacking it, not a specific region or army.","Each time the beast is destroyed it will spawn again using the same method used to place it at the start of the game.","Keep track of the number of times the beast is destroyed. Each time the beast is destroyed it gains an additional green attack and defense die to a maximum of 4 green dice."],numberOfPlayers:4,objective:D.Custom}],[M.TheWildHuntv3,{mapName:M.TheWildHuntv3,image:"../../../assets/uprising_maps_v2/TheWildHunt_4Player_v3_Tavern.jpg",description:"Points on this map are scored by destroying a beast that spawns at a random location. Each time it is destroyed it comes back stronger.",specialRules:["For this game mode, points are scored by destroying a Wild Beast, that spawns at a random location on the map.","At the start of the game roll a six sided die. Add the wild beast (using any token) to the green flag matching the number that was rolled.","The beast attacks and defends with a green die. Any time the beast is attacked, it will perform an attack regardless if it is destroyed in the attack or not.","When the beast attacks, it attacks the units attacking it, not a specific region or army.","Each time the beast is destroyed it will spawn again using the same method used to place it at the start of the game.","Keep track of the number of times the beast is destroyed. Each time the beast is destroyed it gains an additional green attack and defense die to a maximum of 4 green dice."],numberOfPlayers:4,objective:D.Custom}],[M.CaptureTheFlag,{mapName:M.CaptureTheFlag,image:"../../../assets/uprising_maps_v2/Capture_the_Flag_4Player_v1_Tavern.jpg",description:"Points on this map are scored by capturing a flag and returning it to your capital.",specialRules:["This game mode is played 2vs2 with one team being the green team and one team being the red team. Each player places their capitol according to their teams color using the setup map.","Only red flags may be captured by the red team and green flags by the green team.","To capture a flag you must have a unit in the same region of the flag. At any point on your turn, you may place the flag on a unit you control of your choice to capture it. This is the flag carrier.","The flag will move with the flag carrier during move actions.","If the flag carrier is destroyed, the owner of that unit may choose a unit in the same region as the destroyed unit to be the new flag carrier.","If the flag carrier is destroyed and no new flag carrier is/can be chosen, the flag will remain in the region of the destroyed unit.","If a flag is not in one of the marked starting positions and is not being carried, units of the opposite team may send that flag back to any one of the starting flag positions that does not currently have a flag present.","Flag carriers can not be moved by spells.","Flag carriers have -1 movement.","Flag carries may not use portals for movement","1 Point is gained if a team is able to capture a flag and move that flag to any capitol of that team. The flag is then returned to any one of the starting flag positions that does not have a flag present."],numberOfPlayers:4,objective:D.Custom}],[M.FortressDefense,{mapName:M.FortressDefense,image:"../../../assets/uprising_maps_v2/Fortress_3Player_v1_Tavern.jpg",description:"A player surrounded by opposing forces must survive a multi-round siege.",specialRules:["The player with green colored buildings in the map image is the defending player, the other two capitols are the attacking players.","The portals adjacent to the defending player's capitol can only be used by the defending player.","The defending player may take 3 actions per turn instead of two.","The game is won by the attackers if they are successful in destroying the defending player's capitol by the end of the 4th round.","If the defending player destroys a capitol of an attacking player, that player is removed from the game. The player removes any pieces they have from the board and may no longer take any turns."],numberOfPlayers:3,objective:D.Survival,variants:[D.Conquest,D.Slayer]}],[M.Star,{mapName:M.Star,image:"../../../assets/uprising_maps_v2/Star_3Player_v1_Tavern.jpg",description:"A star shaped may for a free-for-all 3 player match.",numberOfPlayers:3,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.Honeycomb,{mapName:M.Honeycomb,image:"../../../assets/uprising_maps_v2/Honeycomb_3Player_v1_Tavern.jpg",description:"",numberOfPlayers:3,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.Pyramid,{mapName:M.Pyramid,image:"../../../assets/uprising_maps_v2/Pyramid_3Player_v1_Tavern.jpg",description:"",numberOfPlayers:3,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.TwoPlayerStandard,{mapName:M.TwoPlayerStandard,image:"../../../assets/uprising_maps_v2/Standard_2Player_v1_Tavern.jpg",description:"Standard map for 1vs1 match.",numberOfPlayers:2,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.DivideAndConquer,{mapName:M.DivideAndConquer,image:"../../../assets/uprising_maps_v2/DivideAndConquer_2Player_v1_Tavern.jpg",description:"A 1vs1 map with more space and additional points to control. Spreading out to control and hold multiple points will be key to victory on this map.",numberOfPlayers:2,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}],[M.BridgeTooNear2Player,{mapName:M.BridgeTooNear2Player,image:"../../../assets/uprising_maps_v2/BridgeTooNear_2Player_v1_Tavern.jpg",description:"A 1vs1 map with more space and additional points to control. Spreading out to control and hold multiple points will be key to victory on this map.",numberOfPlayers:2,objective:D.PointControl,variants:[D.Conquest,D.Slayer]}]]);function bt(a,d){if(1&a&&(n.j41(0,"li",11),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.R7$(),n.JRh(p)}}function lr(a,d){if(1&a&&(n.qex(0),n.j41(1,"b"),n.EFF(2,"Special Rules: "),n.k0s(),n.j41(3,"ul",9),n.DNE(4,bt,2,1,"li",10),n.k0s(),n.bVm()),2&a){const p=n.XpG();n.R7$(4),n.Y8G("ngForOf",null==p.uprisingMap?null:p.uprisingMap.specialRules)}}function Lr(a,d){if(1&a&&(n.j41(0,"li",11),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.R7$(),n.JRh(p)}}function _t(a,d){if(1&a&&(n.qex(0),n.j41(1,"b"),n.EFF(2,"Variants"),n.k0s(),n.j41(3,"ul",9),n.DNE(4,Lr,2,1,"li",10),n.k0s(),n.bVm()),2&a){const p=n.XpG();n.R7$(4),n.Y8G("ngForOf",null==p.uprisingMap?null:p.uprisingMap.variants)}}let Hr=(()=>{class a{constructor(p){this.route=p,this.id=""}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.uprisingMap=Ye.get(this.id?this.id:M.FourPlayerStandard),console.log("map name",this.id),console.log("map",this.uprisingMap)}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(ye.nX))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-map-details"]],decls:24,vars:8,consts:[[1,"container"],[3,"title"],[1,"row"],[1,"col-xl"],["height","300px","width","550px",1,"img-fluid",3,"src"],[1,"col-xl","d-flex","flex-column"],["target","_blank",1,"mb-3",3,"href"],[1,"bi","ms-1","bi-box-arrow-up-right"],[4,"ngIf"],[1,"list-group"],["class","ms-4",4,"ngFor","ngForOf"],[1,"ms-4"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"div",2)(3,"div",3),n.nrm(4,"img",4),n.k0s(),n.j41(5,"div",5)(6,"p")(7,"b"),n.EFF(8,"Game Mode: "),n.k0s(),n.EFF(9),n.k0s(),n.j41(10,"p")(11,"b"),n.EFF(12,"Number of Players: "),n.k0s(),n.EFF(13),n.k0s(),n.j41(14,"p")(15,"b"),n.EFF(16,"Description: "),n.k0s(),n.EFF(17),n.k0s(),n.j41(18,"a",6)(19,"b"),n.EFF(20,"Map Details"),n.k0s(),n.nrm(21,"i",7),n.k0s(),n.DNE(22,lr,5,1,"ng-container",8)(23,_t,5,1,"ng-container",8),n.k0s()()()),2&m&&(n.R7$(),n.Y8G("title",(null==h.uprisingMap?null:h.uprisingMap.mapName)+" Details"),n.R7$(3),n.Y8G("src",null==h.uprisingMap?null:h.uprisingMap.image,n.B4B),n.R7$(5),n.SpI("",null==h.uprisingMap?null:h.uprisingMap.objective," "),n.R7$(4),n.SpI("",null==h.uprisingMap?null:h.uprisingMap.numberOfPlayers," "),n.R7$(4),n.SpI("",null==h.uprisingMap?null:h.uprisingMap.description," "),n.R7$(),n.Y8G("href",null==h.uprisingMap?null:h.uprisingMap.image,n.B4B),n.R7$(4),n.Y8G("ngIf",null==h.uprisingMap?null:h.uprisingMap.specialRules),n.R7$(),n.Y8G("ngIf",null==h.uprisingMap?null:h.uprisingMap.variants))},dependencies:[K.Sq,K.bT,fe.L]})}}return a})();const Ze=a=>({"rotate-clockwise":a}),et=a=>["/uprising/map-details",a];function ce(a,d){if(1&a&&(n.j41(0,"a",12),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("routerLink",n.eq3(2,et,p.mapName)),n.R7$(),n.JRh(p.mapName)}}function Wr(a,d){if(1&a&&(n.j41(0,"a",12),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("routerLink",n.eq3(2,et,p.mapName)),n.R7$(),n.JRh(p.mapName)}}function J(a,d){if(1&a&&(n.j41(0,"a",12),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("routerLink",n.eq3(2,et,p.mapName)),n.R7$(),n.JRh(p.mapName)}}let Ur=(()=>{class a{constructor(){this.UprisingMapName=M,this.showTwoPlayerMaps=!1,this.showThreePlayerMaps=!1,this.showFourPlayerMaps=!1,this.showFivePlayerMaps=!1,this.twoPlayerMaps=Array.from(Ye.values()).filter(p=>2===p.numberOfPlayers),this.threePlayerMaps=Array.from(Ye.values()).filter(p=>3===p.numberOfPlayers),this.fourPlayerMaps=Array.from(Ye.values()).filter(p=>4===p.numberOfPlayers),this.fivePlayerMaps=Array.from(Ye.values()).filter(p=>5===p.numberOfPlayers)}static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-maps-and-play-instructions"]],decls:23,vars:13,consts:[[1,"container"],[3,"title"],["data-bs-toggle","collapse","data-bs-target","#twoPlayerMapsColapse",1,"d-flex","align-items-center",3,"click"],[1,"mb-0","fs-5",2,"width","auto"],[1,"bi","ms-3","bi-chevron-down","med-icon","rotate-transition",3,"ngClass"],["id","twoPlayerMapsColapse",1,"collapse"],[1,"d-flex","flex-column"],[3,"routerLink",4,"ngFor","ngForOf"],["data-bs-toggle","collapse","data-bs-target","#threePlayerMapsColapse",1,"d-flex","align-items-center",3,"click"],["id","threePlayerMapsColapse",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#fourPlayerMapsColapse",1,"d-flex","align-items-center",3,"click"],["id","fourPlayerMapsColapse",1,"collapse"],[3,"routerLink"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"div",2),n.bIt("click",function(){return h.showTwoPlayerMaps=!h.showTwoPlayerMaps}),n.j41(3,"legend",3),n.EFF(4,"Two Player Maps:"),n.k0s(),n.nrm(5,"i",4),n.k0s(),n.j41(6,"div",5)(7,"div",6),n.DNE(8,ce,2,4,"a",7),n.k0s()(),n.j41(9,"div",8),n.bIt("click",function(){return h.showThreePlayerMaps=!h.showThreePlayerMaps}),n.j41(10,"legend",3),n.EFF(11,"Three Player Maps:"),n.k0s(),n.nrm(12,"i",4),n.k0s(),n.j41(13,"div",9)(14,"div",6),n.DNE(15,Wr,2,4,"a",7),n.k0s()(),n.j41(16,"div",10),n.bIt("click",function(){return h.showFourPlayerMaps=!h.showFourPlayerMaps}),n.j41(17,"legend",3),n.EFF(18,"Four Player Maps:"),n.k0s(),n.nrm(19,"i",4),n.k0s(),n.j41(20,"div",11)(21,"div",6),n.DNE(22,J,2,4,"a",7),n.k0s()()()),2&m&&(n.R7$(),n.Y8G("title","Maps and Play Instructions"),n.R7$(4),n.Y8G("ngClass",n.eq3(7,Ze,h.showTwoPlayerMaps)),n.R7$(3),n.Y8G("ngForOf",h.twoPlayerMaps),n.R7$(4),n.Y8G("ngClass",n.eq3(9,Ze,h.showThreePlayerMaps)),n.R7$(3),n.Y8G("ngForOf",h.threePlayerMaps),n.R7$(4),n.Y8G("ngClass",n.eq3(11,Ze,h.showFourPlayerMaps)),n.R7$(3),n.Y8G("ngForOf",h.fourPlayerMaps))},dependencies:[K.YU,K.Sq,ye.Wk,fe.L]})}}return a})();var Rn=B(6651),cr=B(9493),Ee=B(2617),Dn=B(9433);function ur(a,d){if(1&a&&(n.j41(0,"span",21),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.R7$(),n.JRh(p)}}function In(a,d){if(1&a&&(n.j41(0,"span",21),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.R7$(),n.JRh(p)}}function Vr(a,d){if(1&a&&(n.j41(0,"span",21),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.R7$(),n.JRh(p)}}function An(a,d){if(1&a&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("@simpleFadeAnimation","in"),n.R7$(),n.SpI(" ",p," ")}}function qr(a,d){if(1&a&&(n.qex(0),n.j41(1,"p",5),n.EFF(2,"Randomly Selected Mercenaries:"),n.k0s(),n.j41(3,"ul"),n.DNE(4,An,2,2,"li",22),n.k0s(),n.bVm()),2&a){const p=n.XpG();n.R7$(4),n.Y8G("ngForOf",p.generatedMercenaries)}}let Xr=(()=>{class a{constructor(p){this.randomService=p,this.numberOfPlayers=4,this.useMercPack1=!0,this.useMercPack2=!1,this.useMercPack3=!1,this.packOneMercenaries=["Barbarian","Archmage","Werewolf","Burrowing Wurm","Cannon Tower","Guardian","Harpy","Merfolk","Necromancer","Thief","Wind Elemental"],this.packTwoMercenaries=["Cannoneer","Assassin","Centaur","Priest","Faerie","Kraken","Micon Warrior","Minotaur","Hill Troll","Witch"],this.packThreeMercenaries=["Air Ship","Acidic Slime","Balista","Bannerman","Beast Hunter","Cockatrice","Druid","Goblin Demolition Team","Ranger","Treant"],this.generatedMercenaries=new Array}ngOnInit(){}generateMercenaries(){this.generatedMercenaries=new Array;let p=this.buildAvailableMercenaries();(0,Rn.O)(0,300).pipe((0,cr.s)(this.numberOfPlayers)).subscribe(()=>{let h=this.randomService.getRandomEntryFromArray(p);console.log("adding ",h),this.generatedMercenaries.push(h),this.randomService.deleteFromArray(p,h)})}buildAvailableMercenaries(){let p=new Array;return this.useMercPack1&&(p=p.concat(...this.packOneMercenaries)),this.useMercPack2&&(p=p.concat(...this.packTwoMercenaries)),this.useMercPack3&&(p=p.concat(...this.packThreeMercenaries)),p}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(Dn.v))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-mercenary-picker"]],decls:51,vars:13,consts:[[1,"container"],[3,"title"],["for","playerNumberSelect",1,"h6"],["id","playerNumberSelect","aria-label","Select number of Players",1,"form-select","mb-3",2,"max-width","400px",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"mb-0","mt-4","h6"],[1,"form-check"],["type","checkbox","id","humansCheckbox","checked","",1,"form-check-input",3,"change","checked"],["for","flexCheckChecked",1,"form-check-label"],["data-bs-toggle","collapse","data-bs-target","#pack1Units","aria-expanded","false","aria-controls","pack1Units",1,"bi","m-3","bi-question-circle-fill"],["id","pack1Units",1,"collapse"],[1,"card","card-body"],["class","comma-list",4,"ngFor","ngForOf"],["type","checkbox","id","mercPack2Checkbox",1,"form-check-input",3,"change","checked"],["data-bs-toggle","collapse","data-bs-target","#pack2Units","aria-expanded","false","aria-controls","pack2Units",1,"bi","m-3","bi-question-circle-fill"],["id","pack2Units",1,"collapse"],["type","checkbox","id","mercPack3Checkbox",1,"form-check-input",3,"change","checked"],["data-bs-toggle","collapse","data-bs-target","#pack3Units","aria-expanded","false","aria-controls","pack3Units",1,"bi","m-3","bi-question-circle-fill"],["id","pack3Units",1,"collapse"],[1,"btn","btn-primary","mt-4",3,"click"],[4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"label",2),n.EFF(3,"Number of Players:"),n.k0s(),n.j41(4,"select",3),n.mxI("ngModelChange",function(S){return n.DH7(h.numberOfPlayers,S)||(h.numberOfPlayers=S),S}),n.j41(5,"option",4),n.EFF(6,"One"),n.k0s(),n.j41(7,"option",4),n.EFF(8,"Two"),n.k0s(),n.j41(9,"option",4),n.EFF(10,"Three"),n.k0s(),n.j41(11,"option",4),n.EFF(12,"Four"),n.k0s()(),n.j41(13,"p",5),n.EFF(14,"Mercenaries to Include:"),n.k0s(),n.j41(15,"div",6)(16,"input",7),n.bIt("change",function(){return h.useMercPack1=!h.useMercPack1}),n.k0s(),n.j41(17,"label",8),n.EFF(18," Mercenary Pack 1 "),n.k0s(),n.nrm(19,"i",9),n.k0s(),n.j41(20,"div",10)(21,"div",11)(22,"div"),n.EFF(23," This pack contains the units "),n.DNE(24,ur,2,1,"span",12),n.EFF(25," . "),n.k0s()()(),n.j41(26,"div",6)(27,"input",13),n.bIt("change",function(){return h.useMercPack2=!h.useMercPack2}),n.k0s(),n.j41(28,"label",8),n.EFF(29," Mercenary Pack 2 "),n.k0s(),n.nrm(30,"i",14),n.k0s(),n.j41(31,"div",15)(32,"div",11)(33,"div"),n.EFF(34," This pack contains the units "),n.DNE(35,In,2,1,"span",12),n.EFF(36," . "),n.k0s()()(),n.j41(37,"div",6)(38,"input",16),n.bIt("change",function(){return h.useMercPack3=!h.useMercPack3}),n.k0s(),n.j41(39,"label",8),n.EFF(40," Mercenary Pack 3 "),n.k0s(),n.nrm(41,"i",17),n.k0s(),n.j41(42,"div",18)(43,"div",11)(44,"div"),n.EFF(45," This pack contains the units "),n.DNE(46,Vr,2,1,"span",12),n.EFF(47," . "),n.k0s()()(),n.j41(48,"button",19),n.bIt("click",function(){return h.generateMercenaries()}),n.EFF(49,"Generate Mercenaries"),n.k0s(),n.DNE(50,qr,5,1,"ng-container",20),n.k0s()),2&m&&(n.R7$(),n.Y8G("title","Uprising Mercenary Picker"),n.R7$(3),n.R50("ngModel",h.numberOfPlayers),n.R7$(),n.Y8G("ngValue",1),n.R7$(2),n.Y8G("ngValue",2),n.R7$(2),n.Y8G("ngValue",3),n.R7$(2),n.Y8G("ngValue",4),n.R7$(5),n.Y8G("checked",h.useMercPack1),n.R7$(8),n.Y8G("ngForOf",h.packOneMercenaries),n.R7$(3),n.Y8G("checked",h.useMercPack2),n.R7$(8),n.Y8G("ngForOf",h.packTwoMercenaries),n.R7$(3),n.Y8G("checked",h.useMercPack3),n.R7$(8),n.Y8G("ngForOf",h.packThreeMercenaries),n.R7$(4),n.Y8G("ngIf",h.generatedMercenaries.length>0))},dependencies:[K.Sq,K.bT,Z.xH,Z.y7,Z.wz,Z.BC,Z.vS,fe.L],styles:['.comma-list[_ngcontent-%COMP%]:last-child:before{content:" and "}.comma-list[_ngcontent-%COMP%]:nth-of-type(n+2):not(:last-child):before{content:", "}'],data:{animation:[Ee.K]}})}}return a})();function Le(a,d){if(1&a&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("@simpleFadeAnimation","in"),n.R7$(),n.SpI(" ",p," ")}}function Kr(a,d){if(1&a&&(n.qex(0),n.j41(1,"p",2),n.EFF(2,"Randomly Selected Map Tiles:"),n.k0s(),n.j41(3,"ul"),n.DNE(4,Le,2,2,"li",8),n.k0s(),n.bVm()),2&a){const p=n.XpG();n.R7$(4),n.Y8G("ngForOf",p.generatedTiles)}}let te=(()=>{class a{constructor(p){this.randomService=p,this.useExpansionTiles=!1,this.generatedTiles=new Array,this.standardTiles=new Array("A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12"),this.expansionTiles=new Array("E1","E2","E3","E4")}ngOnInit(){}generateMapTiles(){this.generatedTiles=new Array;let p=new Array(...this.standardTiles);this.useExpansionTiles&&(p=p.concat(...this.expansionTiles)),(0,Rn.O)(0,200).pipe((0,cr.s)(12)).subscribe(()=>{let h=this.randomService.getRandomEntryFromArray(p);console.log("adding ",h),this.generatedTiles.push(h),this.randomService.deleteFromArray(p,h)})}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(Dn.v))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-tile-randomizer"]],decls:15,vars:3,consts:[[1,"container"],[3,"title"],[1,"mb-0","mt-4","h6"],[1,"form-check"],["type","checkbox","id","humansCheckbox",1,"form-check-input",3,"change","checked"],["for","flexCheckChecked",1,"form-check-label"],[1,"btn","btn-primary","mt-4",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"h2"),n.EFF(3,"How to use:"),n.k0s(),n.j41(4,"p"),n.EFF(5,"After generating the random order of Map tiles to use by clicking 'Generate Map Tiles' below, we recomend you build the map for your selected game mode from top to bottom and from left to right in the order of the map tiles displayed. "),n.k0s(),n.j41(6,"p",2),n.EFF(7,"Map Tiles to Include:"),n.k0s(),n.j41(8,"div",3)(9,"input",4),n.bIt("change",function(){return h.useExpansionTiles=!h.useExpansionTiles}),n.k0s(),n.j41(10,"label",5),n.EFF(11," Use Expansion Tiles (E1, E2, E3, E4) "),n.k0s()(),n.j41(12,"button",6),n.bIt("click",function(){return h.generateMapTiles()}),n.EFF(13,"Generate Map Tiles"),n.k0s(),n.DNE(14,Kr,5,1,"ng-container",7),n.k0s()),2&m&&(n.R7$(),n.Y8G("title","Map Tile Randomizer"),n.R7$(8),n.Y8G("checked",h.useExpansionTiles),n.R7$(5),n.Y8G("ngIf",h.generatedTiles.length>0))},dependencies:[K.Sq,K.bT,fe.L],data:{animation:[Ee.K]}})}}return a})(),pr=(()=>{class a{constructor(){}ngOnInit(){}static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-unit-reference-cards"]],decls:22,vars:1,consts:[[1,"container"],[3,"title"],[1,"d-flex","flex-column"],["href","../../../assets/reference_cards/Unit Reference Card v3.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v4.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v5.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v6.jpg","target","_blank"],["href","../../../assets/reference_cards/Unit Reference Card v8.jpg","target","_blank"],["href","../../../assets/reference_cards/Effect Tokens Reference Card v1.jpg","target","_blank"],["href","../../../assets/reference_cards/Effect Tokens Reference Card v2.jpg","target","_blank"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"h2"),n.EFF(3,"Unit Reference Cards"),n.k0s(),n.j41(4,"div",2)(5,"a",3),n.EFF(6,"Version 3"),n.k0s(),n.j41(7,"a",4),n.EFF(8,"Version 4"),n.k0s(),n.j41(9,"a",5),n.EFF(10,"Version 5"),n.k0s(),n.j41(11,"a",6),n.EFF(12,"Version 6 - Latest"),n.k0s(),n.j41(13,"a",7),n.EFF(14,"Version 8 - Beta Test"),n.k0s()(),n.j41(15,"h2"),n.EFF(16,"Effect Token Reference Cards"),n.k0s(),n.j41(17,"div",2)(18,"a",8),n.EFF(19,"Version 1"),n.k0s(),n.j41(20,"a",9),n.EFF(21,"Version 2 - Latest"),n.k0s()()()),2&m&&(n.R7$(),n.Y8G("title","Reference Cards"))},dependencies:[fe.L]})}}return a})(),Ut=(()=>{class a{static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-uprising-factions"]],decls:23,vars:1,consts:[[1,"container"],[3,"title"],[1,"d-flex","flex-column"],["href","../../../assets/uprising_factions/Abominations.jpg","target","_blank"],["href","../../../assets/uprising_factions/Dragonborn.jpg","target","_blank"],["href","../../../assets/uprising_factions/Drow.jpg","target","_blank"],["href","../../../assets/uprising_factions/Gnomes.jpg","target","_blank"],["href","../../../assets/uprising_factions/HighElves.jpg","target","_blank"],["href","../../../assets/uprising_factions/MountainDwarves.jpg","target","_blank"],["href","../../../assets/uprising_factions/Orcs.jpg","target","_blank"],["href","../../../assets/uprising_factions/OrderOfTheMoon.jpg","target","_blank"],["href","../../../assets/uprising_factions/Templar.jpg","target","_blank"],["href","../../../assets/uprising_factions/Merfolk.jpg","target","_blank"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"div",2)(3,"a",3),n.EFF(4,"Abominations"),n.k0s(),n.j41(5,"a",4),n.EFF(6,"Dragonborn"),n.k0s(),n.j41(7,"a",5),n.EFF(8,"Drow"),n.k0s(),n.j41(9,"a",6),n.EFF(10,"Gnomes"),n.k0s(),n.j41(11,"a",7),n.EFF(12,"High Elves"),n.k0s(),n.j41(13,"a",8),n.EFF(14,"Mountain Dwarves"),n.k0s(),n.j41(15,"a",9),n.EFF(16,"Orcs"),n.k0s(),n.j41(17,"a",10),n.EFF(18,"Order Of The Moon"),n.k0s(),n.j41(19,"a",11),n.EFF(20,"Templar"),n.k0s(),n.j41(21,"a",12),n.EFF(22,"Merfolk"),n.k0s()()()),2&m&&(n.R7$(),n.Y8G("title","Faction Boards"))},dependencies:[fe.L]})}}return a})(),Jr=(()=>{class a{constructor(p){this.router=p}ngOnInit(){}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(ye.Ix))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-uprising-home"]],decls:51,vars:1,consts:[[1,"container"],[3,"title"],[1,"d-flex","align-items-center","justify-content-between","nav-help"],[1,"btn","btn-primary","btn-lg","my-3",3,"click"],["data-bs-toggle","collapse","data-bs-target","#draftCollapse","aria-expanded","false","aria-controls","draftCollapse",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","draftCollapse",1,"collapse"],[1,"card","card-body"],["data-bs-toggle","collapse","data-bs-target","#mercenariesCollapse","aria-expanded","false","aria-controls","draftCollapse",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","mercenariesCollapse",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#tileRandomizerCollapse","aria-expanded","false","aria-controls","tileRandomizerCollapse",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","tileRandomizerCollapse",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#referenceCards","aria-expanded","false","aria-controls","referenceCards",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","referenceCards",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#factionBoards","aria-expanded","false","aria-controls","factionBoards",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","factionBoards",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#mapBuilder","aria-expanded","false","aria-controls","mapBuilder",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","mapBuilder",1,"collapse"],["data-bs-toggle","collapse","data-bs-target","#spellCards","aria-expanded","false","aria-controls","spellCards",1,"bi","m-3","bi-question-circle-fill",2,"font-size","2.4rem"],["id","spellCards",1,"collapse"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"div",2)(3,"button",3),n.bIt("click",function(){return h.router.navigate(["uprising/maps"])}),n.EFF(4," Game Modes and Setup Instructions "),n.k0s(),n.nrm(5,"i",4),n.k0s(),n.j41(6,"div",5)(7,"div",6),n.EFF(8," This tool has links to a variety of maps and play options for quick reference. "),n.k0s()(),n.j41(9,"div",2)(10,"button",3),n.bIt("click",function(){return h.router.navigate(["uprising/mercenary-picker"])}),n.EFF(11," Pick Random Mercenaries "),n.k0s(),n.nrm(12,"i",7),n.k0s(),n.j41(13,"div",8)(14,"div",6),n.EFF(15," This tool will allow you to randomly select a group of mercenaries dependening on your player count. "),n.k0s()(),n.j41(16,"div",2)(17,"button",3),n.bIt("click",function(){return h.router.navigate(["uprising/tile-randomizer"])}),n.EFF(18," Map Tile Randomizer "),n.k0s(),n.nrm(19,"i",9),n.k0s(),n.j41(20,"div",10)(21,"div",6),n.EFF(22," Shuffling large map tiles can be difficult. Use this tool to quickly randomize the order of the map tiles. "),n.k0s()(),n.j41(23,"div",2)(24,"button",3),n.bIt("click",function(){return h.router.navigate(["uprising/reference-cards"])}),n.EFF(25," Unit and Effect Token Reference Cards "),n.k0s(),n.nrm(26,"i",11),n.k0s(),n.j41(27,"div",12)(28,"div",6),n.EFF(29," Access to current and past versions of the unit and effect token reference cards. "),n.k0s()(),n.j41(30,"div",2)(31,"button",3),n.bIt("click",function(){return h.router.navigate(["uprising/factions"])}),n.EFF(32," Faction Boards "),n.k0s(),n.nrm(33,"i",13),n.k0s(),n.j41(34,"div",14)(35,"div",6),n.EFF(36," Quick reference to the latest faction boards. "),n.k0s()(),n.j41(37,"div",2)(38,"button",3),n.bIt("click",function(){return h.router.navigate(["uprising/map-builder-options"])}),n.EFF(39," Map Builder "),n.k0s(),n.nrm(40,"i",15),n.k0s(),n.j41(41,"div",16)(42,"div",6),n.EFF(43," Build your own custom Uprising maps. "),n.k0s()(),n.j41(44,"div",2)(45,"button",3),n.bIt("click",function(){return h.router.navigate(["uprising/spell-cards"])}),n.EFF(46," Spell Cards "),n.k0s(),n.nrm(47,"i",17),n.k0s(),n.j41(48,"div",18)(49,"div",6),n.EFF(50," Read the spells of the game. "),n.k0s()()()),2&m&&(n.R7$(),n.Y8G("title","Uprising Tools"))},dependencies:[fe.L],styles:[".btn[_ngcontent-%COMP%]{width:240px}.card-body[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}}return a})();var z=function(a){return a.Strengthen="Strengthen",a.Weaken="Weaken",a.Entangle="Entangle",a.Slow="Slow",a.Haste="Haste",a.Bountiful="Bountiful",a.Plague="Plague",a.Stun="Stun",a.Confusion="Confusin",a.Poison="Poison",a.Damage="Damage",a}(z||{}),Q=function(a){return a.Hills="Hills",a.Plains="Plains",a.Forest="Forest",a.Marsh="Marsh",a.Badlands="Badlands",a.Mountains="Mountains",a.Water="Water",a.Tundra="Tundra",a}(Q||{}),k=function(a){return a.Normal="Normal",a.Instant="Instant",a.Prepared="Prepared",a}(k||{}),O=function(a){return a.Entangle="<img src='../../../assets/uprising_spell_icons/entangle.svg' name='entangle-icon' width='20px'>",a.Bountiful="<img src='../../../assets/uprising_spell_icons/bountiful.svg' name='bountiful' width='20px'>",a.Damage="<img src='../../../assets/uprising_spell_icons/damage.svg' name='damage-icon' width='20px'>",a.Mind="<img src='../../../assets/uprising_spell_icons/mind.svg' name='mind-icon' width='22px'>",a.Shock="<img src='../../../assets/uprising_spell_icons/shock.svg' name='shock-icon' width='20px'>",a.Poison="<img src='../../../assets/uprising_spell_icons/poison.svg' name='poison-icon' width='20px'>",a.SlowHaste="<img src='../../../assets/uprising_spell_icons/slow&haste.svg' name='slow-and-haste-icon' width='20px'>",a.StrengthenWeaken="<img src='../../../assets/uprising_spell_icons/strengthen&weaken.svg' name='strengthen-and-weaken-icon' width='20px'>",a}(O||{});const kt=[{name:"Entangle",spellCost:1,htmlDescription:`<p>Select two regions and place an ${O.Entangle} token on each. You may add a -${O.SlowHaste} token to a unit in one\n      of the selected regions if it is a Forest or Hills region.</p>`,effectTokens:[z.Entangle,z.Slow],regions:[Q.Forest],castType:k.Normal,destructive:!1},{name:"Counter Spell",spellCost:2,htmlDescription:"<p>Cast after an opponent casts a spell card. Cancel the effect of that spell.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Wind Gust",spellCost:2,htmlDescription:"<p>Until the end of the round, all units of target player lose flying <b>or</b> units you control in your faction's <i>favored region</i> gain flying. (Units that start a move action with flying retain flying until the end of the move action).</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Metamorphosis",spellCost:3,htmlDescription:"<p>Change up to two units you control into another basic unit. You can not change a unit into a heavy unit.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Reverse Time",spellCost:1,htmlDescription:"<p>Cast after an opponent rolls their combat dice (attack or defense). They must re-roll all of the dice previously rolled.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Flood",spellCost:1,htmlDescription:`<p>Place a water token on an unoccupied region. You may place a -${O.SlowHaste} token on a unit adjacent to this region.</p>`,effectTokens:[z.Slow],regions:[Q.Water],castType:k.Normal,destructive:!1},{name:"Levitation",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. Units the active player controls have flying until the end of the move action.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Dark Bargin",spellCost:1,htmlDescription:"<p>Destroy one unit you control. Target player destroys up to two units they control of equal or lesser gold cost.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Starfall",spellCost:3,description:"Roll a green die for each unit in target army. The owner of that army destroys one unit for each hit rolled.",htmlDescription:"<p>Roll a green die for each unit in target army. The owner of that army destroys one unit for each hit rolled.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Fireball",spellCost:4,description:"Select an army. Roll four orange dice. The owner of the army destroys one unit for each hit rolled.",htmlDescription:"<p>Select an army. Roll four orange dice. The owner of the army destroys one unit for each hit rolled.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Power Surge",spellCost:2,htmlDescription:`Choose three units you or an allie control. Add a +${O.StrengthenWeaken} and +${O.SlowHaste} token on each unit. Add a ${O.Poison} token to two of the chosen units.</p>`,effectTokens:[z.Strengthen,z.Haste,z.Poison],regions:null,castType:k.Normal,destructive:!1},{name:"Scry",spellCost:1,htmlDescription:`<p>Draw 5 spell cards. Keep up to your maximum hand size and discard the rest. Add a ${O.Mind} token to a unit.</p>`,effectTokens:[z.Confusion],regions:null,castType:k.Normal,destructive:!1},{name:"Telaport",spellCost:1,htmlDescription:"<p>Move all units in the region of your capitol to a region of your choice up to 3 regions away.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Choking Vines",spellCost:2,htmlDescription:`<p>Add a ${O.Entangle} token on up to two regions. Then, you may attack each army in a region with a ${O.Entangle} token with an yellow die.</p>`,effectTokens:[z.Entangle],regions:null,castType:k.Normal,destructive:!1},{name:"Far Sight",spellCost:1,htmlDescription:"<p>Select a basic unit type (archer, warrior, mage, etc.). Until the end of the round units you control of the chosen type gain +1 attack distance.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Magic Armor",spellCost:2,htmlDescription:"<p>Until the end of the round, you gain +2 defence each battle.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Shock Wave",spellCost:4,htmlDescription:"<p>Select four regions, adjacent to each other and in a straight line. Enemies must destroy 1 unit in each army they control in these regions.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Lightning Storm",spellCost:3,htmlDescription:"<p>Select a region. Attack each army in and adjacent to that region with an orange die.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Frost Lance",spellCost:3,htmlDescription:`<p>Attack an army with two orange dice. You may add a -${O.SlowHaste} on up to two units in the attacked army.</p>`,effectTokens:[z.Slow],regions:null,castType:k.Normal,destructive:!0},{name:"Resurrection",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. Prevent up to two units from being destroyed in this combat.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Advanced Tactics",spellCost:2,htmlDescription:"<p>Perform any one action as a free action.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Copy Spell",spellCost:3,htmlDescription:"<p>Cast after another spell is cast. You may copy that spell and cast it without paying it's mana cost. The copied version takes effect before the original spell that was cast.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Purge the Unclean",spellCost:2,htmlDescription:`<p>Add a +${O.StrengthenWeaken} token to a unit. Then you may destroy up to two units that have effect or player tokens on them.</p>`,effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Bless",spellCost:2,htmlDescription:`<p>Add a +${O.SlowHaste} token on up to two different units. You may remove up to two player and/or effect tokens from any regions, units, and buildings.</p>`,effectTokens:[z.Haste],regions:null,castType:k.Normal,destructive:!1},{name:"Known Paths",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. Each unit in the active player faction's <i>favored region</i> gains +1 movement until the end of their turn.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Lightning Reflexes",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. Choose a player in this combat to gain one 'hit' to their defense or attack dice.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Mind Control",spellCost:3,htmlDescription:"<p>Move an opponent's army to an adjacent region. If this causes the army to move into the same region as an army you control, you may perform a free attack action with only armies in that region.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Terror",spellCost:2,htmlDescription:"<p>Choose an opponent's army. The owner of that army must move it to a city or capitol they control.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Reinforcements",spellCost:1,description:"Move an army you control to a region with a city or capitol you control. This may not exceed the maximum unit limit in that region.",htmlDescription:"<p>Move an army you control to a region with a city or capitol you control. This may not exceed the maximum unit limit in that region.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Blood Lust",spellCost:3,htmlDescription:"<p>Cast at the start of a battle. Double the amount of hits from attack rolls.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Shield Wall",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. Gain 2 Yellow defense dice.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Bountiful Harvest",spellCost:2,htmlDescription:`<p>Place a +${O.Bountiful} token on up to three different buildings you control.</p>`,effectTokens:[z.Bountiful],regions:null,castType:k.Normal,destructive:!1},{name:"Swords to Plowshares",spellCost:2,htmlDescription:`<p>Destroy up to two units in different armies you conrol. Build a farm in each region of these armies. Place a ${O.Bountiful} token on one of the newly created farms.</p>`,effectTokens:[z.Bountiful],regions:null,castType:k.Normal,destructive:!1},{name:"Plowshares to Swords",spellCost:2,htmlDescription:"<p>Cast at the start of any action. Destroy a farm you control. Place two warriors and an archer in this region.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Devine Inspiration",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. You may give the attacking or defending army <i>Leadership 1</i>.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Cleave Attack",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. Apply up to two <i>hits</i> from this attack to an enemy army adjacent to the attacked army.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Vortex",spellCost:2,htmlDescription:"<p>Exchange the location of any two enemy armies. This may not target armies in or adjacent to cities and capitols.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Tidal Wave",spellCost:1,htmlDescription:"<p>Select three adjacent regions. The armies in these regions must move to an adjacent region not effected by this spell.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Earthquake",spellCost:2,htmlDescription:`<p>Enemy buildings have -1 defense until the end of the round. Add a -${O.StrengthenWeaken} token on up to three different buildings.</p>`,effectTokens:[z.Weaken],regions:null,castType:k.Normal,destructive:!1},{name:"Channel Energy",spellCost:1,htmlDescription:"<p>Gain 4 mana. Until the end of the round you have +4 to your max mana.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Quick Sand",spellCost:2,htmlDescription:`<p>Enemy players add a -${O.SlowHaste} token to a unit in each army they control that is in a marsh or badlands region.</p>`,effectTokens:[z.Slow],regions:[Q.Marsh,Q.Badlands],castType:k.Normal,destructive:!1},{name:"Flood Fields",spellCost:3,htmlDescription:"<p>Destroy any one farm. Add a water token to the region of that farm.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Price for Knowledge",spellCost:3,htmlDescription:"<p>Destroy a unit you control. You may perfom two free research actions.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Syphon Soul",spellCost:2,htmlDescription:"<p>Cast after any number of units you control are destroyed in a battle. Gain gold equal to the cost of up to three of the units.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Call to Arms",spellCost:1,htmlDescription:"<p>Until the end of the round, your farms and cities attack and defend with an orange die.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Renewed Hope",spellCost:2,htmlDescription:`<p>Cast after a city, tower, or farm you control is destroyed. Add a city, tower, or farm to a region you control. Add a +${O.StrengthenWeaken} or ${O.Bountiful} token to this building.</p>`,effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Summon Elemental",spellCost:3,htmlDescription:"<p>Attack an army adjacent to a mountain or water region with four yellow dice.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Stifle Progress",spellCost:1,htmlDescription:"<p>For the remainder of the round, enemy players may not perform research actions. Perform a free research action.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Locust Plague",spellCost:2,htmlDescription:`<p>Add a -${O.Bountiful} token on up to two buildings. Then, you may add a -${O.StrengthenWeaken} token to a unit in each region a -${O.Bountiful} was added to.</p>`,effectTokens:[z.Plague,z.Weaken],regions:null,castType:k.Normal,destructive:!1},{name:"Sap Strength",spellCost:2,htmlDescription:`<p>For the remainder of the round when performing an attack action, players must pay 1 gold for each unit in the attacking army. Or, Select two units and add a -${O.StrengthenWeaken} token to each.</p>`,effectTokens:[z.Weaken],regions:null,castType:k.Normal,destructive:!1},{name:"Hidden Path",spellCost:1,htmlDescription:"<p>Choose any combination of up to two mountain or water regions. Remove the mountain or water tokens from these regions.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Move Earth",spellCost:2,htmlDescription:"<p>Choose up to two unoccupied regions. Remove any tokens from these regions and place a mountain token on each region.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Strength in Numbers",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. You may move up to three units in adjacent armies into the attacked region.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Back to Basics",spellCost:2,htmlDescription:"<p>Each player replaces 2 non-warrior units they control with warrior units.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Polymorph",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. For the remainder of this battle, treat all units as warriors.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Egress",spellCost:1,htmlDescription:"<p>Cast at the start of a battle, when you or an ally are attacked. Return the attacked army to it's controllers capitol.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Extinction",spellCost:4,htmlDescription:"<p>Select a unit type. At the end of the round, each player destroys up to 4 units of that type.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"New Recruits",spellCost:2,htmlDescription:`<p>Select a basic unit type. Add a ${O.Shock} token on up to 4 units of this type. Enemy units of this type have -1 damage until the end of the round.</p>`,effectTokens:[z.Stun],regions:null,castType:k.Normal,destructive:!1},{name:"Lightning Bolt",spellCost:2,htmlDescription:"<p>Cast at the start of any action. Destroy any 1 unit.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Jolt",spellCost:1,htmlDescription:`<p>Cast at the start of any action. Attack a unit with a yellow die or add a ${O.Shock} token to a unit.</p>`,effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Fog",spellCost:1,htmlDescription:"<p>Cast at the start of an attack action. Attacking units have an attack distand of 0 for the remainder of this attack action.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Treasury Heist",spellCost:1,htmlDescription:"<p>You may pay any amount of mana to cast this spell. For each mana paid, you may take 2 gold from target player.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Nature's Balance",spellCost:2,htmlDescription:"<p>Cast at the start of a battle. If the enemy player has more units in the region of the battle than you, destroy 1 unit in the region of the battle. If this region is a forest region, destroy 2 units instead.</p>",effectTokens:null,regions:[Q.Forest],castType:k.Prepared,destructive:!1},{name:"Anti-magic Shell",spellCost:2,htmlDescription:"<p>Choose a region. You may remove any effect tokens on that region or on units/buildings in that region. You may remove any player tokens from that region.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Time Warp",spellCost:4,htmlDescription:"<p>At the end of the round you gain an additional turn.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Blizzard",spellCost:2,htmlDescription:`<p>Choose a player. For each army that player controls, add a -${O.SlowHaste} to a unit in that army. If the army is in a tundra region you may add a -${O.SlowHaste} on up to two different unit in that army instead.</p>`,effectTokens:null,regions:[Q.Tundra],castType:k.Normal,destructive:!1},{name:"Treachery",spellCost:2,htmlDescription:`<p>Cast at the start of a battle. Add a ${O.Mind} token to an enemy unit in this battle.</p>`,effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Confusion",spellCost:3,htmlDescription:`<p>Cast after a player chooses an action to perform. That player instead perfoms no action. Add a \n      ${O.Mind} token to an enemy unit.</p>`,effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Flame Strike",spellCost:1,htmlDescription:"<p>You may pay any amount of mana to cast this spell. Choose an enemy army. For each mana spent, attack that army with a yellow die.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Shock",spellCost:1,htmlDescription:`<p>Select a region. Place a ${O.Shock} token on each enemy unit in that region.</p>`,effectTokens:[z.Stun],regions:null,castType:k.Normal,destructive:!1},{name:"Tranquility",spellCost:2,htmlDescription:"<p>Remove all player tokens and effect tokens from all regions, units, and buildings.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Summoning Circle",spellCost:2,htmlDescription:"<p>Recruit one heavy unit to a city or capitol you control (after paying the cost of the unit).</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Mana Burn",spellCost:1,htmlDescription:`<p>You may pay any amount of mana when casting this spell. For each mana paid, remove 1 mana from any player and add a ${O.Shock} to any unit.</p>`,effectTokens:[z.Stun],regions:null,castType:k.Normal,destructive:!1},{name:"Poison Cloud",spellCost:2,htmlDescription:`<p>Choose a region. You may add a ${O.Poison} token to a unit in that region. You may add a -${O.StrengthenWeaken} token to another unit in that region. You may add a -${O.Bountiful} token to a building in that region.</p>`,effectTokens:[z.Poison,z.Weaken,z.Plague],regions:null,castType:k.Normal,destructive:!1},{name:"Acid Rain",spellCost:2,htmlDescription:`<p>Attack a farm, tower or city with an orange die. You may add a ${O.Poison} token to a unit in the region of the attacked building if \n      the building is on a badlands or marsh region.</p>`,effectTokens:[z.Poison],regions:[Q.Marsh,Q.Badlands],castType:k.Normal,destructive:!0},{name:"Raise Dead",spellCost:2,htmlDescription:"<p>Cast when a unit or units you control are destroyed. Replace each destroyed unit with 1 warrior.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Reflect Magic",spellCost:1,htmlDescription:"<p>Cast when an opponent casts a spell. Cancel the effect of that spell. If this was a prepared spell return it to the prepared state. Otherwise return the spell card to the caster's hand. The caster regains any mana used to cast the spell.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Arcane Spellbook",spellCost:1,htmlDescription:"<p>Look at the spell cards in the hands of each player. You may pick one card in another player's hand and place that card in your hand. You may perform a free cast action.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Cataclysm",spellCost:4,htmlDescription:"<p>Target player destroys two units they control, one building they control, loses one mana, discards one spell card, and loses 5 gold.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Living Walls",spellCost:2,htmlDescription:`<p>Choose two buildings that are not capitols. You may move each chosen building to an adjacent region. You may add a +${O.StrengthenWeaken} or -${O.StrengthenWeaken} to each choosen building.</p>`,effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Poison Blades",spellCost:2,htmlDescription:`<p>Cast at the start of combat. The attacking army gain Assassinate 2. If no units are destroyed as a result of this combat, you may add a ${O.Poison} token to a unit in the defending army.</p>`,effectTokens:[z.Poison],regions:null,castType:k.Prepared,destructive:!1},{name:"Sleep",spellCost:3,htmlDescription:"<p>Until the start of your next turn, players may not perform move, attack, or build actions.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Instant Transmission",spellCost:1,htmlDescription:"<p>Cast at the start of any action. Move one unit to any region on the map.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Illusion",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. You may force an enemy to reroll an attack die or defense die of your choice.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Hurricane",spellCost:2,htmlDescription:"<p>Choose an enemy army. Roll three orange dice. Destroy one unit with flying in the chosen army for each hit rolled.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Powder Keg",spellCost:2,htmlDescription:"<p>Cast at the start of any action. Destroy a building you control. Attack an enemy army in the region of the destroyed building with two orange dice.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Ancestral Knowledge",spellCost:1,htmlDescription:"<p>Search throguh the spell deck and place one spell card from the spell deck into your hand. Shuffle the spell deck afterward.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Balance of Power",spellCost:3,htmlDescription:"<p>For the remainder of the round all units attack with one green die. The attack dice of units can not be modified by any means.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Nature's Wrath",spellCost:2,htmlDescription:"<p>Attack an army with yellow dice equal to the number of forest and hills regions the army is adjacent to, including the region the army is on.</p>",effectTokens:null,regions:[Q.Forest,Q.Hills],castType:k.Normal,destructive:!1},{name:"Path of Bravery",spellCost:2,htmlDescription:"<p>For the remainder of the round in each combat you may give up to two units you control +1 damage if attacking an army with a greater number of units and +1 defense if being attacked by and army with a greater number of units.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Corrupt Vegitation",spellCost:1,htmlDescription:`<p>Add a ${O.Entangle} token on up to two hills or plains regiongs. You may add a ${O.Poison} token to a unit in a region with a ${O.Entangle} token on it.</p>`,effectTokens:[z.Entangle,z.Poison],regions:[Q.Hills,Q.Plains],castType:k.Normal,destructive:!1},{name:"Thrill of the Hunt",spellCost:2,htmlDescription:`<p>Move a single unit you control up to 4 regions. You may add a +${O.StrengthenWeaken} token to this unit. You may perform an attack with only this unit.</p>`,effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Volcanic Eruption",spellCost:2,htmlDescription:"<p>Choose a mountain region. Attack each army on and adjacent to that region with a yellow die</p>",effectTokens:null,regions:[Q.Mountains],castType:k.Normal,destructive:!0},{name:"Empty the Reserves",spellCost:1,htmlDescription:"<p>Cast at the start of a recruit action. The Player performing the action may recruit 1 additional unit to their capitol and to each city they control.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Wrath of God",spellCost:5,htmlDescription:"<p>Each player looses all of their gold. Each player chooses one building that is not a capitol and one unit they control. Destroy all other units and non-capitol buildings that were not chosen.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Ambush",spellCost:1,htmlDescription:"<p>Cast after an opponent has performend a move action. Add one warrior to a region units were moved to.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Zombify",spellCost:2,htmlDescription:"<p>Cast when units in an enemy army are destroyed. Add up to two warrior units in the region of the destroyed units.</p>",effectTokens:null,regions:null,castType:k.Prepared,destructive:!1},{name:"Magical Mastery",spellCost:2,htmlDescription:"<p>Until the end of the round, after each cast action you perform, including the cast action to cast this spell, you may perform a free attack action using only mage units you control.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Magical Attunement",spellCost:1,htmlDescription:"<p>Until the end of the round, warrior units you control attack with an additional purple die. Until the end of the round you have +2 to your maximum mana.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Endurance",spellCost:2,htmlDescription:`<p>Cast at the start of a move action. Place a +${O.SlowHaste} token on up to three different units.</p>`,effectTokens:[z.Haste],regions:null,castType:k.Prepared,destructive:!1},{name:"Haste",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. Up to two units the active player controls have +1 movement during this move action.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Sandstorm",spellCost:3,htmlDescription:"<p>Enemy players roll an orange die for each badlands region they have units or buildings in. If a hit is rolled, \n      that player destroys 1 unit or building in that region.</p>",effectTokens:null,regions:[Q.Badlands],castType:k.Normal,destructive:!0},{name:"Unravel Mind",spellCost:3,htmlDescription:`<p>Cast at the start of a battle. Add a ${O.Mind} token on up to two different enemy units in this battle.</p>`,effectTokens:[z.Confusion],regions:null,castType:k.Prepared,destructive:!1},{name:"Early Spring",spellCost:1,htmlDescription:`<p>Cast at the start of a build action. The active player may add a ${O.Bountiful} token the building that is created.</p>`,effectTokens:[z.Bountiful],regions:null,castType:k.Instant,destructive:!1},{name:"Magic Arrow",spellCost:1,htmlDescription:"<p>Cast at the start of a battle. The active player may give up to two archer unit +2 attack distance.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Chain Lightning",spellCost:3,htmlDescription:"<p>Attack an army with 3 green dice. Attack another army with two green dice. Attack another army with one green die.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0},{name:"Command Stone",spellCost:3,htmlDescription:"<p>Perform a free build action. The building created through this build action may be added to any region on the map.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Gravity Distortion",spellCost:1,htmlDescription:"<p>Choose a region. You may move units (friendly and/or enemy) from adjacent regions into this region. You may not exceed the \n      maximum allowd unit limit. You may not move units out of a region containing a Capitol.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Mental Assault",spellCost:2,htmlDescription:`<p>Cast at the start of a recruit or harvest action. Add a ${O.Mind} token to an enemy building that is not a capitol.</p>`,effectTokens:[z.Confusion],regions:null,castType:k.Prepared,destructive:!1},{name:"Dimensional Door",spellCost:1,htmlDescription:"<p>Cast at the start of a move action. The active player may treat all portals as if they are the same color.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Elemental Mastery",spellCost:3,htmlDescription:`<p>You may add the following tokens to any unit, building, or regions that the token can normally be applied to. No unit or building may \n      have more than one token placed on it durring this spell.\n      +${O.SlowHaste}, -${O.SlowHaste}, +${O.StrengthenWeaken}, -${O.StrengthenWeaken}, ${O.Poison}, ${O.Entangle}</p>`,effectTokens:[z.Slow,z.Haste,z.Strengthen,z.Weaken,z.Poison,z.Entangle],regions:null,castType:k.Normal,destructive:!1},{name:"Poisoned Soil",spellCost:3,htmlDescription:`<p>Cast when an opponent performs a harvest action. That player adds a ${O.Poison} token to two different units they contol.</p>`,effectTokens:[z.Poison],regions:null,castType:k.Prepared,destructive:!1},{name:"Blight",spellCost:2,htmlDescription:`<p>Choose a region type (Mountains, Plains, Marsh, etc). For each region of the chosen type, you may add a -${O.StrengthenWeaken} token to \n      one enemy unit in that region or attack an enemy army with a green die in that region.</p>`,effectTokens:[z.Weaken],regions:null,castType:k.Normal,destructive:!1},{name:"Gaia's Blessing",spellCost:2,htmlDescription:`<p>You may add up to three +${O.StrengthenWeaken} tokens to different units on your faction's <i>favored region</i>.`,effectTokens:[z.Strengthen],regions:null,castType:k.Normal,destructive:!1},{name:"Well of Knowledge",spellCost:4,htmlDescription:"<p>You may cast or prepare any spell card from the discard pile without paying it's mana cost.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Ancestral Vision",spellCost:1,htmlDescription:"<p>Cast at the start of an attack action. The active player gains +2 damage in each battle in their faction's <i>favored region</i>.</p>",effectTokens:null,regions:null,castType:k.Instant,destructive:!1},{name:"Mana Draw",spellCost:2,htmlDescription:"<p>Gain 1 mana and draw a spell card for each mage you control in your faction's <i>favored region</i>. Until the end of the round, mage units in your faction's <i>favored region</i> gain +1 attack distance.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!1},{name:"Doppelganger",spellCost:3,htmlDescription:"<p>Choose a unit. Destroy this unit and replace it with a unit from your supply of the same type under your control.</p>",effectTokens:null,regions:null,castType:k.Normal,destructive:!0}];let tt=(()=>{class a{constructor(){this.spellCardsToPrint=new Map}static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const dr=a=>({selected:a}),Qr=()=>[];function wt(a,d){if(1&a&&(n.j41(0,"option",8),n.EFF(1),n.k0s()),2&a){const p=d.$implicit;n.Y8G("ngValue",p.value),n.R7$(),n.SpI("",p.value," ")}}function $n(a,d){if(1&a){const p=n.RV6();n.j41(0,"button",9),n.bIt("click",function(){n.eBV(p);const h=n.XpG();return n.Njj(h.router.navigate(["uprising/spell-cards-print-sheet"]))}),n.EFF(1),n.k0s()}if(2&a){const p=n.XpG();n.R7$(),n.SpI(" Print Spell Cards ",p.spellCardService.spellCardsToPrint.size," ")}}function Vt(a,d){1&a&&n.nrm(0,"i",21)}function Zr(a,d){1&a&&n.nrm(0,"i",22)}function Fe(a,d){1&a&&n.nrm(0,"i",23)}function eo(a,d){1&a&&(n.j41(0,"span"),n.EFF(1," *Added to print list "),n.k0s())}function qt(a,d){if(1&a){const p=n.RV6();n.j41(0,"div",10)(1,"div",11)(2,"div",12),n.DNE(3,Vt,1,0,"i",13)(4,Zr,1,0,"i",14),n.j41(5,"p",15),n.EFF(6),n.k0s(),n.j41(7,"div"),n.DNE(8,Fe,1,0,"i",16),n.k0s()(),n.nrm(9,"div",17),n.k0s(),n.j41(10,"div",18)(11,"i",19),n.bIt("click",function(){const h=n.eBV(p).$implicit,_=n.XpG();return n.Njj(_.addCardToPintList(h))}),n.k0s(),n.DNE(12,eo,2,0,"span",20),n.k0s()()}if(2&a){const p=d.$implicit,m=n.XpG();n.Y8G("ngClass",n.eq3(7,dr,m.spellCardService.spellCardsToPrint.has(p.name))),n.R7$(3),n.Y8G("ngIf","Prepared"==p.castType),n.R7$(),n.Y8G("ngIf","Instant"==p.castType),n.R7$(2),n.JRh(p.name),n.R7$(2),n.Y8G("ngForOf",n.lJ4(9,Qr).constructor(p.spellCost)),n.R7$(),n.Y8G("innerHTML",p.htmlDescription,n.npT),n.R7$(3),n.Y8G("ngIf",m.spellCardService.spellCardsToPrint.has(p.name))}}let to=(()=>{class a{ngOnInit(){this.calculateSpellStats(),this.sortSpellCardList(ve.Alphabetical)}constructor(p,m){this.spellCardService=p,this.router=m,this.SpellCards=[...kt],this.SpellCardSortOptions=ve,this.spellCost1Total=0,this.spellCost2Total=0,this.spellCost3Total=0,this.spellCost4Total=0,this.spellCost5Total=0,this.spellRegionPlainsTotal=0,this.spellRegionForestTotal=0,this.spellRegionHillsTotal=0,this.spellRegionBadlandsTotal=0,this.spellRegionMarshTotal=0,this.spellCostAverage=0,this.numberOfPreparedSpells=0,this.numberOfInstantSpells=0,this.numberOfTokenSpells=0,this.spellCardSort=ve.Alphabetical}calculateSpellStats(){let p=0;kt.forEach(m=>{switch(p+=m.spellCost,m.spellCost){case 1:this.spellCost1Total++;break;case 2:this.spellCost2Total++;break;case 3:this.spellCost3Total++;break;case 4:this.spellCost4Total++;break;case 5:this.spellCost5Total++}m.regions&&m.regions.forEach(h=>{switch(h){case Q.Forest:this.spellRegionForestTotal++;break;case Q.Badlands:this.spellRegionBadlandsTotal++;break;case Q.Plains:this.spellRegionPlainsTotal++;break;case Q.Marsh:this.spellRegionMarshTotal++;break;case Q.Hills:this.spellRegionHillsTotal++}}),m.castType==k.Prepared&&this.numberOfPreparedSpells++,m.castType==k.Instant&&this.numberOfInstantSpells++,m.effectTokens&&m.effectTokens?.length>0&&this.numberOfTokenSpells++}),this.spellCostAverage=p/kt.length}sortOptionChangeEvent(p){this.sortSpellCardList(p.target.value)}sortSpellCardList(p){switch(p){case ve.Alphabetical:this.SpellCards.sort((m,h)=>m.name.localeCompare(h.name));break;case ve.PreparedSpells:this.SpellCards.sort((m,h)=>m.castType==k.Prepared?-1:1);break;case ve.InstantSpells:this.SpellCards.sort((m,h)=>m.castType==k.Instant?-1:1);break;case ve.SpellCostHighest:this.SpellCards.sort((m,h)=>h.spellCost-m.spellCost||m.name.localeCompare(h.name));break;case ve.SpellCostLowest:this.SpellCards.sort((m,h)=>m.spellCost-h.spellCost||m.name.localeCompare(h.name))}}addCardToPintList(p){this.spellCardService.spellCardsToPrint.has(p.name)?this.spellCardService.spellCardsToPrint.delete(p.name):this.spellCardService.spellCardsToPrint.set(p.name,p)}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(tt),n.rXU(ye.Ix))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-spell-cards"]],decls:47,vars:20,consts:[[1,"container"],[3,"title"],["for","spellCardSort"],["id","spellCardSort","aria-label","How would you like to sort the spell card lis?",1,"form-select","mb-3",2,"max-width","300px",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["class","btn btn-primary sticky-top fade-in mb-2","style","top: 5px",3,"click",4,"ngIf"],[1,"row","ms-0"],["class","card mb-2 me-2","style","max-width: 20rem;",3,"ngClass",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"btn","btn-primary","sticky-top","fade-in","mb-2",2,"top","5px",3,"click"],[1,"card","mb-2","me-2",2,"max-width","20rem",3,"ngClass"],[1,"card-body"],[1,"d-flex","justify-content-between"],["class","bi bi-clock",4,"ngIf"],["class","bi bi-lightning-fill",4,"ngIf"],[1,"card-title","fs-6","fw-bold"],["class","bi bi-gem ms-1",4,"ngFor","ngForOf"],[1,"card-text",3,"innerHTML"],[1,"card-footer","row"],[1,"bi","bi-printer","ms-1",3,"click"],[4,"ngIf"],[1,"bi","bi-clock"],[1,"bi","bi-lightning-fill"],[1,"bi","bi-gem","ms-1"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.nrm(1,"app-heading-with-back",1),n.j41(2,"div")(3,"label",2),n.EFF(4,"Spell Card Sort"),n.k0s(),n.j41(5,"select",3),n.bIt("change",function(S){return h.sortOptionChangeEvent(S)}),n.DNE(6,wt,2,2,"option",4),n.nI1(7,"keyvalue"),n.k0s()(),n.DNE(8,$n,2,1,"button",5),n.j41(9,"div",6),n.DNE(10,qt,13,10,"div",7),n.k0s(),n.j41(11,"h2"),n.EFF(12,"Spell Card Stats"),n.k0s(),n.j41(13,"p"),n.EFF(14),n.k0s(),n.j41(15,"h3"),n.EFF(16,"Spell costs"),n.k0s(),n.j41(17,"p"),n.EFF(18),n.k0s(),n.j41(19,"p"),n.EFF(20),n.k0s(),n.j41(21,"p"),n.EFF(22),n.k0s(),n.j41(23,"p"),n.EFF(24),n.k0s(),n.j41(25,"p"),n.EFF(26),n.k0s(),n.j41(27,"p"),n.EFF(28),n.k0s(),n.j41(29,"h3"),n.EFF(30,"Regions"),n.k0s(),n.j41(31,"p"),n.EFF(32),n.k0s(),n.j41(33,"p"),n.EFF(34),n.k0s(),n.j41(35,"p"),n.EFF(36),n.k0s(),n.j41(37,"p"),n.EFF(38),n.k0s(),n.j41(39,"p"),n.EFF(40),n.k0s(),n.j41(41,"h3"),n.EFF(42,"Other"),n.k0s(),n.j41(43,"p"),n.EFF(44),n.k0s(),n.j41(45,"p"),n.EFF(46),n.k0s()()),2&m&&(n.R7$(),n.Y8G("title","Spell Cards"),n.R7$(5),n.Y8G("ngForOf",n.bMT(7,18,h.SpellCardSortOptions)),n.R7$(2),n.Y8G("ngIf",h.spellCardService.spellCardsToPrint.size>0),n.R7$(2),n.Y8G("ngForOf",h.SpellCards),n.R7$(4),n.SpI("Total number of spells: ",h.SpellCards.length,""),n.R7$(4),n.SpI("Number of spells costing 1: ",h.spellCost1Total,""),n.R7$(2),n.SpI("Number of spells costing 2: ",h.spellCost2Total,""),n.R7$(2),n.SpI("Number of spells costing 3: ",h.spellCost3Total,""),n.R7$(2),n.SpI("Number of spells costing 4: ",h.spellCost4Total,""),n.R7$(2),n.SpI("Number of spells costing 5: ",h.spellCost5Total,""),n.R7$(2),n.SpI("Average spell cost: ",h.spellCostAverage,""),n.R7$(4),n.SpI("Number of Spells effecting Marsh Regions: ",h.spellRegionMarshTotal,""),n.R7$(2),n.SpI("Number of Spells effecting Hills Regions: ",h.spellRegionHillsTotal,""),n.R7$(2),n.SpI("Number of Spells effecting Forest Regions: ",h.spellRegionForestTotal,""),n.R7$(2),n.SpI("Number of Spells effecting Plains Regions: ",h.spellRegionPlainsTotal,""),n.R7$(2),n.SpI("Number of Spells effecting Badlands Regions: ",h.spellRegionBadlandsTotal,""),n.R7$(4),n.SpI("Number of prepared spells: ",h.numberOfPreparedSpells,""),n.R7$(2),n.SpI("Number of token spells: ",h.numberOfTokenSpells,""))},dependencies:[K.YU,K.Sq,K.bT,Z.xH,Z.y7,fe.L,K.lG],styles:[".selected[_ngcontent-%COMP%]{border-width:10px}"]})}}return a})();var ve=function(a){return a.Alphabetical="Alphabetical",a.SpellCostHighest="Spell Cost Highest",a.SpellCostLowest="Spell Cost Lowest",a.PreparedSpells="Prepared Spells",a.InstantSpells="Instant Spells",a}(ve||{});const no=["cardText"],Xt=()=>[];function ro(a,d){1&a&&n.nrm(0,"i",10)}function zn(a,d){1&a&&n.nrm(0,"i",11)}function Bn(a,d){1&a&&n.nrm(0,"i",12)}let fr=(()=>{class a{constructor(p){this.renderer=p,this.spellCard=kt[0]}ngAfterViewInit(){this.cardText?.nativeElement.getBoundingClientRect().height>160&&this.renderer.addClass(this.cardText.nativeElement,"small-text")}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(n.sFG))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-printable-spell-card"]],viewQuery:function(m,h){if(1&m&&n.GBs(no,5),2&m){let _;n.mGM(_=n.lsd())&&(h.cardText=_.first)}},inputs:{spellCard:"spellCard"},decls:12,vars:6,consts:[["cardText",""],[1,"spell-card","p-2","m-1"],[1,"card-body"],[1,"d-flex","justify-content-between","fs-4"],["class","bi bi-lightning-fill",4,"ngIf"],["class","bi bi-clock",4,"ngIf"],[1,"align-self-end"],["class","bi bi-gem ms-1",4,"ngFor","ngForOf"],[1,"card-title","fs-5","fw-bold","text-center","mb-3","segoe"],[1,"card-text","segoe",3,"innerHTML"],[1,"bi","bi-lightning-fill"],[1,"bi","bi-clock"],[1,"bi","bi-gem","ms-1"]],template:function(m,h){1&m&&(n.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),n.DNE(4,ro,1,0,"i",4)(5,zn,1,0,"i",5),n.k0s(),n.j41(6,"div",6),n.DNE(7,Bn,1,0,"i",7),n.k0s()(),n.j41(8,"p",8),n.EFF(9),n.k0s(),n.nrm(10,"div",9,0),n.k0s()()),2&m&&(n.R7$(4),n.Y8G("ngIf","Instant"==h.spellCard.castType),n.R7$(),n.Y8G("ngIf","Prepared"==h.spellCard.castType),n.R7$(2),n.Y8G("ngForOf",n.lJ4(5,Xt).constructor(h.spellCard.spellCost)),n.R7$(2),n.JRh(h.spellCard.name),n.R7$(),n.Y8G("innerHTML",h.spellCard.htmlDescription,n.npT))},dependencies:[K.Sq,K.bT],styles:[".spell-card[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-width:9px;height:362px;width:261px}@font-face{font-family:segoe;src:url(Segoe-Print-Font.8b4b3174f557f5f1.ttf)}.segoe[_ngcontent-%COMP%]{font-family:segoe}.small-text[_ngcontent-%COMP%]{font-size:small}"]})}}return a})();function oo(a,d){if(1&a&&(n.qex(0),n.nrm(1,"app-printable-spell-card",2),n.bVm()),2&a){const p=d.$implicit;n.R7$(),n.Y8G("spellCard",p.value)}}const io=[{path:"",component:Jr},{path:"mercenary-picker",component:Xr},{path:"maps",component:Ur},{path:"tile-randomizer",component:te},{path:"reference-cards",component:pr},{path:"map-details/:id",component:Hr},{path:"map-builder",component:U},{path:"map-builder-options",component:Pr},{path:"factions",component:Ut},{path:"spell-cards",component:to},{path:"spell-cards-print-sheet",component:(()=>{class a{constructor(p){this.spellCardService=p,this.spellCards=kt}static{this.\u0275fac=function(m){return new(m||a)(n.rXU(tt))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-spell-card-print-sheet"]],decls:3,vars:3,consts:[[1,"d-flex","flex-wrap",2,"width","1100px"],[4,"ngFor","ngForOf"],[3,"spellCard"]],template:function(m,h){1&m&&(n.j41(0,"div",0),n.DNE(1,oo,2,1,"ng-container",1),n.nI1(2,"keyvalue"),n.k0s()),2&m&&(n.R7$(),n.Y8G("ngForOf",n.bMT(2,1,h.spellCardService.spellCardsToPrint)))},dependencies:[K.Sq,fr,K.lG]})}}return a})()}];let Jt=(()=>{class a{static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275mod=n.$C({type:a})}static{this.\u0275inj=n.G2t({imports:[ye.iI.forChild(io),ye.iI]})}}return a})();var Qt=B(3887);let hr=(()=>{class a{static{this.\u0275fac=function(m){return new(m||a)}}static{this.\u0275mod=n.$C({type:a})}static{this.\u0275inj=n.G2t({imports:[K.MD,Jt,Z.YN,Qt.G,ar.d]})}}return a})()},920:To=>{To.exports=function(){var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0,Oe.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.getWindow=function(e){return(0,Oe.default)(e)?e:(e.ownerDocument||e).defaultView||ye.window},B.init=n,B.window=B.realWindow=void 0;var K=void 0;B.realWindow=K;var ye=void 0;function n(e){B.realWindow=K=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),B.window=ye=e}B.window=ye,typeof window<"u"&&window&&n(window);var w={};function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var Z=function(e){return!!e&&"object"===se(e)},fe=function(e){return"function"==typeof e},Cr={window:function(e){return e===B.window||(0,Oe.default)(e)},docFrag:function(e){return Z(e)&&11===e.nodeType},object:Z,func:fe,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==se(e))return!1;var t=B.getWindow(e)||B.window;return/object|function/.test(typeof Element>"u"?"undefined":se(Element))?e instanceof Element||e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return Z(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return Z(e)&&void 0!==e.length&&fe(e.splice)}};w.default=Cr;var it={};function sn(e){var t=e.interaction;if("drag"===t.prepared.name){var r=t.prepared.axis;"x"===r?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===r&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function Un(e){var t=e.iEvent,r=e.interaction;if("drag"===r.prepared.name){var o=r.prepared.axis;if("x"===o||"y"===o){var i="x"===o?"y":"x";t.page[i]=r.coords.start.page[i],t.client[i]=r.coords.start.client[i],t.delta[i]=0}}}Object.defineProperty(it,"__esModule",{value:!0}),it.default=void 0;var St={id:"actions/drag",install:function(e){var t=e.actions,o=e.defaults;e.Interactable.prototype.draggable=St.draggable,t.map.drag=St,t.methodDict.drag="draggable",o.actions.drag=St.defaults},listeners:{"interactions:before-action-move":sn,"interactions:action-resume":sn,"interactions:action-move":Un,"auto-start:check":function(e){var t=e.interaction,r=e.interactable,o=e.buttons,i=r.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||o&r.options.drag.mouseButtons))return e.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(e){return w.default.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):w.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:sn,move:Un,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}};it.default=St;var ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=void 0;var ue={init:function(e){var t=e;ue.document=t.document,ue.DocumentFragment=t.DocumentFragment||L,ue.SVGElement=t.SVGElement||L,ue.SVGSVGElement=t.SVGSVGElement||L,ue.SVGElementInstance=t.SVGElementInstance||L,ue.Element=t.Element||L,ue.HTMLElement=t.HTMLElement||ue.Element,ue.Event=t.Event,ue.Touch=t.Touch||L,ue.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function L(){}ee.default=ue;var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0;var he={init:function(e){var t=ee.default.Element,r=e.navigator||{};he.supportsTouch="ontouchstart"in e||w.default.func(e.DocumentTouch)&&ee.default.document instanceof e.DocumentTouch,he.supportsPointerEvent=!1!==r.pointerEnabled&&!!ee.default.PointerEvent,he.isIOS=/iP(hone|od|ad)/.test(r.platform),he.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),he.isIe9=/MSIE 9/.test(r.userAgent),he.isOperaMobile="Opera"===r.appName&&he.supportsTouch&&/Presto/.test(r.userAgent),he.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",he.pEventTypes=he.supportsPointerEvent?ee.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,he.wheelEvent=ee.default.document&&"onmousewheel"in ee.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};le.default=he;var I={};function at(e){var t=e.parentNode;if(w.default.docFrag(t)){for(;(t=t.host)&&w.default.docFrag(t););return t}return t}function Ae(e,t){return B.window!==B.realWindow&&(t=t.replace(/\/deep\//g," ")),e[le.default.prefixedMatchesSelector](t)}Object.defineProperty(I,"__esModule",{value:!0}),I.closest=function(e,t){for(;w.default.element(e);){if(Ae(e,t))return e;e=at(e)}return null},I.getActualElement=function(e){return e.correspondingUseElement||e},I.getElementClientRect=qn,I.getElementRect=function(e){var t=qn(e);if(!le.default.isIOS7&&t){var r=cn(B.getWindow(e));t.left+=r.x,t.right+=r.x,t.top+=r.y,t.bottom+=r.y}return t},I.getPath=function(e){for(var t=[];e;)t.push(e),e=at(e);return t},I.getScrollXY=cn,I.indexOfDeepestElement=function(e){for(var t,r=[],o=0;o<e.length;o++){var i=e[o],s=e[t];if(i&&o!==t)if(s){var u=ln(i),l=ln(s);if(u!==i.ownerDocument)if(l!==i.ownerDocument)if(u!==l){r=r.length?r:Vn(s);var c=void 0;if(s instanceof ee.default.HTMLElement&&i instanceof ee.default.SVGElement&&!(i instanceof ee.default.SVGSVGElement)){if(i===l)continue;c=i.ownerSVGElement}else c=i;for(var f=Vn(c,s.ownerDocument),g=0;f[g]&&f[g]===r[g];)g++;var v=[f[g-1],f[g],r[g]];if(v[0])for(var b=v[0].lastChild;b;){if(b===v[1]){t=o,r=f;break}if(b===v[2])break;b=b.previousSibling}}else T=i,y=s,(parseInt(B.getWindow(T).getComputedStyle(T).zIndex,10)||0)>=(parseInt(B.getWindow(y).getComputedStyle(y).zIndex,10)||0)&&(t=o);else t=o}else t=o}var T,y;return t},I.matchesSelector=Ae,I.matchesUpTo=function(e,t,r){for(;w.default.element(e);){if(Ae(e,t))return!0;if((e=at(e))===r)return Ae(e,t)}return!1},I.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},I.parentNode=at,I.trySelector=function(e){return!!w.default.string(e)&&(ee.default.document.querySelector(e),!0)};var ln=function(e){return e.parentNode||e.host};function Vn(e,t){for(var r,o=[],i=e;(r=ln(i))&&i!==t&&r!==i.ownerDocument;)o.unshift(i),i=r;return o}function cn(e){return{x:(e=e||B.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function qn(e){var t=e instanceof ee.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(e,t){for(var r in t)e[r]=t[r];return e};var V={};function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function st(e,t,r){return"parent"===e?(0,I.parentNode)(r):"self"===e?t.getRect(r):(0,I.closest)(r,e)}Object.defineProperty(V,"__esModule",{value:!0}),V.addEdges=function(e,t,r){e.left&&(t.left+=r.x),e.right&&(t.right+=r.x),e.top&&(t.top+=r.y),e.bottom&&(t.bottom+=r.y),t.width=t.right-t.left,t.height=t.bottom-t.top},V.getStringOptionResult=st,V.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},V.resolveRectLike=function(e,t,r,o){var i,s=e;return w.default.string(s)?s=st(s,t,r):w.default.func(s)&&(s=s.apply(void 0,function(u){if(Array.isArray(u))return Xn(u)}(i=o)||function(u){if(typeof Symbol<"u"&&null!=u[Symbol.iterator]||null!=u["@@iterator"])return Array.from(u)}(i)||function(u,l){if(u){if("string"==typeof u)return Xn(u,l);var c=Object.prototype.toString.call(u).slice(8,-1);return"Object"===c&&u.constructor&&(c=u.constructor.name),"Map"===c||"Set"===c?Array.from(u):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Xn(u,l):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),w.default.element(s)&&(s=(0,I.getElementRect)(s)),s},V.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,E.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},V.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,E.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.default=function(e,t,r){var o=e.options[r],s=(0,V.resolveRectLike)(o&&o.origin||e.options.origin,e,t,[e&&t]);return(0,V.rectToXY)(s)||{x:0,y:0}};var Re={};function Kn(e){return e.trim().split(/ +/)}Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=function e(t,r,o){if(o=o||{},w.default.string(t)&&-1!==t.search(" ")&&(t=Kn(t)),w.default.array(t))return t.reduce(function(c,f){return(0,E.default)(c,e(f,r,o))},o);if(w.default.object(t)&&(r=t,t=""),w.default.func(r))o[t]=o[t]||[],o[t].push(r);else if(w.default.array(r))for(var i=0;i<r.length;i++)e(t,r[i],o);else if(w.default.object(r))for(var u in r){var l=Kn(u).map(function(c){return"".concat(t).concat(c)});e(l,r[u],o)}return o};var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0,be.default=function(e,t){return Math.sqrt(e*e+t*t)};var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=function(e,t){e.__set||(e.__set={});var r=function(i){"function"!=typeof e[i]&&"__set"!==i&&Object.defineProperty(e,i,{get:function(){return i in e.__set?e.__set[i]:e.__set[i]=t[i]},set:function(s){e.__set[i]=s},configurable:!0})};for(var o in t)r(o);return e};var F={};function un(e){return e instanceof ee.default.Event||e instanceof ee.default.Touch}function lt(e,t,r){return(r=r||{}).x=t[(e=e||"page")+"X"],r.y=t[e+"Y"],r}function pn(e,t){return t=t||{x:0,y:0},le.default.isOperaMobile&&un(e)?(lt("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):lt("page",e,t),t}function Jn(e,t){return t=t||{},le.default.isOperaMobile&&un(e)?lt("screen",e,t):lt("client",e,t),t}function ct(e){var t=[];return w.default.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function dn(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++){var o=e[r];for(var i in t)t[i]+=o[i]}for(var s in t)t[s]/=e.length;return t}Object.defineProperty(F,"__esModule",{value:!0}),F.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},F.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},F.getClientXY=Jn,F.getEventTargets=function(e){var t=w.default.func(e.composedPath)?e.composedPath():e.path;return[I.getActualElement(t?t[0]:e.target),I.getActualElement(e.currentTarget)]},F.getPageXY=pn,F.getPointerId=function(e){return w.default.number(e.pointerId)?e.pointerId:e.identifier},F.getPointerType=function(e){return w.default.string(e.pointerType)?e.pointerType:w.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof ee.default.Touch?"touch":"mouse"},F.getTouchPair=ct,F.getXY=lt,F.isNativePointer=un,F.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},F.pointerAverage=dn,Object.defineProperty(F,"pointerExtend",{enumerable:!0,get:function(){return ne.default}}),F.setCoordDeltas=function(e,t,r){e.page.x=r.page.x-t.page.x,e.page.y=r.page.y-t.page.y,e.client.x=r.client.x-t.client.x,e.client.y=r.client.y-t.client.y,e.timeStamp=r.timeStamp-t.timeStamp},F.setCoordVelocity=function(e,t){var r=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/r,e.page.y=t.page.y/r,e.client.x=t.client.x/r,e.client.y=t.client.y/r,e.timeStamp=r},F.setCoords=function(e,t,r){var o=t.length>1?dn(t):t[0];pn(o,e.page),Jn(o,e.client),e.timeStamp=r},F.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},F.touchAngle=function(e,t){var r=t+"X",o=t+"Y",i=ct(e);return 180*Math.atan2(i[1][o]-i[0][o],i[1][r]-i[0][r])/Math.PI},F.touchBBox=function(e){if(!e.length)return null;var t=ct(e),r=Math.min(t[0].pageX,t[1].pageX),o=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:r,y:o,left:r,top:o,right:i,bottom:s,width:i-r,height:s-o}},F.touchDistance=function(e,t){var r=t+"X",o=t+"Y",i=ct(e);return(0,be.default)(i[0][r]-i[1][r],i[0][o]-i[1][o])};var Ue={};function xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.BaseEvent=void 0;var Qn=function(){function e(o){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),xt(this,"immediatePropagationStopped",!1),xt(this,"propagationStopped",!1),this._interaction=o}var t,r;return t=e,(r=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function xr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ue.BaseEvent=Qn,Object.defineProperty(Qn.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.remove=H.merge=H.from=H.findIndex=H.find=H.contains=void 0,H.contains=function(e,t){return-1!==e.indexOf(t)},H.remove=function(e,t){return e.splice(e.indexOf(t),1)};var fn=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r]);return e};H.merge=fn,H.from=function(e){return fn([],e)};var hn=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return r;return-1};H.findIndex=hn,H.find=function(e,t){return e[hn(e,t)]};var me={};function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pt(e,t){return(pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(me,"__esModule",{value:!0}),me.DropEvent=void 0;var gn=function(e){!function(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),c&&pt(l,c)}(u,e);var t,r,o,i,s=(o=u,i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,c=Ve(o);if(i){var f=Ve(this).constructor;l=Reflect.construct(c,arguments,f)}else l=c.apply(this,arguments);return function mn(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}(this,l)});function u(l,c,f){var g;(function(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")})(this,u),qe(ze(g=s.call(this,c._interaction)),"dropzone",void 0),qe(ze(g),"dragEvent",void 0),qe(ze(g),"relatedTarget",void 0),qe(ze(g),"draggable",void 0),qe(ze(g),"propagationStopped",!1),qe(ze(g),"immediatePropagationStopped",!1);var v="dragleave"===f?l.prev:l.cur,b=v.element,T=v.dropzone;return g.type=f,g.target=b,g.currentTarget=b,g.dropzone=T,g.dragEvent=c,g.relatedTarget=c.target,g.draggable=c.interactable,g.timeStamp=c.timeStamp,g}return t=u,(r=[{key:"reject",value:function(){var l=this,c=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&c.cur.dropzone===this.dropzone&&c.cur.element===this.target)if(c.prev.dropzone=this.dropzone,c.prev.element=this.target,c.rejected=!0,c.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var g=H.findIndex(c.activeDrops,function(b){return b.dropzone===l.dropzone&&b.element===l.target});c.activeDrops.splice(g,1);var v=new u(c,this.dragEvent,"dropdeactivate");v.dropzone=this.dropzone,v.target=this.target,this.dropzone.fire(v)}else this.dropzone.fire(new u(c,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function Mr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Ue.BaseEvent);me.DropEvent=gn;var Mt={};function Et(e,t){for(var r=0;r<e.slice().length;r++){var o=e.slice()[r],i=o.dropzone,s=o.element;t.dropzone=i,t.target=s,i.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function vn(e,t){for(var r=function(s,u){for(var l=s.interactables,c=[],f=0;f<l.list.length;f++){var g=l.list[f];if(g.options.drop.enabled){var v=g.options.drop.accept;if(!(w.default.element(v)&&v!==u||w.default.string(v)&&!I.matchesSelector(u,v)||w.default.func(v)&&!v({dropzone:g,draggableElement:u})))for(var b=w.default.string(g.target)?g._context.querySelectorAll(g.target):w.default.array(g.target)?g.target:[g.target],T=0;T<b.length;T++){var y=b[T];y!==u&&c.push({dropzone:g,element:y,rect:g.getRect(y)})}}}return c}(e,t),o=0;o<r.length;o++){var i=r[o];i.rect=i.dropzone.getRect(i.element)}return r}function Ft(e,t,r){for(var o=e.dropState,i=e.interactable,s=e.element,u=[],l=0;l<o.activeDrops.length;l++){var c=o.activeDrops[l],g=c.element;u.push(c.dropzone.dropCheck(t,r,i,s,g,c.rect)?g:null)}var b=I.indexOfDeepestElement(u);return o.activeDrops[b]||null}function yn(e,t,r){var o=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===r.type&&(i.activate=new me.DropEvent(o,r,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===r.type&&(i.deactivate=new me.DropEvent(o,r,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),o.rejected||(o.cur.element!==o.prev.element&&(o.prev.dropzone&&(i.leave=new me.DropEvent(o,r,"dragleave"),r.dragLeave=i.leave.target=o.prev.element,r.prevDropzone=i.leave.dropzone=o.prev.dropzone),o.cur.dropzone&&(i.enter=new me.DropEvent(o,r,"dragenter"),r.dragEnter=o.cur.element,r.dropzone=o.cur.dropzone)),"dragend"===r.type&&o.cur.dropzone&&(i.drop=new me.DropEvent(o,r,"drop"),r.dropzone=o.cur.dropzone,r.relatedTarget=o.cur.element),"dragmove"===r.type&&o.cur.dropzone&&(i.move=new me.DropEvent(o,r,"dropmove"),i.move.dragmove=r,r.dropzone=o.cur.dropzone)),i}function Ot(e,t){var r=e.dropState,o=r.activeDrops,i=r.cur;t.leave&&r.prev.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&Et(o,t.deactivate),r.prev.dropzone=i.dropzone,r.prev.element=i.element}function Zn(e,t){var r=e.interaction,o=e.iEvent,i=e.event;if("dragmove"===o.type||"dragend"===o.type){var s=r.dropState;t.dynamicDrop&&(s.activeDrops=vn(t,r.element));var u=o,l=Ft(r,u,i);s.rejected=s.rejected&&!!l&&l.dropzone===s.cur.dropzone&&l.element===s.cur.element,s.cur.dropzone=l&&l.dropzone,s.cur.element=l&&l.element,s.events=yn(r,0,u)}}Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=void 0;var jt={id:"actions/drop",install:function(e){var t=e.actions,r=e.interactStatic,o=e.Interactable,i=e.defaults;e.usePlugin(it.default),o.prototype.dropzone=function(s){return function(u,l){if(w.default.object(l)){if(u.options.drop.enabled=!1!==l.enabled,l.listeners){var c=(0,Re.default)(l.listeners),f=Object.keys(c).reduce(function(g,v){return g[/^(enter|leave)/.test(v)?"drag".concat(v):/^(activate|deactivate|move)/.test(v)?"drop".concat(v):v]=c[v],g},{});u.off(u.options.drop.listeners),u.on(f),u.options.drop.listeners=f}return w.default.func(l.ondrop)&&u.on("drop",l.ondrop),w.default.func(l.ondropactivate)&&u.on("dropactivate",l.ondropactivate),w.default.func(l.ondropdeactivate)&&u.on("dropdeactivate",l.ondropdeactivate),w.default.func(l.ondragenter)&&u.on("dragenter",l.ondragenter),w.default.func(l.ondragleave)&&u.on("dragleave",l.ondragleave),w.default.func(l.ondropmove)&&u.on("dropmove",l.ondropmove),/^(pointer|center)$/.test(l.overlap)?u.options.drop.overlap=l.overlap:w.default.number(l.overlap)&&(u.options.drop.overlap=Math.max(Math.min(1,l.overlap),0)),"accept"in l&&(u.options.drop.accept=l.accept),"checker"in l&&(u.options.drop.checker=l.checker),u}return w.default.bool(l)?(u.options.drop.enabled=l,u):u.options.drop}(this,s)},o.prototype.dropCheck=function(s,u,l,c,f,g){return function(v,b,T,y,C,x,P){var R=!1;if(!(P=P||v.getRect(x)))return!!v.options.drop.checker&&v.options.drop.checker(b,T,R,v,x,y,C);var $=v.options.drop.overlap;if("pointer"===$){var N=(0,$e.default)(y,C,"drag"),W=F.getPageXY(b);W.x+=N.x,W.y+=N.y,R=W.x>P.left&&W.x<P.right&&W.y>P.top&&W.y<P.bottom}var q=y.getRect(C);if(q&&"center"===$){var Ce=q.left+q.width/2,We=q.top+q.height/2;R=Ce>=P.left&&Ce<=P.right&&We>=P.top&&We<=P.bottom}return q&&w.default.number($)&&(R=Math.max(0,Math.min(P.right,q.right)-Math.max(P.left,q.left))*Math.max(0,Math.min(P.bottom,q.bottom)-Math.max(P.top,q.top))/(q.width*q.height)>=$),v.options.drop.checker&&(R=v.options.drop.checker(b,T,R,v,x,y,C)),R}(this,s,u,l,c,f,g)},r.dynamicDrop=function(s){return w.default.bool(s)?(e.dynamicDrop=s,r):e.dynamicDrop},(0,E.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=jt.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var r=e.interaction,o=e.iEvent;if("drag"===r.prepared.name){var i=r.dropState;i.activeDrops=null,i.events=null,i.activeDrops=vn(t,r.element),i.events=yn(r,0,o),i.events.activate&&(Et(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:r,dragEvent:o}))}},"interactions:action-move":Zn,"interactions:after-action-move":function(e,t){var r=e.interaction,o=e.iEvent;"drag"===r.prepared.name&&(Ot(r,r.dropState.events),t.fire("actions/drop:move",{interaction:r,dragEvent:o}),r.dropState.events={})},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var r=e.interaction,o=e.iEvent;Zn(e,t),Ot(r,r.dropState.events),t.fire("actions/drop:end",{interaction:r,dragEvent:o})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var r=t.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:vn,getDrop:Ft,getDropEvents:yn,fireDropEvents:Ot,defaults:{enabled:!1,accept:null,overlap:"pointer"}};Mt.default=jt;var Rt={};function bn(e){var t=e.interaction,r=e.iEvent,o=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map(function(f){return f.pointer}),s="start"===o,u="end"===o,l=t.interactable.options.deltaSource;if(r.touches=[i[0],i[1]],s)r.distance=F.touchDistance(i,l),r.box=F.touchBBox(i),r.scale=1,r.ds=0,r.angle=F.touchAngle(i,l),r.da=0,t.gesture.startDistance=r.distance,t.gesture.startAngle=r.angle;else if(u){var c=t.prevEvent;r.distance=c.distance,r.box=c.box,r.scale=c.scale,r.ds=0,r.angle=c.angle,r.da=0}else r.distance=F.touchDistance(i,l),r.box=F.touchBBox(i),r.scale=r.distance/t.gesture.startDistance,r.angle=F.touchAngle(i,l),r.ds=r.scale-t.gesture.scale,r.da=r.angle-t.gesture.angle;t.gesture.distance=r.distance,t.gesture.angle=r.angle,w.default.number(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(t.gesture.scale=r.scale)}}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var _n={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,o=e.defaults;e.Interactable.prototype.gesturable=function(i){return w.default.object(i)?(this.options.gesture.enabled=!1!==i.enabled,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):w.default.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},t.map.gesture=_n,t.methodDict.gesture="gesturable",o.actions.gesture=_n.defaults},listeners:{"interactions:action-start":bn,"interactions:action-move":bn,"interactions:action-end":bn,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}};Rt.default=_n;var Xe={};function Dt(e,t,r,o,i,s,u){if(!t)return!1;if(!0===t){var l=w.default.number(s.width)?s.width:s.right-s.left,c=w.default.number(s.height)?s.height:s.bottom-s.top;if(u=Math.min(u,Math.abs(("left"===e||"right"===e?l:c)/2)),l<0&&("left"===e?e="right":"right"===e&&(e="left")),c<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return r.x<(l>=0?s.left:s.right)+u;if("top"===e)return r.y<(c>=0?s.top:s.bottom)+u;if("right"===e)return r.x>(l>=0?s.right:s.left)-u;if("bottom"===e)return r.y>(c>=0?s.bottom:s.top)-u}return!!w.default.element(o)&&(w.default.element(t)?t===o:I.matchesUpTo(o,t,i))}function It(e){var r=e.interaction;if("resize"===r.prepared.name&&r.resizeAxes){var o=e.iEvent;r.interactable.options.resize.square?("y"===r.resizeAxes?o.delta.x=o.delta.y:o.delta.y=o.delta.x,o.axes="xy"):(o.axes=r.resizeAxes,"x"===r.resizeAxes?o.delta.y=0:"y"===r.resizeAxes&&(o.delta.x=0))}}Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var _e={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,r=e.browser,o=e.Interactable,i=e.defaults;_e.cursors=r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},_e.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,o.prototype.resizable=function(s){return u=this,c=e,w.default.object(l=s)?(u.options.resize.enabled=!1!==l.enabled,u.setPerAction("resize",l),u.setOnEvents("resize",l),w.default.string(l.axis)&&/^x$|^y$|^xy$/.test(l.axis)?u.options.resize.axis=l.axis:null===l.axis&&(u.options.resize.axis=c.defaults.actions.resize.axis),w.default.bool(l.preserveAspectRatio)?u.options.resize.preserveAspectRatio=l.preserveAspectRatio:w.default.bool(l.square)&&(u.options.resize.square=l.square),u):w.default.bool(l)?(u.options.resize.enabled=l,u):u.options.resize;var u,l,c},t.map.resize=_e,t.methodDict.resize="resizable",i.actions.resize=_e.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var o=t.interaction;if("resize"===o.prepared.name&&o.prepared.edges){var i=t.iEvent,s=o.rect;o._rects={start:(0,E.default)({},s),corrected:(0,E.default)({},s),previous:(0,E.default)({},s),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=o.prepared.edges,i.rect=o._rects.corrected,i.deltaRect=o._rects.delta}})(e),It(e)},"interactions:action-move":function(e){(function(t){var o=t.interaction;if("resize"===o.prepared.name&&o.prepared.edges){var i=t.iEvent,s=o.interactable.options.resize.invert,u="reposition"===s||"negate"===s,l=o.rect,c=o._rects,f=c.start,g=c.corrected,v=c.delta,b=c.previous;if((0,E.default)(b,g),u){if((0,E.default)(g,l),"reposition"===s){if(g.top>g.bottom){var T=g.top;g.top=g.bottom,g.bottom=T}if(g.left>g.right){var y=g.left;g.left=g.right,g.right=y}}}else g.top=Math.min(l.top,f.bottom),g.bottom=Math.max(l.bottom,f.top),g.left=Math.min(l.left,f.right),g.right=Math.max(l.right,f.left);for(var C in g.width=g.right-g.left,g.height=g.bottom-g.top,g)v[C]=g[C]-b[C];i.edges=o.prepared.edges,i.rect=g,i.deltaRect=v}})(e),It(e)},"interactions:action-end":function(e){var r=e.interaction;if("resize"===r.prepared.name&&r.prepared.edges){var o=e.iEvent;o.edges=r.prepared.edges,o.rect=r._rects.corrected,o.deltaRect=r._rects.delta}},"auto-start:check":function(e){var t=e.interaction,r=e.interactable,o=e.element,i=e.rect,s=e.buttons;if(i){var u=(0,E.default)({},t.coords.cur.page),l=r.options.resize;if(l&&l.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||s&l.mouseButtons)){if(w.default.object(l.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var f in c)c[f]=Dt(f,l.edges[f],u,t._latestPointer.eventTarget,o,i,l.margin||_e.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{var g="y"!==l.axis&&u.x>i.right-_e.defaultMargin,v="x"!==l.axis&&u.y>i.bottom-_e.defaultMargin;(g||v)&&(e.action={name:"resize",axes:(g?"x":"")+(v?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,r=e.axis,i=_e.cursors,s=null;if(r)s=i[e.name+r];else if(t){for(var u="",l=["top","bottom","left","right"],c=0;c<l.length;c++){var f=l[c];t[f]&&(u+=f)}s=i[u]}return s},defaultMargin:null};Xe.default=_e;var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0,dt.default={id:"actions",install:function(e){e.usePlugin(Rt.default),e.usePlugin(Xe.default),e.usePlugin(it.default),e.usePlugin(Mt.default)}};var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var Pe,Se,er=0;ge.default={request:function(e){return Pe(e)},cancel:function(e){return Se(e)},init:function(e){if(Se=e.cancelAnimationFrame,!(Pe=e.requestAnimationFrame))for(var t=["ms","moz","webkit","o"],r=0;r<t.length;r++){var o=t[r];Pe=e["".concat(o,"RequestAnimationFrame")],Se=e["".concat(o,"CancelAnimationFrame")]||e["".concat(o,"CancelRequestAnimationFrame")]}Pe=Pe&&Pe.bind(e),Se=Se&&Se.bind(e),Pe||(Pe=function(i){var s=Date.now(),u=Math.max(0,16-(s-er)),l=e.setTimeout(function(){i(s+u)},u);return er=s+u,l},Se=function(i){return clearTimeout(i)})}};var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0,ke.getContainer=xe,ke.getScroll=Be,ke.getScrollSize=function(e){return w.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},ke.getScrollSizeDelta=function(e,t){var r=e.interaction,o=e.element,i=r&&r.interactable.options[r.prepared.name].autoScroll;if(!i||!i.enabled)return t(),{x:0,y:0};var s=xe(i.container,r.interactable,o),u=Be(s);t();var l=Be(s);return{x:l.x-u.x,y:l.y-u.y}};var A={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){A.isScrolling=!0,ge.default.cancel(A.i),e.autoScroll=A,A.interaction=e,A.prevTime=A.now(),A.i=ge.default.request(A.scroll)},stop:function(){A.isScrolling=!1,A.interaction&&(A.interaction.autoScroll=null),ge.default.cancel(A.i)},scroll:function(){var e=A.interaction,t=e.interactable,r=e.element,i=t.options[e.prepared.name].autoScroll,s=xe(i.container,t,r),u=A.now(),c=i.speed*((u-A.prevTime)/1e3);if(c>=1){var f={x:A.x*c,y:A.y*c};if(f.x||f.y){var g=Be(s);w.default.window(s)?s.scrollBy(f.x,f.y):s&&(s.scrollLeft+=f.x,s.scrollTop+=f.y);var v=Be(s),b={x:v.x-g.x,y:v.y-g.y};(b.x||b.y)&&t.fire({type:"autoscroll",target:r,interactable:t,delta:b,interaction:e,container:s})}A.prevTime=u}A.isScrolling&&(ge.default.cancel(A.i),A.i=ge.default.request(A.scroll))},check:function(e,t){var r;return null==(r=e.options[t].autoScroll)?void 0:r.enabled},onInteractionMove:function(e){var t=e.interaction,r=e.pointer;if(t.interacting()&&A.check(t.interactable,t.prepared.name))if(t.simulation)A.x=A.y=0;else{var o,i,s,u,l=t.interactable,g=l.options[t.prepared.name].autoScroll,v=xe(g.container,l,t.element);if(w.default.window(v))u=r.clientX<A.margin,o=r.clientY<A.margin,i=r.clientX>v.innerWidth-A.margin,s=r.clientY>v.innerHeight-A.margin;else{var b=I.getElementClientRect(v);u=r.clientX<b.left+A.margin,o=r.clientY<b.top+A.margin,i=r.clientX>b.right-A.margin,s=r.clientY>b.bottom-A.margin}A.x=i?1:u?-1:0,A.y=s?1:o?-1:0,A.isScrolling||(A.margin=g.margin,A.speed=g.speed,A.start(t))}}};function xe(e,t,r){return(w.default.string(e)?(0,V.getStringOptionResult)(e,t,r):e)||(0,B.getWindow)(r)}function Be(e){return w.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}ke.default={id:"auto-scroll",install:function(e){var t=e.defaults,r=e.actions;e.autoScroll=A,A.now=function(){return e.now()},r.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=A.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,A.stop(),A.interaction&&(A.interaction=null)},"interactions:stop":A.stop,"interactions:action-move":function(e){return A.onInteractionMove(e)}}};var pe={};Object.defineProperty(pe,"__esModule",{value:!0}),pe.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},pe.sign=void 0,pe.warnOnce=function(e,t){var r=!1;return function(){return r||(B.window.console.warn(t),r=!0),e.apply(this,arguments)}},pe.sign=function(e){return e>=0?1:-1};var Ke={};function Dr(e){return w.default.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function wn(e){return w.default.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0,Ke.default={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(r,o,i,s){var l,c,f,g,v,b,T,u=(c=o,f=i,v=e,b=(l=this).getRect(g=s),v.fire("auto-start:check",T={action:null,interactable:l,interaction:f,element:g,rect:b,buttons:c.buttons||{0:1,1:4,3:8,4:16}[c.button]}),T.action);return this.options.actionChecker?this.options.actionChecker(r,o,u,this,s,i):u},t.prototype.ignoreFrom=(0,pe.warnOnce)(function(r){return this._backCompatOption("ignoreFrom",r)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,pe.warnOnce)(function(r){return this._backCompatOption("allowFrom",r)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=wn,t.prototype.styleCursor=Dr}};var De={};function rr(e,t,r,o,i){return t.testIgnoreAllow(t.options[e.name],r,o)&&t.options[e.name].enabled&&ft(t,r,e,i)?e:null}function or(e,t,r,o,i,s,u){for(var l=0,c=o.length;l<c;l++){var f=o[l],g=i[l],v=f.getAction(t,r,e,g);if(v){var b=rr(v,f,g,s,u);if(b)return{action:b,interactable:f,element:g}}}return{action:null,interactable:null,element:null}}function Tn(e,t,r,o,i){var s=[],u=[],l=o;function c(g){s.push(g),u.push(l)}for(;w.default.element(l);){s=[],u=[],i.interactables.forEachMatch(l,c);var f=or(e,t,r,s,u,o,i);if(f.action&&!f.interactable.options[f.action.name].manualStart)return f;l=I.parentNode(l)}return{action:null,interactable:null,element:null}}function At(e,t,r){var o=t.action,i=t.interactable,s=t.element;o=o||{name:null},e.interactable=i,e.element=s,(0,pe.copyAction)(e.prepared,o),e.rect=i&&o.name?i.getRect(s):null,ir(e,r),r.fire("autoStart:prepared",{interaction:e})}function ft(e,t,r,o){var i=e.options,s=i[r.name].max,u=i[r.name].maxPerElement,l=o.autoStart.maxInteractions,c=0,f=0,g=0;if(!(s&&u&&l))return!1;for(var v=0;v<o.interactions.list.length;v++){var b=o.interactions.list[v],T=b.prepared.name;if(b.interacting()&&(++c>=l||b.interactable===e&&((f+=T===r.name?1:0)>=s||b.element===t&&(g++,T===r.name&&g>=u))))return!1}return l>0}function $t(e,t){return w.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function zt(e,t,r){var o=r.autoStart.cursorElement;o&&o!==e&&(o.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,r.autoStart.cursorElement=t?e:null}function ir(e,t){var r=e.interactable,o=e.element,i=e.prepared;if("mouse"===e.pointerType&&r&&r.options.styleCursor){var s="";if(i.name){var u=r.options[i.name].cursorChecker;s=w.default.func(u)?u(i,r,o,e._interacting):t.actions.map[i.name].getCursor(i)}zt(e.element,s||"",t)}else t.autoStart.cursorElement&&zt(t.autoStart.cursorElement,"",t)}Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0,De.default={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,r=e.defaults;e.usePlugin(Ke.default),r.base.actionChecker=null,r.base.styleCursor=!0,(0,E.default)(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(o){return $t(o,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:ft,cursorElement:null}},listeners:{"interactions:down":function(e,t){var r=e.interaction,o=e.pointer,i=e.event,s=e.eventTarget;r.interacting()||At(r,Tn(r,o,i,s,t),t)},"interactions:move":function(e,t){var r,o,i,s,u,l;o=t,s=(r=e).pointer,u=r.event,l=r.eventTarget,"mouse"!==(i=r.interaction).pointerType||i.pointerIsDown||i.interacting()||At(i,Tn(i,s,u,l,o),o),function(r,o){var i=r.interaction;if(i.pointerIsDown&&!i.interacting()&&i.pointerWasMoved&&i.prepared.name){o.fire("autoStart:before-start",r);var s=i.interactable,u=i.prepared.name;u&&s&&(s.options[u].manualStart||!ft(s,i.element,i.prepared,o)?i.stop():(i.start(i.prepared,s,i.element),ir(i,o)))}}(e,t)},"interactions:stop":function(e,t){var r=e.interaction,o=r.interactable;o&&o.options.styleCursor&&zt(r.element,"",t)}},maxInteractions:$t,withinInteractionLimit:ft,validateAction:rr};var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0,Bt.default={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var r=e.interaction,o=e.eventTarget,s=e.dy;if("drag"===r.prepared.name){var u=Math.abs(e.dx),l=Math.abs(s),c=r.interactable.options.drag,f=c.startAxis,g=u>l?"x":u<l?"y":"xy";if(r.prepared.axis="start"===c.lockAxis?g[0]:c.lockAxis,"xy"!==g&&"xy"!==f&&f!==g){r.prepared.name=null;for(var v=o,b=function(y){if(y!==r.interactable){var C=r.interactable.options.drag;if(!C.manualStart&&y.testIgnoreAllow(C,v,o)){var x=y.getAction(r.downPointer,r.downEvent,r,v);if(x&&"drag"===x.name&&function(P,R){if(!R)return!1;var $=R.options.drag.startAxis;return"xy"===P||"xy"===$||$===P}(g,y)&&De.default.validateAction(x,y,v,o,t))return y}}};w.default.element(v);){var T=t.interactables.forEachMatch(v,b);if(T){r.prepared.name="drag",r.interactable=T,r.element=v;break}v=(0,I.parentNode)(v)}}}}}};var ht={};function Sn(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var r=e.interactable.options;return r[t].hold||r[t].delay}Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0,ht.default={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(De.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,r=Sn(t);r>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},r))},"interactions:move":function(e){var t=e.interaction;t.autoStartHoldTimer&&t.pointerWasMoved&&!e.duplicate&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;Sn(t)>0&&(t.prepared.name=null)}},getHoldDuration:Sn};var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0,mt.default={id:"auto-start",install:function(e){e.usePlugin(De.default),e.usePlugin(ht.default),e.usePlugin(Bt.default)}};var Ne={};function En(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):w.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function Nt(e){var t=e.interaction;t.interactable&&t.interactable.checkAndPreventDefault(e.event)}function Gt(e){var t=e.Interactable;t.prototype.preventDefault=En,t.prototype.checkAndPreventDefault=function(r){return function(o,i,s){var u=o.options.preventDefault;if("never"!==u)if("always"!==u){if(i.events.supportsPassive&&/^touch(start|move)$/.test(s.type)){var l=(0,B.getWindow)(s.target).document,c=i.getDocOptions(l);if(!c||!c.events||!1!==c.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(s.type)||w.default.element(s.target)&&(0,I.matchesSelector)(s.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||s.preventDefault()}else s.preventDefault()}(this,e,r)},e.interactions.docEvents.push({type:"dragstart",listener:function(r){for(var o=0;o<e.interactions.list.length;o++){var i=e.interactions.list[o];if(i.element&&(i.element===r.target||(0,I.nodeContains)(i.element,r.target)))return void i.interactable.checkAndPreventDefault(r)}}})}Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0,Ne.install=Gt;var Co={id:"core/interactablePreventDefault",install:Gt,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=Nt,e},{})};Ne.default=Co;var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0,gt.default={};var Yt,e,Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0,(e=Yt||(Yt={})).touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners",Je.default={id:"dev-tools",install:function(){}};var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=function e(t){var r={};for(var o in t){var i=t[o];r[o]=w.default.plainObject(i)?e(i):w.default.array(i)?H.from(i):i}return r};var Qe={};function Lt(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,o){var i=null==r?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(null!=i){var s,u,l=[],c=!0,f=!1;try{for(i=i.call(r);!(c=(s=i.next()).done)&&(l.push(s.value),!o||l.length!==o);c=!0);}catch(g){f=!0,u=g}finally{try{c||null==i.return||i.return()}finally{if(f)throw u}}return l}}(e,t)||function(r,o){if(r){if("string"==typeof r)return zr(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?Array.from(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?zr(r,o):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function Ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0,Qe.getRectOffset=sr;var ar=function(){function e(o){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Ge(this,"states",[]),Ge(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Ge(this,"startDelta",void 0),Ge(this,"result",void 0),Ge(this,"endResult",void 0),Ge(this,"edges",void 0),Ge(this,"interaction",void 0),this.interaction=o,this.result=Ht()}var t,r;return t=e,(r=[{key:"start",value:function(o,i){var f,g,v,s=o.phase,u=this.interaction,l=(v=(g=(f=u).interactable.options[f.prepared.name]).modifiers)&&v.length?v:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(b){var T=g[b];return T&&T.enabled&&{options:T,methods:T._methods}}).filter(function(b){return!!b});this.prepareStates(l),this.edges=(0,E.default)({},u.edges),this.startOffset=sr(u.rect,i),this.startDelta={x:0,y:0};var c=this.fillArg({phase:s,pageCoords:i,preEnd:!1});return this.result=Ht(),this.startAll(c),this.result=this.setAll(c)}},{key:"fillArg",value:function(o){var i=this.interaction;return o.interaction=i,o.interactable=i.interactable,o.element=i.element,o.rect=o.rect||i.rect,o.edges=this.edges,o.startOffset=this.startOffset,o}},{key:"startAll",value:function(o){for(var i=0;i<this.states.length;i++){var s=this.states[i];s.methods.start&&(o.state=s,s.methods.start(o))}}},{key:"setAll",value:function(o){var i=o.phase,s=o.preEnd,u=o.skipModifiers,l=o.rect;o.coords=(0,E.default)({},o.pageCoords),o.rect=(0,E.default)({},l);for(var c=u?this.states.slice(u):this.states,f=Ht(o.coords,o.rect),g=0;g<c.length;g++){var v,b=c[g],T=b.options,y=(0,E.default)({},o.coords),C=null;null!=(v=b.methods)&&v.set&&this.shouldDo(T,s,i)&&(o.state=b,C=b.methods.set(o),V.addEdges(this.interaction.edges,o.rect,{x:o.coords.x-y.x,y:o.coords.y-y.y})),f.eventProps.push(C)}f.delta.x=o.coords.x-o.pageCoords.x,f.delta.y=o.coords.y-o.pageCoords.y,f.rectDelta.left=o.rect.left-l.left,f.rectDelta.right=o.rect.right-l.right,f.rectDelta.top=o.rect.top-l.top,f.rectDelta.bottom=o.rect.bottom-l.bottom;var x=this.result.coords,P=this.result.rect;return x&&P&&(f.changed=f.rect.left!==P.left||f.rect.right!==P.right||f.rect.top!==P.top||f.rect.bottom!==P.bottom||x.x!==f.coords.x||x.y!==f.coords.y),f}},{key:"applyToInteraction",value:function(o){var i=this.interaction,u=i.coords.cur,l=i.coords.start,c=this.result,f=this.startDelta,g=c.delta;"start"===o.phase&&(0,E.default)(this.startDelta,c.delta);for(var v=0;v<2;v++){var b=Lt([[l,f],[u,g]][v],2),T=b[0],y=b[1];T.page.x+=y.x,T.page.y+=y.y,T.client.x+=y.x,T.client.y+=y.y}var C=this.result.rectDelta,x=o.rect||i.rect;x.left+=C.left,x.right+=C.right,x.top+=C.top,x.bottom+=C.bottom,x.width=x.right-x.left,x.height=x.bottom-x.top}},{key:"setAndApply",value:function(o){var i=this.interaction,l=o.skipModifiers,c=this.setAll(this.fillArg({preEnd:o.preEnd,phase:o.phase,pageCoords:o.modifiedCoords||i.coords.cur.page}));if(this.result=c,!c.changed&&(!l||l<this.states.length)&&i.interacting())return!1;if(o.modifiedCoords){var f=i.coords.cur.page,g={x:o.modifiedCoords.x-f.x,y:o.modifiedCoords.y-f.y};c.coords.x+=g.x,c.coords.y+=g.y,c.delta.x+=g.x,c.delta.y+=g.y}this.applyToInteraction(o)}},{key:"beforeEnd",value:function(o){var i=o.interaction,s=o.event,u=this.states;if(u&&u.length){for(var l=!1,c=0;c<u.length;c++){var f=u[c];o.state=f;var g=f.options,v=f.methods,b=v.beforeEnd&&v.beforeEnd(o);if(b)return this.endResult=b,!1;l=l||!l&&this.shouldDo(g,!0,o.phase,!0)}l&&i.move({event:s,preEnd:!0})}}},{key:"stop",value:function(o){var i=o.interaction;if(this.states&&this.states.length){var s=(0,E.default)({states:this.states,interactable:i.interactable,element:i.element,rect:null},o);this.fillArg(s);for(var u=0;u<this.states.length;u++){var l=this.states[u];s.state=l,l.methods.stop&&l.methods.stop(s)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(o){this.states=[];for(var i=0;i<o.length;i++){var s=o[i];this.states.push({options:s.options,methods:s.methods,index:i,name:s.name})}return this.states}},{key:"restoreInteractionCoords",value:function(o){var i=o.interaction,s=i.coords,u=i.rect,l=i.modification;if(l.result){for(var f=l.result,v=f.rectDelta,b=[[s.start,l.startDelta],[s.cur,f.delta]],T=0;T<b.length;T++){var y=Lt(b[T],2),C=y[0],x=y[1];C.page.x-=x.x,C.page.y-=x.y,C.client.x-=x.x,C.client.y-=x.y}u.left-=v.left,u.right-=v.right,u.top-=v.top,u.bottom-=v.bottom}}},{key:"shouldDo",value:function(o,i,s,u){return!(!o||!1===o.enabled||u&&!o.endOnly||o.endOnly&&!i||"start"===s&&!o.setStart)}},{key:"copyFrom",value:function(o){this.startOffset=o.startOffset,this.startDelta=o.startDelta,this.edges=o.edges,this.states=o.states.map(function(i){return(0,Me.default)(i)}),this.result=Ht((0,E.default)({},o.result.coords),(0,E.default)({},o.result.rect))}},{key:"destroy",value:function(){for(var o in this)this[o]=null}}])&&function Fn(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ht(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function sr(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Qe.default=ar;var re={};function Wt(e){var r=e.interaction.modification.result;r&&(e.iEvent.modifiers=r.eventProps)}Object.defineProperty(re,"__esModule",{value:!0}),re.addEventModifiers=Wt,re.default=void 0,re.makeModifier=function(e,t){var r=e.defaults,o={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(s){var u=s||{};for(var l in u.enabled=!1!==u.enabled,r)l in u||(u[l]=r[l]);var c={options:u,methods:o,name:t,enable:function(){return u.enabled=!0,c},disable:function(){return u.enabled=!1,c}};return c};return t&&"string"==typeof t&&(i._defaults=r,i._methods=o),i},re.default={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Qe.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Wt,"interactions:action-move":Wt,"interactions:action-end":Wt,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}};var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.defaults=void 0,vt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var yt={};function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jn(e,t){return(jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(yt,"__esModule",{value:!0}),yt.InteractEvent=void 0;var Ye=function(e){!function(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),c&&jn(l,c)}(u,e);var t,r,o,i,s=(o=u,i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,c=D(o);if(i){var f=D(this).constructor;l=Reflect.construct(c,arguments,f)}else l=c.apply(this,arguments);return function Yr(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}(this,l)});function u(l,c,f,g,v,b,T){var y;(function(X,Y){if(!(X instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,u),M(U(y=s.call(this,l)),"relatedTarget",null),M(U(y),"screenX",void 0),M(U(y),"screenY",void 0),M(U(y),"button",void 0),M(U(y),"buttons",void 0),M(U(y),"ctrlKey",void 0),M(U(y),"shiftKey",void 0),M(U(y),"altKey",void 0),M(U(y),"metaKey",void 0),M(U(y),"page",void 0),M(U(y),"client",void 0),M(U(y),"delta",void 0),M(U(y),"rect",void 0),M(U(y),"x0",void 0),M(U(y),"y0",void 0),M(U(y),"t0",void 0),M(U(y),"dt",void 0),M(U(y),"duration",void 0),M(U(y),"clientX0",void 0),M(U(y),"clientY0",void 0),M(U(y),"velocity",void 0),M(U(y),"speed",void 0),M(U(y),"swipe",void 0),M(U(y),"axes",void 0),M(U(y),"preEnd",void 0);var C=l.interactable,x=(C&&C.options||vt.defaults).deltaSource,P=(0,$e.default)(C,v=v||l.element,f),R="start"===g,$="end"===g,N=R?U(y):l.prevEvent,W=R?l.coords.start:$?{page:N.page,client:N.client,timeStamp:l.coords.cur.timeStamp}:l.coords.cur;return y.page=(0,E.default)({},W.page),y.client=(0,E.default)({},W.client),y.rect=(0,E.default)({},l.rect),y.timeStamp=W.timeStamp,$||(y.page.x-=P.x,y.page.y-=P.y,y.client.x-=P.x,y.client.y-=P.y),y.ctrlKey=c.ctrlKey,y.altKey=c.altKey,y.shiftKey=c.shiftKey,y.metaKey=c.metaKey,y.button=c.button,y.buttons=c.buttons,y.target=v,y.currentTarget=v,y.preEnd=b,y.type=T||f+(g||""),y.interactable=C,y.t0=R?l.pointers[l.pointers.length-1].downTime:N.t0,y.x0=l.coords.start.page.x-P.x,y.y0=l.coords.start.page.y-P.y,y.clientX0=l.coords.start.client.x-P.x,y.clientY0=l.coords.start.client.y-P.y,y.delta=R||$?{x:0,y:0}:{x:y[x].x-N[x].x,y:y[x].y-N[x].y},y.dt=l.coords.delta.timeStamp,y.duration=y.timeStamp-y.t0,y.velocity=(0,E.default)({},l.coords.velocity[x]),y.speed=(0,be.default)(y.velocity.x,y.velocity.y),y.swipe=$||"inertiastart"===g?y.getSwipe():null,y}return t=u,(r=[{key:"getSwipe",value:function(){var l=this._interaction;if(l.prevEvent.speed<600||this.timeStamp-l.prevEvent.timeStamp>150)return null;var c=180*Math.atan2(l.prevEvent.velocityY,l.prevEvent.velocityX)/Math.PI;c<0&&(c+=360);var f=112.5<=c&&c<247.5,g=202.5<=c&&c<337.5;return{up:g,down:!g&&22.5<=c&&c<157.5,left:f,right:!f&&(292.5<=c||c<67.5),angle:c,speed:l.prevEvent.speed,velocity:{x:l.prevEvent.velocityX,y:l.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function Gr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Ue.BaseEvent);yt.InteractEvent=Ye,Object.defineProperties(Ye.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var bt={};function lr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(bt,"__esModule",{value:!0}),bt.PointerInfo=void 0;var Hr=function Lr(e,t,r){return t&&lr(e.prototype,t),r&&lr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,r,o,i,s){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),_t(this,"id",void 0),_t(this,"pointer",void 0),_t(this,"event",void 0),_t(this,"downTime",void 0),_t(this,"downTarget",void 0),this.id=t,this.pointer=r,this.event=o,this.downTime=i,this.downTarget=s});bt.PointerInfo=Hr;var Ze,et,ce={};function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(ce,"__esModule",{value:!0}),ce.Interaction=void 0,Object.defineProperty(ce,"PointerInfo",{enumerable:!0,get:function(){return bt.PointerInfo}}),ce.default=ce._ProxyValues=ce._ProxyMethods=void 0,ce._ProxyValues=Ze,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Ze||(ce._ProxyValues=Ze={})),ce._ProxyMethods=et,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(et||(ce._ProxyMethods=et={}));var Ur=0,Rn=function(){function e(o){var i=this,s=o.pointerType,u=o.scopeFire;(function(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")})(this,e),J(this,"interactable",null),J(this,"element",null),J(this,"rect",null),J(this,"_rects",void 0),J(this,"edges",null),J(this,"_scopeFire",void 0),J(this,"prepared",{name:null,axis:null,edges:null}),J(this,"pointerType",void 0),J(this,"pointers",[]),J(this,"downEvent",null),J(this,"downPointer",{}),J(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),J(this,"prevEvent",null),J(this,"pointerIsDown",!1),J(this,"pointerWasMoved",!1),J(this,"_interacting",!1),J(this,"_ending",!1),J(this,"_stopped",!0),J(this,"_proxy",null),J(this,"simulation",null),J(this,"doMove",(0,pe.warnOnce)(function(b){this.move(b)},"The interaction.doMove() method has been renamed to interaction.move()")),J(this,"coords",{start:F.newCoords(),prev:F.newCoords(),cur:F.newCoords(),delta:F.newCoords(),velocity:F.newCoords()}),J(this,"_id",Ur++),this._scopeFire=u,this.pointerType=s;var l=this;this._proxy={};var c=function(b){Object.defineProperty(i._proxy,b,{get:function(){return l[b]}})};for(var f in Ze)c(f);var g=function(b){Object.defineProperty(i._proxy,b,{value:function(){return l[b].apply(l,arguments)}})};for(var v in et)g(v);this._scopeFire("interactions:new",{interaction:this})}var t,r;return t=e,(r=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(o,i,s){var u=this.updatePointer(o,i,s,!0);this._scopeFire("interactions:down",{pointer:o,event:i,eventTarget:s,pointerIndex:u,pointerInfo:this.pointers[u],type:"down",interaction:this})}},{key:"start",value:function(o,i,s){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===o.name?2:1)||!i.options[o.name].enabled)&&((0,pe.copyAction)(this.prepared,o),this.interactable=i,this.element=s,this.rect=i.getRect(s),this.edges=this.prepared.edges?(0,E.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(o,i,s){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(o,i,s,!1);var u,l,c=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(this.pointerWasMoved=(0,be.default)(u=this.coords.cur.client.x-this.coords.start.client.x,l=this.coords.cur.client.y-this.coords.start.client.y)>this.pointerMoveTolerance);var f=this.getPointerIndex(o),g={pointer:o,pointerIndex:f,pointerInfo:this.pointers[f],event:i,type:"move",eventTarget:s,dx:u,dy:l,duplicate:c,interaction:this};c||F.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",g),c||this.simulation||(this.interacting()&&(g.type=null,this.move(g)),this.pointerWasMoved&&F.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(o){o&&o.event||F.setZeroCoords(this.coords.delta),(o=(0,E.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},o||{})).phase="move",this._doPhase(o)}},{key:"pointerUp",value:function(o,i,s,u){var l=this.getPointerIndex(o);-1===l&&(l=this.updatePointer(o,i,s,!1));var c=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire("interactions:".concat(c),{pointer:o,pointerIndex:l,pointerInfo:this.pointers[l],event:i,eventTarget:s,type:c,curEventTarget:u,interaction:this}),this.simulation||this.end(i),this.removePointer(o,i)}},{key:"documentBlur",value:function(o){this.end(o),this._scopeFire("interactions:blur",{event:o,type:"blur",interaction:this})}},{key:"end",value:function(o){var i;this._ending=!0,o=o||this._latestPointer.event,this.interacting()&&(i=this._doPhase({event:o,interaction:this,phase:"end"})),this._ending=!1,!0===i&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(o){var i=F.getPointerId(o);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:H.findIndex(this.pointers,function(s){return s.id===i})}},{key:"getPointerInfo",value:function(o){return this.pointers[this.getPointerIndex(o)]}},{key:"updatePointer",value:function(o,i,s,u){var l=F.getPointerId(o),c=this.getPointerIndex(o),f=this.pointers[c];return u=!1!==u&&(u||/(down|start)$/i.test(i.type)),f?f.pointer=o:(f=new bt.PointerInfo(l,o,i,null,null),c=this.pointers.length,this.pointers.push(f)),F.setCoords(this.coords.cur,this.pointers.map(function(g){return g.pointer}),this._now()),F.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),u&&(this.pointerIsDown=!0,f.downTime=this.coords.cur.timeStamp,f.downTarget=s,F.pointerExtend(this.downPointer,o),this.interacting()||(F.copyCoords(this.coords.start,this.coords.cur),F.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(o,i,s),this._scopeFire("interactions:update-pointer",{pointer:o,event:i,eventTarget:s,down:u,pointerInfo:f,pointerIndex:c,interaction:this}),c}},{key:"removePointer",value:function(o,i){var s=this.getPointerIndex(o);-1!==s&&(this._scopeFire("interactions:remove-pointer",{pointer:o,event:i,eventTarget:null,pointerIndex:s,pointerInfo:this.pointers[s],interaction:this}),this.pointers.splice(s,1),this.pointerIsDown=!1)}},{key:"_updateLatestPointer",value:function(o,i,s){this._latestPointer.pointer=o,this._latestPointer.event=i,this._latestPointer.eventTarget=s}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(o,i,s,u){return new yt.InteractEvent(this,o,this.prepared.name,i,this.element,s,u)}},{key:"_fireEvent",value:function(o){var i;null==(i=this.interactable)||i.fire(o),(!this.prevEvent||o.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=o)}},{key:"_doPhase",value:function(o){var i=o.event,s=o.phase,u=o.preEnd,l=o.type,c=this.rect;if(c&&"move"===s&&(V.addEdges(this.edges,c,this.coords.delta[this.interactable.options.deltaSource]),c.width=c.right-c.left,c.height=c.bottom-c.top),!1===this._scopeFire("interactions:before-action-".concat(s),o))return!1;var f=o.iEvent=this._createPreparedEvent(i,s,u,l);return this._scopeFire("interactions:action-".concat(s),o),"start"===s&&(this.prevEvent=f),this._fireEvent(f),this._scopeFire("interactions:after-action-".concat(s),o),!0}},{key:"_now",value:function(){return Date.now()}}])&&function Wr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();ce.Interaction=Rn,ce.default=Rn;var Ee={};function Dn(e){e.pointerIsDown&&(An(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function ur(e){In(e.interaction)}function In(e){if(!(r=e).offset.pending.x&&!r.offset.pending.y)return!1;var r,t=e.offset.pending;return An(e.coords.cur,t),An(e.coords.delta,t),V.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Vr(e){var t=e.x,r=e.y;this.offset.pending.x+=t,this.offset.pending.y+=r,this.offset.total.x+=t,this.offset.total.y+=r}function An(e,t){var r=e.page,o=e.client,i=t.x,s=t.y;r.x+=i,r.y+=s,o.x+=i,o.y+=s}Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.addTotal=Dn,Ee.applyPending=In,Ee.default=void 0,ce._ProxyMethods.offsetBy="",Ee.default={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Vr},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return Dn(e.interaction)},"interactions:before-action-start":ur,"interactions:before-action-move":ur,"interactions:before-action-end":function(e){var t=e.interaction;if(In(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};var Le={};function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=Le.InertiaState=void 0;var pr=function(){function e(o){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),te(this,"active",!1),te(this,"isModified",!1),te(this,"smoothEnd",!1),te(this,"allowResume",!1),te(this,"modification",void 0),te(this,"modifierCount",0),te(this,"modifierArg",void 0),te(this,"startCoords",void 0),te(this,"t0",0),te(this,"v0",0),te(this,"te",0),te(this,"targetOffset",void 0),te(this,"modifiedOffset",void 0),te(this,"currentOffset",void 0),te(this,"lambda_v0",0),te(this,"one_ve_v0",0),te(this,"timeout",void 0),te(this,"interaction",void 0),this.interaction=o}var t,r;return t=e,(r=[{key:"start",value:function(o){var i=this.interaction,s=Ut(i);if(!s||!s.enabled)return!1;var u=i.coords.velocity.client,l=(0,be.default)(u.x,u.y),c=this.modification||(this.modification=new Qe.default(i));if(c.copyFrom(i.modification),this.t0=i._now(),this.allowResume=s.allowResume,this.v0=l,this.currentOffset={x:0,y:0},this.startCoords=i.coords.cur.page,this.modifierArg=c.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-i.coords.cur.timeStamp<50&&l>s.minSpeed&&l>s.endSpeed)this.startInertia();else{if(c.result=c.setAll(this.modifierArg),!c.result.changed)return!1;this.startSmoothEnd()}return i.modification.result.rect=null,i.offsetBy(this.targetOffset),i._doPhase({interaction:i,event:o,phase:"inertiastart"}),i.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),i.modification.result.rect=null,this.active=!0,i.simulation=this,!0}},{key:"startInertia",value:function(){var o=this,i=this.interaction.coords.velocity.client,s=Ut(this.interaction),u=s.resistance,l=-Math.log(s.endSpeed/this.v0)/u;this.targetOffset={x:(i.x-l)/u,y:(i.y-l)/u},this.te=l,this.lambda_v0=u/this.v0,this.one_ve_v0=1-s.endSpeed/this.v0;var c=this.modification,f=this.modifierArg;f.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},c.result=c.setAll(f),c.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+c.result.delta.x,y:this.targetOffset.y+c.result.delta.y}),this.onNextFrame(function(){return o.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var o=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return o.smoothEndTick()})}},{key:"onNextFrame",value:function(o){var i=this;this.timeout=ge.default.request(function(){i.active&&o()})}},{key:"inertiaTick",value:function(){var i,u,l,c=this,f=this.interaction,g=Ut(f).resistance,v=(f._now()-this.t0)/1e3;if(v<this.te){var b,T=1-(Math.exp(-g*v)-this.lambda_v0)/this.one_ve_v0;this.isModified?(i=this.targetOffset.y,u=this.modifiedOffset.y,b={x:z(l=T,0,this.targetOffset.x,this.modifiedOffset.x),y:z(l,0,i,u)}):b={x:this.targetOffset.x*T,y:this.targetOffset.y*T};var y={x:b.x-this.currentOffset.x,y:b.y-this.currentOffset.y};this.currentOffset.x+=y.x,this.currentOffset.y+=y.y,f.offsetBy(y),f.move(),this.onNextFrame(function(){return c.inertiaTick()})}else f.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var o=this,i=this.interaction,s=i._now()-this.t0,u=Ut(i).smoothEndDuration;if(s<u){var l={x:Q(s,0,this.targetOffset.x,u),y:Q(s,0,this.targetOffset.y,u)},c={x:l.x-this.currentOffset.x,y:l.y-this.currentOffset.y};this.currentOffset.x+=c.x,this.currentOffset.y+=c.y,i.offsetBy(c),i.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return o.smoothEndTick()})}else i.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(o){var i=o.pointer,s=o.event,u=o.eventTarget,l=this.interaction;l.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),l.updatePointer(i,s,u,!0),l._doPhase({interaction:l,event:s,phase:"resume"}),(0,F.copyCoords)(l.coords.prev,l.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ge.default.cancel(this.timeout)}}])&&function Kr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ut(e){var t=e.interactable,r=e.prepared;return t&&t.options&&r.name&&t.options[r.name].inertia}function z(e,t,r,o){var i=1-e;return i*i*t+2*i*e*r+e*e*o}function Q(e,t,r,o){return-r*(e/=o)*(e-2)+t}Le.InertiaState=pr,Le.default={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Ee.default),e.usePlugin(re.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new pr(t)},"interactions:before-action-end":function(e){var t=e.interaction;return(!t._interacting||t.simulation||!t.inertia.start(e.event))&&null},"interactions:down":function(e){var t=e.interaction,o=t.inertia;if(o.active)for(var i=e.eventTarget;w.default.element(i);){if(i===t.element){o.resume(e);break}i=I.parentNode(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":re.addEventModifiers,"interactions:action-inertiastart":re.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};var O={};function tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dr(e,t){for(var r=0;r<t.length;r++){var o=t[r];if(e.immediatePropagationStopped)break;o(e)}}Object.defineProperty(O,"__esModule",{value:!0}),O.Eventable=void 0;var Qr=function(){function e(o){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),tt(this,"options",void 0),tt(this,"types",{}),tt(this,"propagationStopped",!1),tt(this,"immediatePropagationStopped",!1),tt(this,"global",void 0),this.options=(0,E.default)({},o||{})}var t,r;return t=e,(r=[{key:"fire",value:function(o){var i,s=this.global;(i=this.types[o.type])&&dr(o,i),!o.propagationStopped&&s&&(i=s[o.type])&&dr(o,i)}},{key:"on",value:function(o,i){var s=(0,Re.default)(o,i);for(o in s)this.types[o]=H.merge(this.types[o]||[],s[o])}},{key:"off",value:function(o,i){var s=(0,Re.default)(o,i);for(o in s){var u=this.types[o];if(u&&u.length)for(var l=0;l<s[o].length;l++){var f=u.indexOf(s[o][l]);-1!==f&&u.splice(f,1)}}}},{key:"getRect",value:function(o){return null}}])&&function kt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();O.Eventable=Qr;var wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var r in t.map)if(0===e.indexOf(r)&&e.substr(r.length)in t.phases)return!0;return!1};var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.createInteractStatic=function(e){var t=function r(o,i){var s=e.interactables.get(o,i);return s||((s=e.interactables.new(o,i)).events.global=r.globalEvents),s};return t.getPointerAverage=F.pointerAverage,t.getTouchBBox=F.touchBBox,t.getTouchDistance=F.touchDistance,t.getTouchAngle=F.touchAngle,t.getElementRect=I.getElementRect,t.getElementClientRect=I.getElementClientRect,t.matchesSelector=I.matchesSelector,t.closest=I.closest,t.globalEvents={},t.version="1.10.17",t.scope=e,t.use=function(r,o){return this.scope.usePlugin(r,o),this},t.isSet=function(r,o){return!!this.scope.interactables.get(r,o&&o.context)},t.on=(0,pe.warnOnce)(function(r,o,i){if(w.default.string(r)&&-1!==r.search(" ")&&(r=r.trim().split(/ +/)),w.default.array(r)){for(var s=0;s<r.length;s++)this.on(r[s],o,i);return this}if(w.default.object(r)){for(var l in r)this.on(l,r[l],o);return this}return(0,wt.default)(r,this.scope.actions)?this.globalEvents[r]?this.globalEvents[r].push(o):this.globalEvents[r]=[o]:this.scope.events.add(this.scope.document,r,o,{options:i}),this},"The interact.on() method is being deprecated"),t.off=(0,pe.warnOnce)(function(r,o,i){if(w.default.string(r)&&-1!==r.search(" ")&&(r=r.trim().split(/ +/)),w.default.array(r)){for(var s=0;s<r.length;s++)this.off(r[s],o,i);return this}if(w.default.object(r)){for(var l in r)this.off(l,r[l],o);return this}var c;return(0,wt.default)(r,this.scope.actions)?r in this.globalEvents&&-1!==(c=this.globalEvents[r].indexOf(o))&&this.globalEvents[r].splice(c,1):this.scope.events.remove(this.scope.document,r,o,i),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return le.default.supportsTouch},t.supportsPointerEvent=function(){return le.default.supportsPointerEvent},t.stop=function(){for(var r=0;r<this.scope.interactions.list.length;r++)this.scope.interactions.list[r].stop();return this},t.pointerMoveTolerance=function(r){return w.default.number(r)?(this.scope.interactions.pointerMoveTolerance=r,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(r,o){this.scope.addDocument(r,o)},t.removeDocument=function(r){this.scope.removeDocument(r)},t};var Vt={};function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.Interactable=void 0;var eo=function(){function e(o,i,s,u){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),Fe(this,"options",void 0),Fe(this,"_actions",void 0),Fe(this,"target",void 0),Fe(this,"events",new O.Eventable),Fe(this,"_context",void 0),Fe(this,"_win",void 0),Fe(this,"_doc",void 0),Fe(this,"_scopeEvents",void 0),Fe(this,"_rectChecker",void 0),this._actions=i.actions,this.target=o,this._context=i.context||s,this._win=(0,B.getWindow)((0,I.trySelector)(o)?this._context:o),this._doc=this._win.document,this._scopeEvents=u,this.set(i)}var t,r;return t=e,(r=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(o,i){return w.default.func(i.onstart)&&this.on("".concat(o,"start"),i.onstart),w.default.func(i.onmove)&&this.on("".concat(o,"move"),i.onmove),w.default.func(i.onend)&&this.on("".concat(o,"end"),i.onend),w.default.func(i.oninertiastart)&&this.on("".concat(o,"inertiastart"),i.oninertiastart),this}},{key:"updatePerActionListeners",value:function(o,i,s){(w.default.array(i)||w.default.object(i))&&this.off(o,i),(w.default.array(s)||w.default.object(s))&&this.on(o,s)}},{key:"setPerAction",value:function(o,i){var s=this._defaults;for(var u in i){var l=u,c=this.options[o],f=i[l];"listeners"===l&&this.updatePerActionListeners(o,c.listeners,f),w.default.array(f)?c[l]=H.from(f):w.default.plainObject(f)?(c[l]=(0,E.default)(c[l]||{},(0,Me.default)(f)),w.default.object(s.perAction[l])&&"enabled"in s.perAction[l]&&(c[l].enabled=!1!==f.enabled)):w.default.bool(f)&&w.default.object(s.perAction[l])?c[l].enabled=f:c[l]=f}}},{key:"getRect",value:function(o){return o=o||(w.default.element(this.target)?this.target:null),w.default.string(this.target)&&(o=o||this._context.querySelector(this.target)),(0,I.getElementRect)(o)}},{key:"rectChecker",value:function(o){var i=this;return w.default.func(o)?(this._rectChecker=o,this.getRect=function(s){var u=(0,E.default)({},i._rectChecker(s));return"width"in u||(u.width=u.right-u.left,u.height=u.bottom-u.top),u},this):null===o?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(o,i){if((0,I.trySelector)(i)||w.default.object(i)){for(var s in this.options[o]=i,this._actions.map)this.options[s][o]=i;return this}return this.options[o]}},{key:"origin",value:function(o){return this._backCompatOption("origin",o)}},{key:"deltaSource",value:function(o){return"page"===o||"client"===o?(this.options.deltaSource=o,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(o){return this._context===o.ownerDocument||(0,I.nodeContains)(this._context,o)}},{key:"testIgnoreAllow",value:function(o,i,s){return!this.testIgnore(o.ignoreFrom,i,s)&&this.testAllow(o.allowFrom,i,s)}},{key:"testAllow",value:function(o,i,s){return!o||!!w.default.element(s)&&(w.default.string(o)?(0,I.matchesUpTo)(s,o,i):!!w.default.element(o)&&(0,I.nodeContains)(o,s))}},{key:"testIgnore",value:function(o,i,s){return!(!o||!w.default.element(s))&&(w.default.string(o)?(0,I.matchesUpTo)(s,o,i):!!w.default.element(o)&&(0,I.nodeContains)(o,s))}},{key:"fire",value:function(o){return this.events.fire(o),this}},{key:"_onOff",value:function(o,i,s,u){w.default.object(i)&&!w.default.array(i)&&(u=s,s=null);var l="on"===o?"add":"remove",c=(0,Re.default)(i,s);for(var f in c){"wheel"===f&&(f=le.default.wheelEvent);for(var g=0;g<c[f].length;g++){var v=c[f][g];(0,wt.default)(f,this._actions)?this.events[o](f,v):w.default.string(this.target)?this._scopeEvents["".concat(l,"Delegate")](this.target,this._context,f,v,u):this._scopeEvents[l](this.target,f,v,u)}}return this}},{key:"on",value:function(o,i,s){return this._onOff("on",o,i,s)}},{key:"off",value:function(o,i,s){return this._onOff("off",o,i,s)}},{key:"set",value:function(o){var i=this._defaults;for(var s in w.default.object(o)||(o={}),this.options=(0,Me.default)(i.base),this._actions.methodDict){var u=s,l=this._actions.methodDict[u];this.options[u]={},this.setPerAction(u,(0,E.default)((0,E.default)({},i.perAction),i.actions[u])),this[l](o[u])}for(var c in o)w.default.func(this[c])&&this[c](o[c]);return this}},{key:"unset",value:function(){if(w.default.string(this.target))for(var o in this._scopeEvents.delegatedEvents)for(var i=this._scopeEvents.delegatedEvents[o],s=i.length-1;s>=0;s--){var u=i[s],f=u.listeners;u.selector===this.target&&u.context===this._context&&i.splice(s,1);for(var g=f.length-1;g>=0;g--)this._scopeEvents.removeDelegate(this.target,this._context,o,f[g][0],f[g][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function Zr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Vt.Interactable=eo;var qt={};function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(qt,"__esModule",{value:!0}),qt.InteractableSet=void 0;var no=function(){function e(o){var i=this;(function(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),ve(this,"list",[]),ve(this,"selectorMap",{}),ve(this,"scope",void 0),this.scope=o,o.addListeners({"interactable:unset":function(s){var u=s.interactable,l=u.target,c=u._context,f=w.default.string(l)?i.selectorMap[l]:l[i.scope.id],g=H.findIndex(f,function(v){return v.context===c});f[g]&&(f[g].context=null,f[g].interactable=null),f.splice(g,1)}})}var t,r;return t=e,(r=[{key:"new",value:function(o,i){i=(0,E.default)(i||{},{actions:this.scope.actions});var s=new this.scope.Interactable(o,i,this.scope.document,this.scope.events),u={context:s._context,interactable:s};return this.scope.addDocument(s._doc),this.list.push(s),w.default.string(o)?(this.selectorMap[o]||(this.selectorMap[o]=[]),this.selectorMap[o].push(u)):(s.target[this.scope.id]||Object.defineProperty(o,this.scope.id,{value:[],configurable:!0}),o[this.scope.id].push(u)),this.scope.fire("interactable:new",{target:o,options:i,interactable:s,win:this.scope._win}),s}},{key:"get",value:function(o,i){var s=i&&i.context||this.scope.document,u=w.default.string(o),l=u?this.selectorMap[o]:o[this.scope.id];if(!l)return null;var c=H.find(l,function(f){return f.context===s&&(u||f.interactable.inContext(o))});return c&&c.interactable}},{key:"forEachMatch",value:function(o,i){for(var s=0;s<this.list.length;s++){var u=this.list[s],l=void 0;if((w.default.string(u.target)?w.default.element(o)&&I.matchesSelector(o,u.target):o===u.target)&&u.inContext(o)&&(l=i(u)),void 0!==l)return l}}}])&&function to(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();qt.InteractableSet=no;var Xt={};function zn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bn(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,o){var i=null==r?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(null!=i){var s,u,l=[],c=!0,f=!1;try{for(i=i.call(r);!(c=(s=i.next()).done)&&(l.push(s.value),!o||l.length!==o);c=!0);}catch(g){f=!0,u=g}finally{try{c||null==i.return||i.return()}finally{if(f)throw u}}return l}}(e,t)||function(r,o){if(r){if("string"==typeof r)return fr(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?Array.from(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?fr(r,o):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var oo=function(){function e(o){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),zn(this,"currentTarget",void 0),zn(this,"originalEvent",void 0),zn(this,"type",void 0),this.originalEvent=o,(0,ne.default)(this,o)}var t,r;return t=e,(r=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function ro(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Kt(e){if(!w.default.object(e))return{capture:!!e,passive:!1};var t=(0,E.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}Xt.default={id:"events",install:function(e){var t,r=[],o={},i=[],s={add:u,remove:l,addDelegate:function(g,v,b,T,y){var C=Kt(y);if(!o[b]){o[b]=[];for(var x=0;x<i.length;x++){var P=i[x];u(P,b,c),u(P,b,f,!0)}}var R=o[b],$=H.find(R,function(N){return N.selector===g&&N.context===v});$||R.push($={selector:g,context:v,listeners:[]}),$.listeners.push([T,C])},removeDelegate:function(g,v,b,T,y){var C,x=Kt(y),P=o[b],R=!1;if(P)for(C=P.length-1;C>=0;C--){var $=P[C];if($.selector===g&&$.context===v){for(var N=$.listeners,W=N.length-1;W>=0;W--){var X=Bn(N[W],2),q=X[1];if(X[0]===T&&q.capture===x.capture&&q.passive===x.passive){N.splice(W,1),N.length||(P.splice(C,1),l(v,b,c),l(v,b,f,!0)),R=!0;break}}if(R)break}}},delegateListener:c,delegateUseCapture:f,delegatedEvents:o,documents:i,targets:r,supportsOptions:!1,supportsPassive:!1};function u(g,v,b,T){var y=Kt(T),C=H.find(r,function(x){return x.eventTarget===g});C||r.push(C={eventTarget:g,events:{}}),C.events[v]||(C.events[v]=[]),g.addEventListener&&!H.contains(C.events[v],b)&&(g.addEventListener(v,b,s.supportsOptions?y:y.capture),C.events[v].push(b))}function l(g,v,b,T){var y=Kt(T),C=H.findIndex(r,function(W){return W.eventTarget===g}),x=r[C];if(x&&x.events)if("all"!==v){var P=!1,R=x.events[v];if(R){if("all"===b){for(var $=R.length-1;$>=0;$--)l(g,v,R[$],y);return}for(var N=0;N<R.length;N++)if(R[N]===b){g.removeEventListener(v,b,s.supportsOptions?y:y.capture),R.splice(N,1),0===R.length&&(delete x.events[v],P=!0);break}}P&&!Object.keys(x.events).length&&r.splice(C,1)}else for(v in x.events)x.events.hasOwnProperty(v)&&l(g,v,"all")}function c(g,v){for(var b=Kt(v),T=new oo(g),y=o[g.type],C=Bn(F.getEventTargets(g),1)[0],x=C;w.default.element(x);){for(var P=0;P<y.length;P++){var R=y[P],N=R.context;if(I.matchesSelector(x,R.selector)&&I.nodeContains(N,C)&&I.nodeContains(N,x)){var W=R.listeners;T.currentTarget=x;for(var X=0;X<W.length;X++){var Y=Bn(W[X],2),Ce=Y[1];Ce.capture===b.capture&&Ce.passive===b.passive&&(0,Y[0])(T)}}}x=I.parentNode(x)}}function f(g){return c(g,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s,s}};var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var Qt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Qt.methodOrder.length;t++){var o=Qt[Qt.methodOrder[t]](e);if(o)return o}return null},simulationResume:function(e){var t=e.pointerType,o=e.eventTarget,i=e.scope;if(!/down|start/i.test(e.eventType))return null;for(var s=0;s<i.interactions.list.length;s++){var u=i.interactions.list[s],l=o;if(u.simulation&&u.simulation.allowResume&&u.pointerType===t)for(;l;){if(l===u.element)return u;l=I.parentNode(l)}}return null},mouseOrPen:function(e){var t,r=e.pointerId,o=e.pointerType,i=e.eventType,s=e.scope;if("mouse"!==o&&"pen"!==o)return null;for(var u=0;u<s.interactions.list.length;u++){var l=s.interactions.list[u];if(l.pointerType===o){if(l.simulation&&!hr(l,r))continue;if(l.interacting())return l;t||(t=l)}}if(t)return t;for(var c=0;c<s.interactions.list.length;c++){var f=s.interactions.list[c];if(!(f.pointerType!==o||/down/i.test(i)&&f.simulation))return f}return null},hasPointer:function(e){for(var t=e.pointerId,r=e.scope,o=0;o<r.interactions.list.length;o++){var i=r.interactions.list[o];if(hr(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,r=e.scope,o=0;o<r.interactions.list.length;o++){var i=r.interactions.list[o];if(1===i.pointers.length){var s=i.interactable;if(s&&(!s.options.gesture||!s.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function hr(e,t){return e.pointers.some(function(r){return r.id===t})}Jt.default=Qt;var d={};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,o){var i=null==r?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(null!=i){var s,u,l=[],c=!0,f=!1;try{for(i=i.call(r);!(c=(s=i.next()).done)&&(l.push(s.value),!o||l.length!==o);c=!0);}catch(g){f=!0,u=g}finally{try{c||null==i.return||i.return()}finally{if(f)throw u}}return l}}(e,t)||function(r,o){if(r){if("string"==typeof r)return h(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?Array.from(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(r,o):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(e,t)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var we=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Zt(e,t){return function(r){var o=t.interactions.list,i=F.getPointerType(r),s=m(F.getEventTargets(r),2),u=s[0],l=s[1],c=[];if(/^touch/.test(r.type)){t.prevTouchTime=t.now();for(var f=0;f<r.changedTouches.length;f++){var g=r.changedTouches[f],v={pointer:g,pointerId:F.getPointerId(g),pointerType:i,eventType:r.type,eventTarget:u,curEventTarget:l,scope:t},b=mr(v);c.push([v.pointer,v.eventTarget,v.curEventTarget,b])}}else{var T=!1;if(!le.default.supportsPointerEvent&&/mouse/.test(r.type)){for(var y=0;y<o.length&&!T;y++)T="mouse"!==o[y].pointerType&&o[y].pointerIsDown;T=T||t.now()-t.prevTouchTime<500||0===r.timeStamp}if(!T){var C={pointer:r,pointerId:F.getPointerId(r),pointerType:i,eventType:r.type,curEventTarget:l,eventTarget:u,scope:t},x=mr(C);c.push([C.pointer,C.eventTarget,C.curEventTarget,x])}}for(var P=0;P<c.length;P++){var R=m(c[P],4);R[3][e](R[0],r,R[1],R[2])}}}function mr(e){var t=e.pointerType,r=e.scope,o={interaction:Jt.default.search(e),searchDetails:e};return r.fire("interactions:find",o),o.interaction||r.interactions.new({pointerType:t})}function ao(e,t){var r=e.doc,o=e.scope,i=e.options,s=o.interactions.docEvents,u=o.events,l=u[t];for(var c in o.browser.isIOS&&!i.events&&(i.events={passive:!1}),u.delegatedEvents)l(r,c,u.delegateListener),l(r,c,u.delegateUseCapture,!0);for(var f=i&&i.events,g=0;g<s.length;g++){var v=s[g];l(r,v.type,v.listener,f)}}var Xo={id:"core/interactions",install:function(e){for(var t={},r=0;r<we.length;r++){var o=we[r];t[o]=Zt(o,e)}var i,s=le.default.pEventTypes;function u(){for(var l=0;l<e.interactions.list.length;l++){var c=e.interactions.list[l];if(c.pointerIsDown&&"touch"===c.pointerType&&!c._interacting)for(var f=function(){var v=c.pointers[g];e.documents.some(function(b){return(0,I.nodeContains)(b.doc,v.downTarget)})||c.removePointer(v.pointer,v.event)},g=0;g<c.pointers.length;g++)f()}}(i=ee.default.PointerEvent?[{type:s.down,listener:u},{type:s.down,listener:t.pointerDown},{type:s.move,listener:t.pointerMove},{type:s.up,listener:t.pointerUp},{type:s.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:u},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(l){for(var c=0;c<e.interactions.list.length;c++)e.interactions.list[c].documentBlur(l)}}),e.prevTouchTime=0,e.Interaction=function(l){!function(y,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),C&&j(y,C)}(T,l);var c,f,g,v,b=(g=T,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,C=oe(g);if(v){var x=oe(this).constructor;y=Reflect.construct(C,arguments,x)}else y=C.apply(this,arguments);return function G(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}(this,y)});function T(){return function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T),b.apply(this,arguments)}return c=T,(f=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(y){e.interactions.pointerMoveTolerance=y}},{key:"_now",value:function(){return e.now()}}])&&function S(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(c.prototype,f),Object.defineProperty(c,"prototype",{writable:!1}),T}(ce.default),e.interactions={list:[],new:function(l){l.scopeFire=function(f,g){return e.fire(f,g)};var c=new e.Interaction(l);return e.interactions.list.push(c),c},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(Ne.default)},listeners:{"scope:add-document":function(e){return ao(e,"add")},"scope:remove-document":function(e){return ao(e,"remove")},"interactable:unset":function(e,t){for(var r=e.interactable,o=t.interactions.list.length-1;o>=0;o--){var i=t.interactions.list[o];i.interactable===r&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(o,1))}}},onDocSignal:ao,doOnInteractions:Zt,methodNames:we};d.default=Xo;var Nn={};function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Gn(){return Gn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function Jo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nt(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Gn.apply(this,arguments)}function lo(e,t){return(lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(e,t)}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xo(e,t,r){return t&&So(e.prototype,t),r&&So(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Scope=void 0,Nn.initScope=Mo;var Zo=function(){function e(){var t=this;Po(this,e),ie(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),ie(this,"isInitialized",!1),ie(this,"listenerMaps",[]),ie(this,"browser",le.default),ie(this,"defaults",(0,Me.default)(vt.defaults)),ie(this,"Eventable",O.Eventable),ie(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),ie(this,"interactStatic",(0,$n.createInteractStatic)(this)),ie(this,"InteractEvent",yt.InteractEvent),ie(this,"Interactable",void 0),ie(this,"interactables",new qt.InteractableSet(this)),ie(this,"_win",void 0),ie(this,"document",void 0),ie(this,"window",void 0),ie(this,"documents",[]),ie(this,"_plugins",{list:[],map:{}}),ie(this,"onWindowUnload",function(o){return t.removeDocument(o.target)});var r=this;this.Interactable=function(o){!function(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&lo(c,f)}(l,o);var i,s,u=(i=l,s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,f=nt(i);if(s){var g=nt(this).constructor;c=Reflect.construct(f,arguments,g)}else c=f.apply(this,arguments);return function Qo(e,t){if(t&&("object"===so(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}(this,c)});function l(){return Po(this,l),u.apply(this,arguments)}return xo(l,[{key:"_defaults",get:function(){return r.defaults}},{key:"set",value:function(c){return Gn(nt(l.prototype),"set",this).call(this,c),r.fire("interactable:set",{options:c,interactable:this}),this}},{key:"unset",value:function(){Gn(nt(l.prototype),"unset",this).call(this);var c=r.interactables.list.indexOf(this);c<0||(Gn(nt(l.prototype),"unset",this).call(this),r.interactables.list.splice(c,1),r.fire("interactable:unset",{interactable:this}))}}]),l}(Vt.Interactable)}return xo(e,[{key:"addListeners",value:function(t,r){this.listenerMaps.push({id:r,map:t})}},{key:"fire",value:function(t,r){for(var o=0;o<this.listenerMaps.length;o++){var i=this.listenerMaps[o].map[t];if(i&&!1===i(r,this,t))return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Mo(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,r){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,r),t.listeners&&t.before){for(var o=0,i=this.listenerMaps.length,s=t.before.reduce(function(l,c){return l[c]=!0,l[Eo(c)]=!0,l},{});o<i;o++){var u=this.listenerMaps[o].id;if(s[u]||s[Eo(u)])break}this.listenerMaps.splice(o,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,r){if(-1!==this.getDocIndex(t))return!1;var o=B.getWindow(t);r=r?(0,E.default)({},r):{},this.documents.push({doc:t,options:r}),this.events.documents.push(t),t!==this.document&&this.events.add(o,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:o,scope:this,options:r})}},{key:"removeDocument",value:function(t){var r=this.getDocIndex(t),o=B.getWindow(t),i=this.documents[r].options;this.events.remove(o,"unload",this.onWindowUnload),this.documents.splice(r,1),this.events.documents.splice(r,1),this.fire("scope:remove-document",{doc:t,window:o,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var r=0;r<this.documents.length;r++)if(this.documents[r].doc===t)return r;return-1}},{key:"getDocOptions",value:function(t){var r=this.getDocIndex(t);return-1===r?null:this.documents[r].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function Mo(e,t){return e.isInitialized=!0,w.default.window(t)&&B.init(t),ee.default.init(t),le.default.init(t),ge.default.init(t),e.window=t,e.document=t.document,e.usePlugin(d.default),e.usePlugin(Xt.default),e}function Eo(e){return e&&e.replace(/\/.*$/,"")}Nn.Scope=Zo;var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0;var Fo=new Nn.Scope;ae.default=Fo.interactStatic;var ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Fo.init(ti);var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=void 0,gr.default=function(){};var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0,vr.default=function(){};var yr={};function Oo(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,o){var i=null==r?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(null!=i){var s,u,l=[],c=!0,f=!1;try{for(i=i.call(r);!(c=(s=i.next()).done)&&(l.push(s.value),!o||l.length!==o);c=!0);}catch(g){f=!0,u=g}finally{try{c||null==i.return||i.return()}finally{if(f)throw u}}return l}}(e,t)||function(r,o){if(r){if("string"==typeof r)return jo(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?Array.from(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?jo(r,o):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=void 0,yr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(o){var i=Oo(o,2);return i[0]in e||i[1]in e}),r=function(o,i){for(var u=e.limits,l=void 0===u?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:u,c=e.offset,f=void 0===c?{x:0,y:0}:c,g={range:e.range,grid:e,x:null,y:null},v=0;v<t.length;v++){var b=Oo(t[v],2),T=b[0],y=b[1],C=Math.round((o-f.x)/e[T]),x=Math.round((i-f.y)/e[y]);g[T]=Math.max(l.left,Math.min(l.right,C*e[T]+f.x)),g[y]=Math.max(l.top,Math.min(l.bottom,x*e[y]+f.y))}return g};return r.grid=e,r.coordFields=t,r};var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Object.defineProperty(Yn,"edgeTarget",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(Yn,"elements",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(Yn,"grid",{enumerable:!0,get:function(){return yr.default}});var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.default=void 0,br.default={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,E.default)(t.snappers||{},Yn),t.createSnapGrid=t.snappers.grid}};var en={};function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(r),!0).forEach(function(o){oi(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function oi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(en,"__esModule",{value:!0}),en.default=en.aspectRatio=void 0;var Do={start:function(e){var t=e.state,r=e.rect,o=e.edges,s=t.options.ratio,u=t.options,l=u.equalDelta,c=u.modifiers;"preserve"===s&&(s=r.width/r.height),t.startCoords=(0,E.default)({},e.pageCoords),t.startRect=(0,E.default)({},r),t.ratio=s,t.equalDelta=l;var f=t.linkedEdges={top:o.top||o.left&&!o.bottom,left:o.left||o.top&&!o.right,bottom:o.bottom||o.right&&!o.top,right:o.right||o.bottom&&!o.left};if(t.xIsPrimaryAxis=!(!o.left&&!o.right),t.equalDelta){var g=(f.left?1:-1)*(f.top?1:-1);t.edgeSign={x:g,y:g}}else t.edgeSign={x:f.left?-1:1,y:f.top?-1:1};if((0,E.default)(e.edges,f),c&&c.length){var v=new Qe.default(e.interaction);v.copyFrom(e.interaction.modification),v.prepareStates(c),t.subModification=v,v.startAll(co({},e))}},set:function(e){var t=e.state,r=e.rect,o=e.coords,i=(0,E.default)({},o),s=t.equalDelta?ii:ai;if(s(t,t.xIsPrimaryAxis,o,r),!t.subModification)return null;var u=(0,E.default)({},r);(0,V.addEdges)(t.linkedEdges,u,{x:o.x-i.x,y:o.y-i.y});var l=t.subModification.setAll(co(co({},e),{},{rect:u,edges:t.linkedEdges,pageCoords:o,prevCoords:o,prevRect:u})),c=l.delta;return l.changed&&(s(t,Math.abs(c.x)>Math.abs(c.y),l.coords,l.rect),(0,E.default)(o,l.coords)),l.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function ii(e,t,r){var o=e.startCoords,i=e.edgeSign;t?r.y=o.y+(r.x-o.x)*i.y:r.x=o.x+(r.y-o.y)*i.x}function ai(e,t,r,o){var i=e.startRect,s=e.startCoords,u=e.ratio,l=e.edgeSign;t?r.y=s.y+(o.width/u-i.height)*l.y:r.x=s.x+(o.height*u-i.width)*l.x}en.aspectRatio=Do;var si=(0,re.makeModifier)(Do,"aspectRatio");en.default=si;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.default=void 0;var Io=function(){};Io._defaults={},Tt.default=Io;var uo={};Object.defineProperty(uo,"__esModule",{value:!0}),Object.defineProperty(uo,"default",{enumerable:!0,get:function(){return Tt.default}});var de={};function po(e,t,r){return w.default.func(e)?V.resolveRectLike(e,t.interactable,t.element,[r.x,r.y,t]):V.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0,de.getRestrictionRect=po,de.restrict=void 0;var Ao={start:function(e){var t=e.rect,r=e.startOffset,o=e.state,i=e.interaction,s=e.pageCoords,u=o.options,l=u.elementRect,c=(0,E.default)({left:0,top:0,right:0,bottom:0},u.offset||{});if(t&&l){var f=po(u.restriction,i,s);if(f){var g=f.right-f.left-t.width,v=f.bottom-f.top-t.height;g<0&&(c.left+=g,c.right+=g),v<0&&(c.top+=v,c.bottom+=v)}c.left+=r.left-t.width*l.left,c.top+=r.top-t.height*l.top,c.right+=r.right-t.width*(1-l.right),c.bottom+=r.bottom-t.height*(1-l.bottom)}o.offset=c},set:function(e){var t=e.coords,o=e.state,s=o.offset,u=po(o.options.restriction,e.interaction,t);if(u){var l=V.xywhToTlbr(u);t.x=Math.max(Math.min(l.right-s.right,t.x),l.left+s.left),t.y=Math.max(Math.min(l.bottom-s.bottom,t.y),l.top+s.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};de.restrict=Ao;var ci=(0,re.makeModifier)(Ao,"restrict");de.default=ci;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.restrictEdges=Ie.default=void 0;var $o={top:1/0,left:1/0,bottom:-1/0,right:-1/0},zo={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Bo(e,t){for(var r=["top","left","bottom","right"],o=0;o<r.length;o++){var i=r[o];i in e||(e[i]=t[i])}return e}var No={noInner:$o,noOuter:zo,start:function(e){var t,r=e.interaction,o=e.startOffset,i=e.state,s=i.options;if(s){var u=(0,de.getRestrictionRect)(s.offset,r,r.coords.start.page);t=V.rectToXY(u)}i.offset={top:(t=t||{x:0,y:0}).y+o.top,left:t.x+o.left,bottom:t.y-o.bottom,right:t.x-o.right}},set:function(e){var t=e.coords,r=e.edges,o=e.interaction,i=e.state,s=i.offset,u=i.options;if(r){var l=(0,E.default)({},t),c=(0,de.getRestrictionRect)(u.inner,o,l)||{},f=(0,de.getRestrictionRect)(u.outer,o,l)||{};Bo(c,$o),Bo(f,zo),r.top?t.y=Math.min(Math.max(f.top+s.top,l.y),c.top+s.top):r.bottom&&(t.y=Math.max(Math.min(f.bottom+s.bottom,l.y),c.bottom+s.bottom)),r.left?t.x=Math.min(Math.max(f.left+s.left,l.x),c.left+s.left):r.right&&(t.x=Math.max(Math.min(f.right+s.right,l.x),c.right+s.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ie.restrictEdges=No;var ui=(0,re.makeModifier)(No,"restrictEdges");Ie.default=ui;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.restrictRect=tn.default=void 0;var pi=(0,E.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},de.restrict.defaults),Go={start:de.restrict.start,set:de.restrict.set,defaults:pi};tn.restrictRect=Go;var di=(0,re.makeModifier)(Go,"restrictRect");tn.default=di;var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.restrictSize=nn.default=void 0;var fi={width:-1/0,height:-1/0},hi={width:1/0,height:1/0},Yo={start:function(e){return Ie.restrictEdges.start(e)},set:function(e){var t=e.interaction,r=e.state,o=e.rect,i=e.edges,s=r.options;if(i){var u=V.tlbrToXywh((0,de.getRestrictionRect)(s.min,t,e.coords))||fi,l=V.tlbrToXywh((0,de.getRestrictionRect)(s.max,t,e.coords))||hi;r.options={endOnly:s.endOnly,inner:(0,E.default)({},Ie.restrictEdges.noInner),outer:(0,E.default)({},Ie.restrictEdges.noOuter)},i.top?(r.options.inner.top=o.bottom-u.height,r.options.outer.top=o.bottom-l.height):i.bottom&&(r.options.inner.bottom=o.top+u.height,r.options.outer.bottom=o.top+l.height),i.left?(r.options.inner.left=o.right-u.width,r.options.outer.left=o.right-l.width):i.right&&(r.options.inner.right=o.left+u.width,r.options.outer.right=o.left+l.width),Ie.restrictEdges.set(e),r.options=s}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};nn.restrictSize=Yo;var mi=(0,re.makeModifier)(Yo,"restrictSize");nn.default=mi;var fo={};Object.defineProperty(fo,"__esModule",{value:!0}),Object.defineProperty(fo,"default",{enumerable:!0,get:function(){return Tt.default}});var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.snap=rt.default=void 0;var Lo={start:function(e){var t,b,T,r=e.interaction,o=e.interactable,i=e.element,s=e.rect,u=e.state,l=e.startOffset,c=u.options,f=c.offsetWithOrigin?(0,V.rectToXY)((0,V.resolveRectLike)((b=e).state.options.origin,null,null,[T=b.interaction.element]))||(0,$e.default)(b.interactable,T,b.interaction.prepared.name):{x:0,y:0};if("startCoords"===c.offset)t={x:r.coords.start.page.x,y:r.coords.start.page.y};else{var g=(0,V.resolveRectLike)(c.offset,o,i,[r]);(t=(0,V.rectToXY)(g)||{x:0,y:0}).x+=f.x,t.y+=f.y}var v=c.relativePoints;u.offsets=s&&v&&v.length?v.map(function(b,T){return{index:T,relativePoint:b,x:l.left-s.width*b.x+t.x,y:l.top-s.height*b.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,r=e.coords,o=e.state,i=o.options,s=o.offsets,u=(0,$e.default)(t.interactable,t.element,t.prepared.name),l=(0,E.default)({},r),c=[];i.offsetWithOrigin||(l.x-=u.x,l.y-=u.y);for(var f=0;f<s.length;f++)for(var g=s[f],v=l.x-g.x,b=l.y-g.y,T=0,y=i.targets.length;T<y;T++){var C,x=i.targets[T];(C=w.default.func(x)?x(v,b,t._proxy,g,T):x)&&c.push({x:(w.default.number(C.x)?C.x:v)+g.x,y:(w.default.number(C.y)?C.y:b)+g.y,range:w.default.number(C.range)?C.range:i.range,source:x,index:T,offset:g})}for(var P={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},R=0;R<c.length;R++){var $=c[R],N=$.range,W=$.x-l.x,X=$.y-l.y,Y=(0,be.default)(W,X),q=Y<=N;N===1/0&&P.inRange&&P.range!==1/0&&(q=!1),P.target&&!(q?P.inRange&&N!==1/0?Y/N<P.distance/P.range:N===1/0&&P.range!==1/0||Y<P.distance:!P.inRange&&Y<P.distance)||(P.target=$,P.distance=Y,P.range=N,P.inRange=q,P.delta.x=W,P.delta.y=X)}return P.inRange&&(r.x=P.target.x,r.y=P.target.y),o.closest=P,P},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};rt.snap=Lo;var gi=(0,re.makeModifier)(Lo,"snap");rt.default=gi;var He={};function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}Object.defineProperty(He,"__esModule",{value:!0}),He.snapSize=He.default=void 0;var Wo={start:function(e){var t=e.state,r=e.edges,o=t.options;if(!r)return null;e.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:o.offset||"self",origin:{x:0,y:0},range:o.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],rt.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,o=e.interaction,i=e.state,s=e.coords,u=i.options,l=i.offsets,c={x:s.x-l[0].x,y:s.y-l[0].y};i.options=(0,E.default)({},u),i.options.targets=[];for(var f=0;f<(u.targets||[]).length;f++){var g=(u.targets||[])[f],v=void 0;if(v=w.default.func(g)?g(c.x,c.y,o):g){for(var b=0;b<i.targetFields.length;b++){var T=(2,function(P){if(Array.isArray(P))return P}(t=i.targetFields[b])||function(P,R){var $=null==P?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(null!=$){var N,W,X=[],Y=!0,q=!1;try{for($=$.call(P);!(Y=(N=$.next()).done)&&(X.push(N.value),2!==X.length);Y=!0);}catch(Ce){q=!0,W=Ce}finally{try{Y||null==$.return||$.return()}finally{if(q)throw W}}return X}}(t)||function(P,R){if(P){if("string"==typeof P)return Ho(P,2);var $=Object.prototype.toString.call(P).slice(8,-1);return"Object"===$&&P.constructor&&($=P.constructor.name),"Map"===$||"Set"===$?Array.from(P):"Arguments"===$||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Ho(P,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=T[0],C=T[1];if(y in v||C in v){v.x=v[y],v.y=v[C];break}}i.options.targets.push(v)}}var x=rt.snap.set(e);return i.options=u,x},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};He.snapSize=Wo;var vi=(0,re.makeModifier)(Wo,"snapSize");He.default=vi;var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.snapEdges=rn.default=void 0;var Uo={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],He.snapSize.start(e)):null},set:He.snapSize.set,defaults:(0,E.default)((0,Me.default)(He.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};rn.snapEdges=Uo;var yi=(0,re.makeModifier)(Uo,"snapEdges");rn.default=yi;var ho={};Object.defineProperty(ho,"__esModule",{value:!0}),Object.defineProperty(ho,"default",{enumerable:!0,get:function(){return Tt.default}});var mo={};Object.defineProperty(mo,"__esModule",{value:!0}),Object.defineProperty(mo,"default",{enumerable:!0,get:function(){return Tt.default}});var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.default=void 0,on.default={aspectRatio:en.default,restrictEdges:Ie.default,restrict:de.default,restrictRect:tn.default,restrictSize:nn.default,snapEdges:rn.default,snap:rt.default,snapSize:He.default,spring:ho.default,avoid:uo.default,transform:mo.default,rubberband:fo.default};var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.default=void 0,Ln.default={id:"modifiers",install:function(e){var t=e.interactStatic;for(var r in e.usePlugin(re.default),e.usePlugin(br.default),t.modifiers=on.default,on.default){var o=on.default[r],i=o._defaults;i._methods=o._methods,e.defaults.perAction[r]=i}}};var Ct={};function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vo(e,t){return(vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(e,t)}function yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=Ct.PointerEvent=void 0;var Ci=function(e){!function(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),c&&vo(l,c)}(u,e);var t,r,o,i,s=(o=u,i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,c=_r(o);if(i){var f=_r(this).constructor;l=Reflect.construct(c,arguments,f)}else l=c.apply(this,arguments);return function Ti(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yo(e)}(this,l)});function u(l,c,f,g,v,b){var T;if(function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,u),T=s.call(this,v),F.pointerExtend(yo(T),f),f!==c&&F.pointerExtend(yo(T),c),T.timeStamp=b,T.originalEvent=f,T.type=l,T.pointerId=F.getPointerId(c),T.pointerType=F.getPointerType(c),T.target=g,T.currentTarget=null,"tap"===l){var y=v.getPointerIndex(c);T.dt=T.timeStamp-v.pointers[y].downTime,T.double=!!v.prevTap&&"doubletap"!==v.prevTap.type&&v.prevTap.target===T.target&&T.timeStamp-v.tapTime<500}else"doubletap"===l&&(T.dt=c.timeStamp-v.tapTime,T.double=!0);return T}return t=u,(r=[{key:"_subtractOrigin",value:function(l){var c=l.x,f=l.y;return this.pageX-=c,this.pageY-=f,this.clientX-=c,this.clientY-=f,this}},{key:"_addOrigin",value:function(l){var c=l.x,f=l.y;return this.pageX+=c,this.pageY+=f,this.clientX+=c,this.clientY+=f,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function wi(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Ue.BaseEvent);Ct.PointerEvent=Ct.default=Ci;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0;var kr={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=kr,e.defaults.actions.pointerEvents=kr.defaults,(0,E.default)(e.actions.phaselessTypes,kr.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var r=e.pointerInfo;!e.down&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var r=e.interaction,o=e.pointer,i=e.event,s=e.eventTarget;e.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&bo(e),ot({interaction:r,pointer:o,event:i,eventTarget:s,type:"move"},t))},"interactions:down":function(e,t){(function(r,o){for(var i=r.interaction,s=r.pointer,u=r.event,l=r.eventTarget,f=i.pointers[r.pointerIndex].hold,g=I.getPath(l),v={interaction:i,pointer:s,event:u,eventTarget:l,type:"hold",targets:[],path:g,node:null},b=0;b<g.length;b++)v.node=g[b],o.fire("pointerEvents:collect-targets",v);if(v.targets.length){for(var y=1/0,C=0;C<v.targets.length;C++){var x=v.targets[C].eventable.options.holdDuration;x<y&&(y=x)}f.duration=y,f.timeout=setTimeout(function(){ot({interaction:i,eventTarget:l,pointer:s,event:u,type:"hold"},o)},y)}})(e,t),ot(e,t)},"interactions:up":function(e,t){var r,i;bo(e),ot(e,t),(i=(r=e).interaction).pointerWasMoved||ot({interaction:i,eventTarget:r.eventTarget,pointer:r.pointer,event:r.event,type:"tap"},t)},"interactions:cancel":function(e,t){bo(e),ot(e,t)}},PointerEvent:Ct.PointerEvent,fire:ot,collectEventTargets:Vo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ot(e,t){var r=e.interaction,o=e.pointer,i=e.event,s=e.eventTarget,u=e.type,l=e.targets,c=void 0===l?Vo(e,t):l,f=new Ct.PointerEvent(u,o,i,s,r,t.now());t.fire("pointerEvents:new",{pointerEvent:f});for(var g={interaction:r,pointer:o,event:i,eventTarget:s,targets:c,type:u,pointerEvent:f},v=0;v<c.length;v++){var b=c[v];for(var T in b.props||{})f[T]=b.props[T];var y=(0,$e.default)(b.eventable,b.node);if(f._subtractOrigin(y),f.eventable=b.eventable,f.currentTarget=b.node,b.eventable.fire(f),f._addOrigin(y),f.immediatePropagationStopped||f.propagationStopped&&v+1<c.length&&c[v+1].node!==f.currentTarget)break}if(t.fire("pointerEvents:fired",g),"tap"===u){var C=f.double?ot({interaction:r,pointer:o,event:i,eventTarget:s,type:"doubletap"},t):f;r.prevTap=C,r.tapTime=C.timeStamp}return f}function Vo(e,t){var r=e.interaction,o=e.pointer,i=e.event,s=e.eventTarget,u=e.type,l=r.getPointerIndex(o),c=r.pointers[l];if("tap"===u&&(r.pointerWasMoved||!c||c.downTarget!==s))return[];for(var f=I.getPath(s),g={interaction:r,pointer:o,event:i,eventTarget:s,type:u,path:f,targets:[],node:null},v=0;v<f.length;v++)g.node=f[v],t.fire("pointerEvents:collect-targets",g);return"hold"===u&&(g.targets=g.targets.filter(function(T){var y;return T.eventable.options.holdDuration===(null==(y=r.pointers[l])?void 0:y.hold.duration)})),g.targets}function bo(e){var o=e.interaction.pointers[e.pointerIndex].hold;o&&o.timeout&&(clearTimeout(o.timeout),o.timeout=null)}Hn.default=kr;var wr={};function Si(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0;var xi={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Hn.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Si,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var r=e.interaction,o=e.pointerEvent,i=e.eventTarget,s=e.targets;if("hold"===o.type&&s.length){var u=s[0].eventable.options.holdRepeatInterval;u<=0||(r.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:r,eventTarget:i,type:"hold",pointer:o,event:o},t)},u))}}})};wr.default=xi;var Tr={};function Ei(e){return(0,E.default)(this.events.options,e),this}Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.default=void 0,Tr.default={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Ei;var r=t.prototype._backCompatOption;t.prototype._backCompatOption=function(o,i){var s=r.call(this,o,i);return s===this&&(this.events.options[o]=i),s}},listeners:{"pointerEvents:collect-targets":function(e,t){var r=e.targets,o=e.node,i=e.type,s=e.eventTarget;t.interactables.forEachMatch(o,function(u){var l=u.events;l.types[i]&&l.types[i].length&&u.testIgnoreAllow(l.options,o,s)&&r.push({node:o,eventable:l,props:{interactable:u}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(r){return t.getRect(r)}},"interactable:set":function(e,t){var r=e.interactable,o=e.options;(0,E.default)(r.events.options,t.pointerEvents.defaults),(0,E.default)(r.events.options,o.pointerEvents||{})}}};var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.default=void 0,Wn.default={id:"pointer-events",install:function(e){e.usePlugin(Hn),e.usePlugin(wr.default),e.usePlugin(Tr.default)}};var an={};function qo(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(r){return function(o,i,s){for(var u=w.default.string(o.target)?H.from(o._context.querySelectorAll(o.target)):[o.target],l=s.window.Promise,c=l?[]:null,f=function(){var v=u[g],b=o.getRect(v);if(!b)return"break";var T=H.find(s.interactions.list,function(R){return R.interacting()&&R.interactable===o&&R.element===v&&R.prepared.name===i.name}),y=void 0;if(T)T.move(),c&&(y=T._reflowPromise||new l(function(R){T._reflowResolve=R}));else{var C=(0,V.tlbrToXywh)(b),x={page:{x:C.x,y:C.y},client:{x:C.x,y:C.y},timeStamp:s.now()},P=F.coordsToEvent(x);y=function(R,$,N,W,X){var Y=R.interactions.new({pointerType:"reflow"}),q={interaction:Y,event:X,pointer:X,eventTarget:N,phase:"reflow"};Y.interactable=$,Y.element=N,Y.prevEvent=X,Y.updatePointer(X,X,N,!0),F.setZeroCoords(Y.coords.delta),(0,pe.copyAction)(Y.prepared,W),Y._doPhase(q);var Ce=R.window.Promise,We=Ce?new Ce(function(wo){Y._reflowResolve=wo}):void 0;return Y._reflowPromise=We,Y.start(W,$,N),Y._interacting?(Y.move(q),Y.end(X)):(Y.stop(),Y._reflowResolve()),Y.removePointer(X,X),We}(s,o,v,i,P)}c&&c.push(y)},g=0;g<u.length&&"break"!==f();g++);return c&&l.all(c).then(function(){return o})}(this,r,e)}}Object.defineProperty(an,"__esModule",{value:!0}),an.default=void 0,an.install=qo,an.default={id:"reflow",install:qo,listeners:{"interactions:stop":function(e,t){var r=e.interaction;"reflow"===r.pointerType&&(r._reflowResolve&&r._reflowResolve(),H.remove(t.interactions.list,r))}}};var Te={exports:{}};function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}if(Object.defineProperty(Te.exports,"__esModule",{value:!0}),Te.exports.default=void 0,ae.default.use(Ne.default),ae.default.use(Ee.default),ae.default.use(Wn.default),ae.default.use(Le.default),ae.default.use(Ln.default),ae.default.use(mt.default),ae.default.use(dt.default),ae.default.use(ke.default),ae.default.use(an.default),Te.exports.default=ae.default,"object"===_o(Te)&&Te)try{Te.exports=ae.default}catch{}ae.default.default=ae.default,Te=Te.exports;var Pt={exports:{}};function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}if(Object.defineProperty(Pt.exports,"__esModule",{value:!0}),Pt.exports.default=void 0,Pt.exports.default=Te.default,"object"===ko(Pt)&&Pt)try{Pt.exports=Te.default}catch{}return Te.default.default=Te.default,Pt.exports}()}}]);